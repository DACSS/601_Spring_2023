<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.427">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Kekai Liu">
<meta name="dcterms.date" content="2023-05-22">
<meta name="description" content="Race and Mortgage Lending in New York State">

<title>Final Project Assignment: Kekai Liu</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../images/DACSS_Round_Network.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

<script src="../site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="../site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">


<meta name="twitter:title" content="Final Project Assignment: Kekai Liu">
<meta name="twitter:description" content="Race and Mortgage Lending in New York State">
<meta name="twitter:image" content="https://dacss.github.io/601_Spring_2023/posts/KekaiLiu_final_project_assignment_files/figure-html/unnamed-chunk-8-1.png">
<meta name="twitter:creator" content="@UMassDACSS">
<meta name="twitter:site" content="@UMassDACSS">
<meta name="twitter:image-height" content="960">
<meta name="twitter:image-width" content="1344">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a href="../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../images/UMass White Wordmark Horiz.png" alt="" class="navbar-logo">
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="https://github.com/DACSS" rel="" target="">
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../about.html" rel="" target="">
 <span class="menu-text">Contributors</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://umass.edu/sbs/dacss" rel="" target="">
 <span class="menu-text">DACSS</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/DACSS" rel="" target=""><i class="bi bi-github" role="img" aria-label="GitHub">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#describe-the-data-sets" id="toc-describe-the-data-sets" class="nav-link active" data-scroll-target="#describe-the-data-sets">Introduction</a></li>
  <li><a href="#literature-review" id="toc-literature-review" class="nav-link" data-scroll-target="#literature-review">Literature Review</a></li>
  <li><a href="#dataset-introduction" id="toc-dataset-introduction" class="nav-link" data-scroll-target="#dataset-introduction">Dataset Introduction</a></li>
  <li><a href="#dataset-description" id="toc-dataset-description" class="nav-link" data-scroll-target="#dataset-description">Dataset Description</a></li>
  <li><a href="#descriptive-statistics" id="toc-descriptive-statistics" class="nav-link" data-scroll-target="#descriptive-statistics">Descriptive Statistics</a></li>
  <li><a href="#method-of-analysis" id="toc-method-of-analysis" class="nav-link" data-scroll-target="#method-of-analysis">Method of Analysis</a></li>
  <li><a href="#visual-analysis" id="toc-visual-analysis" class="nav-link" data-scroll-target="#visual-analysis">Visual Analysis</a>
  <ul class="collapse">
  <li><a href="#mortgage-applications-by-race" id="toc-mortgage-applications-by-race" class="nav-link" data-scroll-target="#mortgage-applications-by-race">Mortgage Applications by Race</a></li>
  <li><a href="#mortgage-applications-by-race-and-county" id="toc-mortgage-applications-by-race-and-county" class="nav-link" data-scroll-target="#mortgage-applications-by-race-and-county">Mortgage Applications by Race and County</a></li>
  <li><a href="#county-applicant-race-and-county-approval-rates" id="toc-county-applicant-race-and-county-approval-rates" class="nav-link" data-scroll-target="#county-applicant-race-and-county-approval-rates">County Applicant Race and County Approval Rates</a></li>
  </ul></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">Conclusion</a></li>
  <li><a href="#bibliography" id="toc-bibliography" class="nav-link" data-scroll-target="#bibliography">Bibliography</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">Final Project Assignment: Kekai Liu</h1><button type="button" class="btn code-tools-button" id="quarto-code-tools-source"><i class="bi"></i> Code</button></div></div>
  <div class="quarto-categories">
    <div class="quarto-category">final_Project_assignment</div>
    <div class="quarto-category">final_Project_mortgage</div>
  </div>
  </div>

<div>
  <div class="description">
    Race and Mortgage Lending in New York State
  </div>
</div>


<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Kekai Liu </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">May 22, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(grid)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggnewscale)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggtext)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(shadowtext)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gganimate)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(hrbrthemes)</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(maps)</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(usmap)</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">echo =</span> <span class="cn">TRUE</span>, <span class="at">warning=</span><span class="cn">FALSE</span>, <span class="at">message=</span><span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="describe-the-data-sets" class="level2">
<h2 class="anchored" data-anchor-id="describe-the-data-sets">Introduction</h2>
<p>Does race influence approvals of mortgage loan applications? This report analyzes individual mortgage loan applications submitted in New York State from 2008 to 2017, using publicly available data provided by the Consumer Financial Protection Bureau under the Home Mortgage Disclosure Act. This report finds that approval rates of mortgage loan applications in New York State vary by a fair margin based on the race of applicants. In New York State, non-Hispanic White and Asian applicants receive mortgage loan approvals at higher rates than Hispanics, Black, Pacific Islander, and Native American/Alaska Native applicants. Black and Native American/Alaska Native applicants have the lowest rates of mortgage loan approvals in New York State.</p>
</section>
<section id="literature-review" class="level2">
<h2 class="anchored" data-anchor-id="literature-review">Literature Review</h2>
<p>There are several studies on the relationship between race and mortgage lending. Munnell et al.&nbsp;(1996) analyzed lending data provided by Boston-area banks and a random sample of white mortgage applicants and found that Black and Hispanic mortgage applicants were less likely to be approved than White applicants in Boston. Cherian (2014) studied race and mortgage lending in Indianapolis from 1992 to 2013 and concluded that Black and Hispanic applicants were less likely to obtain a loan than White applicants, all else equal.</p>
<p>The existing literature implies that people of color are at a disadvantage when it comes to obtaining a mortgage. This implication is concerning because the usage of race in determining the outcome of a mortgage application is discriminatory. If minority applicants are less likely to be approved due to race as the existing literature suggests, then there are structural barriers preventing minorities from attaining homeownership. This report renews the discussion on race and mortgage lending by using more recent data and providing a case study of mortgage lending in New York State.</p>
</section>
<section id="dataset-introduction" class="level2">
<h2 class="anchored" data-anchor-id="dataset-introduction">Dataset Introduction</h2>
<p>The Home Mortgage Disclosure Act (1973) is a Congressional act which mandates financial entities and lenders to keep and report data on mortgage loans (Consumer Financial Protection Bureau 2023). This reported data under the Home Mortgage Disclosure Act (hereinafter referred to as HMDA) is maintained under the auspices of the Consumer Financial Protection Bureau, which publicly publishes the annual data on its website (Consumer Financial Protection Bureau 2017). The HMDA data contains all U.S. mortgage applications submitted by individuals to HMDA-reporting financial institutions. The HMDA data provides extensive detail on each mortgage application, such as the race, ethnicity, income of the applicant and co-applicants (if any) as well as the county of the property and size of loan requested. The HMDA data also reports on the outcome of the application, whether it was approved, denied, withdrawn, etc.</p>
</section>
<section id="dataset-description" class="level2">
<h2 class="anchored" data-anchor-id="dataset-description">Dataset Description</h2>
<p>The HMDA data includes information on the race (American Indian or Alaska Native, Asian, Black, Pacific Islander, White) and ethnicity (Hispanic or non-Hispanic) of applicants and co-applicants. This information was aggregated into a single race, known as hh_race (short for household race), per mortgage application for ease of analysis. If an applicant is White and Hispanic, then the applicant’s race is coded as “Hispanic.” If both the applicant and co-applicant are people of color but different races, then the race is coded as the same as the race of the main applicant. If only one out of the applicant and co-applicant are white, then the race is coded as the same as the race of the person of color. If applicants of color are at a disadvantage, as existing literature suggests, then applications filed jointly by White and non-White applicants are likely to be treated differently than applications by White applicants.</p>
<p>The HMDA data comes with a dictionary which provides descriptions of variables and numeric codes. This dictionary was used to extract relevant variables from the data for this report. In addition to the aforementioned race and ethnicity variables, the year of submission, the loan amount requested, the outcome of application, and county of the property for each application in New York State were retrieved and redefined to construct a dataset of analysis which contains the following columns: - year: year of application submission - hh_race: aggregated race of applicant and co-applicant - income: gross annual income of applicant in U.S. dollars - county: county of property on application - loan_amount: loan requested in U.S. dollars - action: outcome of the application</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">"C:/Users/16192/Documents/DACSS601/601_Spring_2023/posts/"</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Retrieve all dataset names in folder</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>filenames <span class="ot">&lt;-</span> <span class="fu">list.files</span>(<span class="st">"KekaiLiu_FinalProjectData"</span>) </span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in each dataset and assign it to a dataframe</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(filenames)) {                              </span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">assign</span>(<span class="fu">paste0</span>(<span class="st">"df_"</span>, i), <span class="fu">read_csv</span>(<span class="fu">paste0</span>(<span class="fu">getwd</span>(), <span class="st">"/KekaiLiu_FinalProjectData/"</span>, filenames[i]))) </span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine dataframes into a single dataframe and recode variables to standardized values</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>loans <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(df_1, df_2, df_3, df_4, df_5, df_6, df_7, df_8, df_9, df_10) <span class="sc">%&gt;%</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">year =</span> as_of_year,</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">loan_amount =</span> loan_amount_000s <span class="sc">*</span> <span class="dv">1000</span>,</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>        <span class="at">action =</span> <span class="fu">case_when</span>(action_taken <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">"loan originated"</span>, </span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>                           action_taken <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="st">"application approved but not accepted"</span>,</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>                           action_taken <span class="sc">==</span> <span class="dv">3</span> <span class="sc">~</span> <span class="st">"application denied by financial institution"</span>, </span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>                           action_taken <span class="sc">==</span> <span class="dv">4</span> <span class="sc">~</span> <span class="st">"application withdrawn by applicant"</span>,</span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>                           action_taken <span class="sc">==</span> <span class="dv">5</span> <span class="sc">~</span> <span class="st">"file closed for incompleteness"</span>,</span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>                           action_taken <span class="sc">==</span> <span class="dv">6</span> <span class="sc">~</span> <span class="st">"loan purchased by the institution"</span>,</span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>                           action_taken <span class="sc">==</span> <span class="dv">7</span> <span class="sc">~</span> <span class="st">"preapproval request denied by financial institution"</span>, </span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>                           action_taken <span class="sc">==</span> <span class="dv">8</span> <span class="sc">~</span> <span class="st">"preapproval request approved but not accepted"</span>),</span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>        <span class="at">ethnicity =</span> <span class="fu">case_when</span>(applicant_ethnicity <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">"hispanic or latino"</span>,</span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a>                              applicant_ethnicity <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="st">"not hispanic or latino"</span>,</span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a>                              applicant_ethnicity <span class="sc">==</span> <span class="dv">3</span> <span class="sc">~</span> <span class="st">"information not provided"</span>,</span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a>                              applicant_ethnicity <span class="sc">==</span> <span class="dv">4</span> <span class="sc">~</span> <span class="st">"not applicable"</span>),</span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a>        <span class="at">co_ethnicity =</span> <span class="fu">case_when</span>(co_applicant_ethnicity <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">"hispanic or latino"</span>,</span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a>                                 co_applicant_ethnicity <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="st">"not hispanic or latino"</span>,</span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a>                                 co_applicant_ethnicity <span class="sc">==</span> <span class="dv">3</span> <span class="sc">~</span> <span class="st">"information not provided"</span>,</span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a>                                 co_applicant_ethnicity <span class="sc">==</span> <span class="dv">4</span> <span class="sc">~</span> <span class="st">"not applicable"</span>,</span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a>                                 co_applicant_ethnicity <span class="sc">==</span> <span class="dv">5</span> <span class="sc">~</span> <span class="st">"no coapplicant"</span>),</span>
<span id="cb2-34"><a href="#cb2-34" aria-hidden="true" tabindex="-1"></a>        <span class="at">race =</span> <span class="fu">case_when</span>(applicant_race_1 <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">"american indian or alaska native"</span>,</span>
<span id="cb2-35"><a href="#cb2-35" aria-hidden="true" tabindex="-1"></a>                         applicant_race_1 <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="st">"asian"</span>, </span>
<span id="cb2-36"><a href="#cb2-36" aria-hidden="true" tabindex="-1"></a>                         applicant_race_1 <span class="sc">==</span> <span class="dv">3</span> <span class="sc">~</span> <span class="st">"black"</span>, </span>
<span id="cb2-37"><a href="#cb2-37" aria-hidden="true" tabindex="-1"></a>                         applicant_race_1 <span class="sc">==</span> <span class="dv">4</span> <span class="sc">~</span> <span class="st">"pacific islander"</span>, </span>
<span id="cb2-38"><a href="#cb2-38" aria-hidden="true" tabindex="-1"></a>                         applicant_race_1 <span class="sc">==</span> <span class="dv">5</span> <span class="sc">~</span> <span class="st">"white"</span>, </span>
<span id="cb2-39"><a href="#cb2-39" aria-hidden="true" tabindex="-1"></a>                         applicant_race_1 <span class="sc">==</span> <span class="dv">6</span> <span class="sc">~</span> <span class="st">"information not provided"</span>,</span>
<span id="cb2-40"><a href="#cb2-40" aria-hidden="true" tabindex="-1"></a>                         applicant_race_1 <span class="sc">==</span> <span class="dv">7</span> <span class="sc">~</span> <span class="st">"not applicable"</span>),</span>
<span id="cb2-41"><a href="#cb2-41" aria-hidden="true" tabindex="-1"></a>        <span class="at">co_race =</span> <span class="fu">case_when</span>(co_applicant_race_1 <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">"american indian or alaska native"</span>,</span>
<span id="cb2-42"><a href="#cb2-42" aria-hidden="true" tabindex="-1"></a>                            co_applicant_race_1 <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="st">"asian"</span>, </span>
<span id="cb2-43"><a href="#cb2-43" aria-hidden="true" tabindex="-1"></a>                            co_applicant_race_1 <span class="sc">==</span> <span class="dv">3</span> <span class="sc">~</span> <span class="st">"black"</span>, </span>
<span id="cb2-44"><a href="#cb2-44" aria-hidden="true" tabindex="-1"></a>                            co_applicant_race_1 <span class="sc">==</span> <span class="dv">4</span> <span class="sc">~</span> <span class="st">"pacific islander"</span>,</span>
<span id="cb2-45"><a href="#cb2-45" aria-hidden="true" tabindex="-1"></a>                            co_applicant_race_1 <span class="sc">==</span> <span class="dv">5</span> <span class="sc">~</span> <span class="st">"white"</span>,</span>
<span id="cb2-46"><a href="#cb2-46" aria-hidden="true" tabindex="-1"></a>                            co_applicant_race_1 <span class="sc">==</span> <span class="dv">6</span> <span class="sc">~</span> <span class="st">"information not provided"</span>,</span>
<span id="cb2-47"><a href="#cb2-47" aria-hidden="true" tabindex="-1"></a>                            co_applicant_race_1 <span class="sc">==</span> <span class="dv">7</span> <span class="sc">~</span> <span class="st">"not applicable"</span>,</span>
<span id="cb2-48"><a href="#cb2-48" aria-hidden="true" tabindex="-1"></a>                            co_applicant_race_1 <span class="sc">==</span> <span class="dv">8</span> <span class="sc">~</span> <span class="st">"no coapplicant"</span>),</span>
<span id="cb2-49"><a href="#cb2-49" aria-hidden="true" tabindex="-1"></a>        <span class="at">income =</span> applicant_income_000s <span class="sc">*</span> <span class="dv">1000</span>,</span>
<span id="cb2-50"><a href="#cb2-50" aria-hidden="true" tabindex="-1"></a>        <span class="at">county =</span> county_code <span class="sc">+</span> <span class="dv">36000</span>) <span class="sc">%&gt;%</span>   </span>
<span id="cb2-51"><a href="#cb2-51" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(year, loan_amount, action, ethnicity, co_ethnicity, race, co_race, income, county)</span>
<span id="cb2-52"><a href="#cb2-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-53"><a href="#cb2-53" aria-hidden="true" tabindex="-1"></a><span class="co"># Aggregate applicant and co-applicant race into a single race variable: hh_race</span></span>
<span id="cb2-54"><a href="#cb2-54" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb2-55"><a href="#cb2-55" aria-hidden="true" tabindex="-1"></a><span class="co"># Define race of household: if coapplicant is nonwhite, define that as race as household, if applicant and coapplicant are both white, but ethnicity is hispanic, define as hispanic</span></span>
<span id="cb2-56"><a href="#cb2-56" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb2-57"><a href="#cb2-57" aria-hidden="true" tabindex="-1"></a>    loans2 <span class="ot">&lt;-</span> loans <span class="sc">%&gt;%</span></span>
<span id="cb2-58"><a href="#cb2-58" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(<span class="at">hh_race =</span> <span class="fu">case_when</span>(</span>
<span id="cb2-59"><a href="#cb2-59" aria-hidden="true" tabindex="-1"></a>        co_race <span class="sc">!=</span> <span class="st">"white"</span> <span class="sc">&amp;</span> co_race <span class="sc">!=</span> <span class="st">"no coapplicant"</span> <span class="sc">~</span> co_race, </span>
<span id="cb2-60"><a href="#cb2-60" aria-hidden="true" tabindex="-1"></a>        race <span class="sc">==</span> <span class="st">"white"</span> <span class="sc">&amp;</span> co_race <span class="sc">==</span> <span class="st">"no coapplicant"</span> <span class="sc">&amp;</span> ethnicity <span class="sc">==</span> <span class="st">"hispanic or latino"</span> <span class="sc">~</span> <span class="st">"hispanic"</span>,</span>
<span id="cb2-61"><a href="#cb2-61" aria-hidden="true" tabindex="-1"></a>        race <span class="sc">==</span> <span class="st">"white"</span> <span class="sc">&amp;</span> co_race <span class="sc">==</span> <span class="st">"white"</span> <span class="sc">&amp;</span> (ethnicity <span class="sc">==</span> <span class="st">"hispanic or latino"</span> <span class="sc">|</span> co_ethnicity <span class="sc">==</span> <span class="st">"hispanic or latino"</span>) <span class="sc">~</span> <span class="st">"hispanic"</span>,</span>
<span id="cb2-62"><a href="#cb2-62" aria-hidden="true" tabindex="-1"></a>        <span class="cn">TRUE</span> <span class="sc">~</span> race)) <span class="sc">%&gt;%</span> </span>
<span id="cb2-63"><a href="#cb2-63" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select</span>(year, loan_amount, action, hh_race, income, county)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="descriptive-statistics" class="level2">
<h2 class="anchored" data-anchor-id="descriptive-statistics">Descriptive Statistics</h2>
<p>The constructed dataset has 5,183,081 rows corresponding to 5,183,081 mortgage application submitted in New York State from 2007-2018, and six columns corresponding to the six relevant variables for analysis.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Dimensions of data</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(loans2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5183081       6</code></pre>
</div>
</div>
<p>Table 1 displays the total number of mortgage applications submitted in New York State per year. Table 1A displays the the counts of each variable. If there is no missing data, then the count should equal 5,183,081 - the number of rows; income has 544,858 missing values and county has 11,910 missing values. These missing values do not affect analysis at the statewide level, as the two primary variables of interest are hh_race (representing the construct of race) and action (representing the construct of mortgage lending). So, rows with missing values for income and county do not need to be removed for state-level analysis.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Table of counts, by year</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>loans2 <span class="sc">%&gt;%</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year) <span class="sc">%&gt;%</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">count =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(year, count) <span class="sc">%&gt;%</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> year, <span class="at">values_from =</span> count) <span class="sc">%&gt;%</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kbl</span>(<span class="at">caption =</span> <span class="st">"Table 1. New York State Number of Mortgage Applications"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_classic</span>(<span class="at">html_font =</span> <span class="st">"Times New Roman"</span>, <span class="at">font_size=</span><span class="dv">16</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="lightable-classic table table-sm table-striped small" data-quarto-postprocess="true">
<caption>Table 1. New York State Number of Mortgage Applications</caption>
<thead>
<tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">2008</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2009</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2010</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2011</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2012</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2013</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2014</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2015</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2016</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2017</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">644647</td>
<td style="text-align: right;">645487</td>
<td style="text-align: right;">529869</td>
<td style="text-align: right;">503733</td>
<td style="text-align: right;">566980</td>
<td style="text-align: right;">539217</td>
<td style="text-align: right;">389279</td>
<td style="text-align: right;">439654</td>
<td style="text-align: right;">477313</td>
<td style="text-align: right;">446902</td>
</tr>
</tbody>
</table>


</div>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Table of non-missing vs. missing values for relevant variables</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>loans2 <span class="sc">%&gt;%</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">hhrace_non =</span> <span class="fu">sum</span>(<span class="sc">!</span><span class="fu">is.na</span>(hh_race)),</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">hhrace_missing =</span> <span class="fu">sum</span>(<span class="fu">is.na</span>(hh_race)),</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">year_non =</span> <span class="fu">sum</span>(<span class="sc">!</span><span class="fu">is.na</span>(year)),</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">year_missing =</span> <span class="fu">sum</span>(<span class="fu">is.na</span>(year)),</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">action_non =</span> <span class="fu">sum</span>(<span class="sc">!</span><span class="fu">is.na</span>(action)),</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">action_missing =</span> <span class="fu">sum</span>(<span class="fu">is.na</span>(action)),</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">income_non =</span> <span class="fu">sum</span>(<span class="sc">!</span><span class="fu">is.na</span>(income)),</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">income_missing =</span> <span class="fu">sum</span>(<span class="fu">is.na</span>(income)),</span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">amount_non =</span> <span class="fu">sum</span>(<span class="sc">!</span><span class="fu">is.na</span>(loan_amount)),</span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">amount_missing =</span> <span class="fu">sum</span>(<span class="fu">is.na</span>(loan_amount)),</span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">county_non =</span> <span class="fu">sum</span>(<span class="sc">!</span><span class="fu">is.na</span>(county)),</span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">county_missing =</span> <span class="fu">sum</span>(<span class="fu">is.na</span>(county))</span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(hhrace_non, hhrace_missing, year_non, year_missing, action_non, action_missing, income_non, income_missing, amount_non, amount_missing, county_non, county_missing) <span class="sc">%&gt;%</span></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">everything</span>(), <span class="at">names_to =</span> <span class="fu">c</span>(<span class="st">"variable"</span>, <span class="st">"missing"</span>), <span class="at">names_sep =</span> <span class="st">"_"</span>, <span class="at">values_to =</span> <span class="st">"count"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">variable =</span> <span class="fu">case_when</span>(variable <span class="sc">==</span> <span class="st">"hhrace"</span> <span class="sc">~</span> <span class="st">"hh_race"</span>, variable <span class="sc">==</span> <span class="st">"amount"</span> <span class="sc">~</span> <span class="st">"loan_amount"</span>, <span class="cn">TRUE</span> <span class="sc">~</span> variable), <span class="at">missing =</span> <span class="fu">case_when</span>(missing <span class="sc">==</span> <span class="st">"non"</span> <span class="sc">~</span> <span class="st">"no"</span>, missing <span class="sc">==</span> <span class="st">"missing"</span> <span class="sc">~</span> <span class="st">"yes"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kbl</span>(<span class="at">caption =</span> <span class="st">"Table 1A. New York State Mortgage Applications, Variable Counts 2008-2017"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_classic</span>(<span class="at">html_font =</span> <span class="st">"Times New Roman"</span>, <span class="at">font_size=</span><span class="dv">16</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">row_spec</span>(<span class="fu">seq</span>(<span class="dv">2</span>, <span class="dv">12</span>, <span class="dv">2</span>), <span class="at">extra_css =</span> <span class="st">"border-bottom: 0.5px dashed;"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="lightable-classic table table-sm table-striped small" data-quarto-postprocess="true">
<caption>Table 1A. New York State Mortgage Applications, Variable Counts 2008-2017</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">variable</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">missing</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">count</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">hh_race</td>
<td style="text-align: left;">no</td>
<td style="text-align: right;">5183081</td>
</tr>
<tr class="even">
<td style="text-align: left; border-bottom: 0.5px dashed;">hh_race</td>
<td style="text-align: left; border-bottom: 0.5px dashed;">yes</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">year</td>
<td style="text-align: left;">no</td>
<td style="text-align: right;">5183081</td>
</tr>
<tr class="even">
<td style="text-align: left; border-bottom: 0.5px dashed;">year</td>
<td style="text-align: left; border-bottom: 0.5px dashed;">yes</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">action</td>
<td style="text-align: left;">no</td>
<td style="text-align: right;">5183081</td>
</tr>
<tr class="even">
<td style="text-align: left; border-bottom: 0.5px dashed;">action</td>
<td style="text-align: left; border-bottom: 0.5px dashed;">yes</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">income</td>
<td style="text-align: left;">no</td>
<td style="text-align: right;">4638223</td>
</tr>
<tr class="even">
<td style="text-align: left; border-bottom: 0.5px dashed;">income</td>
<td style="text-align: left; border-bottom: 0.5px dashed;">yes</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">544858</td>
</tr>
<tr class="odd">
<td style="text-align: left;">loan_amount</td>
<td style="text-align: left;">no</td>
<td style="text-align: right;">5183081</td>
</tr>
<tr class="even">
<td style="text-align: left; border-bottom: 0.5px dashed;">loan_amount</td>
<td style="text-align: left; border-bottom: 0.5px dashed;">yes</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">county</td>
<td style="text-align: left;">no</td>
<td style="text-align: right;">5171171</td>
</tr>
<tr class="even">
<td style="text-align: left; border-bottom: 0.5px dashed;">county</td>
<td style="text-align: left; border-bottom: 0.5px dashed;">yes</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">11910</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>Table 1B and Table 1C breakdown mortgage applications in New York State by the race of applicant. Irrespective of the year, White applicants outnumber applicants of other races by far; White applicants make up around 60% of all applicants. Native Americans and Pacific Islander applicants are the fewest in number, representing less than one percent of all applicants. Some mortgage applications do not report race, or the applicants fail to self-report. These applications do not need to be redefined or removed, because they do not affect the comparisons between different applicants by race.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Summary Statistics of Relevant Categorical Variables (count for unique values)</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>loans2 <span class="sc">%&gt;%</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(hh_race, year) <span class="sc">%&gt;%</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">hh_race =</span> <span class="fu">factor</span>(hh_race)) <span class="sc">%&gt;%</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">table</span>() <span class="sc">%&gt;%</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kbl</span>(<span class="at">caption =</span> <span class="st">"Table 1B. New York State Mortgage Loan Applicants, by Race"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_classic</span>(<span class="at">html_font =</span> <span class="st">"Times New Roman"</span>, <span class="at">font_size=</span><span class="dv">16</span>) <span class="sc">%&gt;%</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">row_spec</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">8</span>, <span class="at">extra_css =</span> <span class="st">"border-bottom: 0.5px dashed;"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="lightable-classic table table-sm table-striped small" data-quarto-postprocess="true">
<caption>Table 1B. New York State Mortgage Loan Applicants, by Race</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2008</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2009</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2010</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2011</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2012</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2013</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2014</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2015</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2016</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2017</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left; border-bottom: 0.5px dashed;">american indian or alaska native</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">3519</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">2503</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">1851</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">1738</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">2020</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">2017</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">1701</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">1911</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">2175</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">2231</td>
</tr>
<tr class="even">
<td style="text-align: left; border-bottom: 0.5px dashed;">asian</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">35297</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">33659</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">31457</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">29484</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">33437</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">34205</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">25716</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">29323</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">33919</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">34725</td>
</tr>
<tr class="odd">
<td style="text-align: left; border-bottom: 0.5px dashed;">black</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">55577</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">39025</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">31964</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">29268</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">31296</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">32694</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">25417</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">29200</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">33083</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">30699</td>
</tr>
<tr class="even">
<td style="text-align: left; border-bottom: 0.5px dashed;">hispanic</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">34841</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">26910</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">23329</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">22050</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">24680</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">25037</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">19003</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">22419</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">25946</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">24445</td>
</tr>
<tr class="odd">
<td style="text-align: left; border-bottom: 0.5px dashed;">information not provided</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">94762</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">87390</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">71487</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">63976</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">65068</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">59260</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">39885</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">48473</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">57349</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">58768</td>
</tr>
<tr class="even">
<td style="text-align: left; border-bottom: 0.5px dashed;">not applicable</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">43280</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">64668</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">27039</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">38279</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">42829</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">52349</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">43373</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">50625</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">49800</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">48822</td>
</tr>
<tr class="odd">
<td style="text-align: left; border-bottom: 0.5px dashed;">pacific islander</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">3073</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">2174</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">1714</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">1648</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">1789</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">1724</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">1237</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">1427</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">1611</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">1461</td>
</tr>
<tr class="even">
<td style="text-align: left; border-bottom: 0.5px dashed;">white</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">374298</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">389158</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">341028</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">317290</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">365861</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">331931</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">232947</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">256276</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">273430</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">245751</td>
</tr>
</tbody>
</table>


</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>loans2 <span class="sc">%&gt;%</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(hh_race, year) <span class="sc">%&gt;%</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">hh_race =</span> <span class="fu">factor</span>(hh_race)) <span class="sc">%&gt;%</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">table</span>() <span class="sc">%&gt;%</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">prop.table</span>(<span class="at">margin =</span> <span class="dv">2</span>) <span class="sc">%&gt;%</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">round</span>(<span class="dv">2</span>) <span class="sc">%&gt;%</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kbl</span>(<span class="at">caption =</span> <span class="st">"Table 1C. New York State Mortgage Loan Applicants, by Race (Proportion)"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_classic</span>(<span class="at">html_font =</span> <span class="st">"Times New Roman"</span>, <span class="at">font_size=</span><span class="dv">16</span>) <span class="sc">%&gt;%</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">row_spec</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">8</span>, <span class="at">extra_css =</span> <span class="st">"border-bottom: 0.5px dashed;"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="lightable-classic table table-sm table-striped small" data-quarto-postprocess="true">
<caption>Table 1C. New York State Mortgage Loan Applicants, by Race (Proportion)</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2008</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2009</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2010</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2011</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2012</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2013</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2014</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2015</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2016</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2017</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left; border-bottom: 0.5px dashed;">american indian or alaska native</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.01</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.00</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.00</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.00</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.00</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.00</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.00</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.00</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.00</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.00</td>
</tr>
<tr class="even">
<td style="text-align: left; border-bottom: 0.5px dashed;">asian</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.05</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.05</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.06</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.06</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.06</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.06</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.07</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.07</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.07</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.08</td>
</tr>
<tr class="odd">
<td style="text-align: left; border-bottom: 0.5px dashed;">black</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.09</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.06</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.06</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.06</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.06</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.06</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.07</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.07</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.07</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.07</td>
</tr>
<tr class="even">
<td style="text-align: left; border-bottom: 0.5px dashed;">hispanic</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.05</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.04</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.04</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.04</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.04</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.05</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.05</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.05</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.05</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.05</td>
</tr>
<tr class="odd">
<td style="text-align: left; border-bottom: 0.5px dashed;">information not provided</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.15</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.14</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.13</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.13</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.11</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.11</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.10</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.11</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.12</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.13</td>
</tr>
<tr class="even">
<td style="text-align: left; border-bottom: 0.5px dashed;">not applicable</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.07</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.10</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.05</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.08</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.08</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.10</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.11</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.12</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.10</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.11</td>
</tr>
<tr class="odd">
<td style="text-align: left; border-bottom: 0.5px dashed;">pacific islander</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.00</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.00</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.00</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.00</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.00</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.00</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.00</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.00</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.00</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.00</td>
</tr>
<tr class="even">
<td style="text-align: left; border-bottom: 0.5px dashed;">white</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.58</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.60</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.64</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.63</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.65</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.62</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.60</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.58</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.57</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.55</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>Table 2A lists the counts of the different possible outcomes of a mortgage application. The most common outcomes are “loan originated” which means the loan was approved by the mortgage lender and accepted by the applicant and “application denied by financial institution” which means that the application was rejected. It is important to note “application approved but not accepted” which indicates that the lender granted the mortgage but the applicant did not accept the loan. The outcomes “loan originated” and “application approved but not accepted” constitute cases where mortgage applications were approved, while the outcome “application denied by financial institution” represent cases where mortgage applications were rejected; and so, analysis will focus on cases with these outcomes.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>loans2 <span class="sc">%&gt;%</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">action =</span> <span class="fu">factor</span>(action)) <span class="sc">%&gt;%</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(action, year) <span class="sc">%&gt;%</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">table</span>() <span class="sc">%&gt;%</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kbl</span>(<span class="at">caption =</span> <span class="st">"Table 2A. New York State Mortgage Loan Applications, by Result"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_classic</span>(<span class="at">html_font =</span> <span class="st">"Times New Roman"</span>, <span class="at">font_size=</span><span class="dv">16</span>) <span class="sc">%&gt;%</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">row_spec</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">8</span>, <span class="at">extra_css =</span> <span class="st">"border-bottom: 0.5px dashed;"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="lightable-classic table table-sm table-striped small" data-quarto-postprocess="true">
<caption>Table 2A. New York State Mortgage Loan Applications, by Result</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2008</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2009</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2010</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2011</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2012</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2013</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2014</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2015</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2016</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2017</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left; border-bottom: 0.5px dashed;">application approved but not accepted</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">50730</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">34360</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">24995</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">24274</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">25632</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">26353</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">14760</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">14180</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">14453</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">15647</td>
</tr>
<tr class="even">
<td style="text-align: left; border-bottom: 0.5px dashed;">application denied by financial institution</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">169452</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">128255</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">107592</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">102704</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">109423</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">99619</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">75427</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">79697</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">85288</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">68255</td>
</tr>
<tr class="odd">
<td style="text-align: left; border-bottom: 0.5px dashed;">application withdrawn by applicant</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">62495</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">65484</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">52895</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">45295</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">50563</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">40054</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">31162</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">39496</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">45397</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">47506</td>
</tr>
<tr class="even">
<td style="text-align: left; border-bottom: 0.5px dashed;">file closed for incompleteness</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">21322</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">20613</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">20444</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">20591</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">20585</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">20765</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">14840</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">16733</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">21297</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">19397</td>
</tr>
<tr class="odd">
<td style="text-align: left; border-bottom: 0.5px dashed;">loan originated</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">252826</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">281652</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">252729</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">238554</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">285106</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">271829</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">198817</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">228054</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">246292</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">236499</td>
</tr>
<tr class="even">
<td style="text-align: left; border-bottom: 0.5px dashed;">loan purchased by the institution</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">87785</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">114896</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">71212</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">72247</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">75241</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">79878</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">54257</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">61490</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">64582</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">59584</td>
</tr>
<tr class="odd">
<td style="text-align: left; border-bottom: 0.5px dashed;">preapproval request approved but not accepted</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">22</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">3</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">2</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">3</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">259</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">528</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">16</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">1</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">3</td>
</tr>
<tr class="even">
<td style="text-align: left; border-bottom: 0.5px dashed;">preapproval request denied by financial institution</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">15</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">224</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">65</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">171</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">191</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">4</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">3</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">11</td>
</tr>
</tbody>
</table>


</div>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>loans2 <span class="sc">%&gt;%</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">action =</span> <span class="fu">factor</span>(action)) <span class="sc">%&gt;%</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(action, year) <span class="sc">%&gt;%</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">table</span>() <span class="sc">%&gt;%</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">prop.table</span>(<span class="at">margin =</span> <span class="dv">2</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">round</span>(<span class="dv">2</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kbl</span>(<span class="at">caption =</span> <span class="st">"Table 2B. New York State Mortgage Loan Applications, by Result (Proportion)"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_classic</span>(<span class="at">html_font =</span> <span class="st">"Times New Roman"</span>, <span class="at">font_size=</span><span class="dv">16</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">row_spec</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">8</span>, <span class="at">extra_css =</span> <span class="st">"border-bottom: 0.5px dashed;"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="lightable-classic table table-sm table-striped small" data-quarto-postprocess="true">
<caption>Table 2B. New York State Mortgage Loan Applications, by Result (Proportion)</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2008</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2009</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2010</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2011</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2012</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2013</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2014</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2015</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2016</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2017</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left; border-bottom: 0.5px dashed;">application approved but not accepted</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.08</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.05</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.05</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.05</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.05</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.05</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.04</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.03</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.03</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.04</td>
</tr>
<tr class="even">
<td style="text-align: left; border-bottom: 0.5px dashed;">application denied by financial institution</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.26</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.20</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.20</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.20</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.19</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.18</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.19</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.18</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.18</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.15</td>
</tr>
<tr class="odd">
<td style="text-align: left; border-bottom: 0.5px dashed;">application withdrawn by applicant</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.10</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.10</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.10</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.09</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.09</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.07</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.08</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.09</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.10</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.11</td>
</tr>
<tr class="even">
<td style="text-align: left; border-bottom: 0.5px dashed;">file closed for incompleteness</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.03</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.03</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.04</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.04</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.04</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.04</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.04</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.04</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.04</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.04</td>
</tr>
<tr class="odd">
<td style="text-align: left; border-bottom: 0.5px dashed;">loan originated</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.39</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.44</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.48</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.47</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.50</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.50</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.51</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.52</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.52</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.53</td>
</tr>
<tr class="even">
<td style="text-align: left; border-bottom: 0.5px dashed;">loan purchased by the institution</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.14</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.18</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.13</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.14</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.13</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.15</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.14</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.14</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.14</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.13</td>
</tr>
<tr class="odd">
<td style="text-align: left; border-bottom: 0.5px dashed;">preapproval request approved but not accepted</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.00</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.00</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.00</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.00</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.00</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.00</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.00</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.00</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.00</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.00</td>
</tr>
<tr class="even">
<td style="text-align: left; border-bottom: 0.5px dashed;">preapproval request denied by financial institution</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.00</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.00</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.00</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.00</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.00</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.00</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.00</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.00</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.00</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">0.00</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>Table 3A and Table 3B provide summaries of the loan amount requested and income of New York State mortgage applicants. The median loan amount is fairly stable over time, hovering around 200,000. The mean loan amount jumps to over 300,000 in 2013 and forward, implying that the presence of extremely high loans requested during these years; this is corroborated by the sd or standard deviation, which represents the variation in loan amount, going up dramatically since 2013.</p>
<p>On the other hand, median and mean income are fairly stable. Mean and median income do experience minor growth since 2008, likely due to the economic recovery after the 2008-09 financial crisis.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Summary Statistics of Relevant Numeric Variables (min, max, mean, standard deviation, median)</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Loan Amount (Min, Max, Mean, Standard Deviation, Median)</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>loans2 <span class="sc">%&gt;%</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year) <span class="sc">%&gt;%</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">min =</span> <span class="fu">min</span>(loan_amount, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean =</span> <span class="fu">mean</span>(loan_amount, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">median =</span> <span class="fu">median</span>(loan_amount, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">max =</span> <span class="fu">max</span>(loan_amount, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">sd =</span> <span class="fu">sd</span>(loan_amount, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> year, <span class="at">values_from =</span> <span class="fu">c</span>(min, mean, median, max, sd)) <span class="sc">%&gt;%</span></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">everything</span>(),</span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="fu">c</span>(<span class="st">" "</span>, <span class="st">"year"</span>),</span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_sep =</span> <span class="st">"_"</span>,</span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">"value"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> year, <span class="at">values_from =</span> value) <span class="sc">%&gt;%</span></span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kbl</span>(<span class="at">caption =</span> <span class="st">"Table 3A. New York State Mortgage Applicants, Loan Amount"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_classic</span>(<span class="at">html_font =</span> <span class="st">"Times New Roman"</span>, <span class="at">font_size=</span><span class="dv">16</span>) <span class="sc">%&gt;%</span></span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">row_spec</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="at">extra_css =</span> <span class="st">"border-bottom: 0.5px dashed;"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="lightable-classic table table-sm table-striped small" data-quarto-postprocess="true">
<caption>Table 3A. New York State Mortgage Applicants, Loan Amount</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2008</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2009</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2010</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2011</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2012</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2013</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2014</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2015</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2016</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2017</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left; border-bottom: 0.5px dashed;">min</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">1000.0</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">1000.0</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">1000.0</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">1000.0</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">1000.0</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">1000.0</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">1000.0</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">1000.0</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">1000</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">1000.0</td>
</tr>
<tr class="even">
<td style="text-align: left; border-bottom: 0.5px dashed;">mean</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">271268.9</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">253113.8</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">271049.1</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">276343.8</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">280326.0</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">313985.8</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">311726.5</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">333324.3</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">338045</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">350746.5</td>
</tr>
<tr class="odd">
<td style="text-align: left; border-bottom: 0.5px dashed;">median</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">186000.0</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">198000.0</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">200000.0</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">195000.0</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">197000.0</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">198000.0</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">188000.0</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">208000.0</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">219000</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">214000.0</td>
</tr>
<tr class="even">
<td style="text-align: left; border-bottom: 0.5px dashed;">max</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">99999000.0</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">99999000.0</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">99999000.0</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">99999000.0</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">99999000.0</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">99999000.0</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">99999000.0</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">99999000.0</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">99999000</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">3400000000.0</td>
</tr>
<tr class="odd">
<td style="text-align: left; border-bottom: 0.5px dashed;">sd</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">607425.3</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">413036.0</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">644513.3</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">734245.3</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">777233.5</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">1294076.1</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">1245574.9</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">1173204.2</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">1229039</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">5364808.5</td>
</tr>
</tbody>
</table>


</div>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Applicant Income (Min, Max, Mean, Standard Deviation, Median)</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>loans2 <span class="sc">%&gt;%</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year) <span class="sc">%&gt;%</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">min =</span> <span class="fu">min</span>(income, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean =</span> <span class="fu">mean</span>(income, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">median =</span> <span class="fu">median</span>(income, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">max =</span> <span class="fu">max</span>(income, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">sd =</span> <span class="fu">sd</span>(income, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> year, <span class="at">values_from =</span> <span class="fu">c</span>(min, mean, median, max, sd)) <span class="sc">%&gt;%</span></span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">everything</span>(),</span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="fu">c</span>(<span class="st">" "</span>, <span class="st">"year"</span>),</span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_sep =</span> <span class="st">"_"</span>,</span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">"value"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> year, <span class="at">values_from =</span> value) <span class="sc">%&gt;%</span></span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kbl</span>(<span class="at">caption =</span> <span class="st">"Table 3B. New York State Mortgage Applicants, Income"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_classic</span>(<span class="at">html_font =</span> <span class="st">"Times New Roman"</span>, <span class="at">font_size=</span><span class="dv">16</span>) <span class="sc">%&gt;%</span></span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">row_spec</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="at">extra_css =</span> <span class="st">"border-bottom: 0.5px dashed;"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="lightable-classic table table-sm table-striped small" data-quarto-postprocess="true">
<caption>Table 3B. New York State Mortgage Applicants, Income</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2008</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2009</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2010</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2011</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2012</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2013</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2014</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2015</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2016</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2017</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left; border-bottom: 0.5px dashed;">min</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">1000.0</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">1000.0</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">1000.0</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">1000.0</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">1000.0</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">1000.0</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">1000.0</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">1000.0</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">1000.0</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">1000.0</td>
</tr>
<tr class="even">
<td style="text-align: left; border-bottom: 0.5px dashed;">mean</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">123649.9</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">124135.7</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">133566.1</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">137607.2</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">137878.5</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">138394.0</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">133923.2</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">140145.8</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">142128.6</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">142305.1</td>
</tr>
<tr class="odd">
<td style="text-align: left; border-bottom: 0.5px dashed;">median</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">82000.0</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">85000.0</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">88000.0</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">88000.0</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">90000.0</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">89000.0</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">86000.0</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">90000.0</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">92000.0</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">93000.0</td>
</tr>
<tr class="even">
<td style="text-align: left; border-bottom: 0.5px dashed;">max</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">9999000.0</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">9999000.0</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">9999000.0</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">9999000.0</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">9999000.0</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">9999000.0</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">9999000.0</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">9999000.0</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">9999000.0</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">133549000.0</td>
</tr>
<tr class="odd">
<td style="text-align: left; border-bottom: 0.5px dashed;">sd</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">245251.4</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">235859.2</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">251541.3</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">269473.1</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">254423.4</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">261226.4</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">262183.5</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">268471.3</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">280818.4</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">388612.9</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>Chart 1 plots the average loan requested by New York State mortgage applicants by race. Asian applicants consistently request the largest loans, while Native American/Alaskan Native applicants consistently request the smallest loans.</p>
<p>Chart 2 plots the average income of New York State mortgage applicants by race. Asian and non-Hispanic White applicants generally have the highest incomes, while Native American/Alaskan Native applicants generally have the lowest incomes.</p>
<p>The two charts indicate that the rankings of average loan requested and average income by applicant race are not necessarily matching. For example, non-Hispanic White applicants have the second highest average income, but they do not request the second highest average loans. This goes against the general reasoning that higher income individuals qualify for higher loans and so request larger mortgages. Also, Black applicants have the lowest average income, but they do not typically request the lowest average loan amount.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define colors to use in the ensuing plots</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>PURPLE <span class="ot">&lt;-</span> <span class="st">"#800080"</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>GREEN <span class="ot">&lt;-</span> <span class="st">"#2FC1D3"</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>BLUE <span class="ot">&lt;-</span> <span class="st">"#076FA1"</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>GREY <span class="ot">&lt;-</span> <span class="st">"#C7C9CB"</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>DARK_GREY <span class="ot">&lt;-</span> <span class="st">"#5C5B5D"</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>RED <span class="ot">&lt;-</span> <span class="st">"#E3120B"</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a><span class="co"># **Chart 1.** New York State Mortgage Applicants, Average Loan</span></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot labels and label positions for Chart 1</span></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>line_labels<span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Native"</span>, <span class="st">"Asian"</span>, <span class="st">"Black"</span>, <span class="st">"Hispanic"</span>, <span class="st">"Pacific Islander"</span>, <span class="st">"White"</span>),</span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="fu">c</span>(<span class="fu">ymd</span>(<span class="dv">20160101</span>), <span class="fu">ymd</span>(<span class="dv">20160101</span>), <span class="fu">ymd</span>(<span class="dv">20140101</span>), <span class="fu">ymd</span>(<span class="dv">20090101</span>), <span class="fu">ymd</span>(<span class="dv">20150101</span>), <span class="fu">ymd</span>(<span class="dv">20100101</span>)),</span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> <span class="fu">c</span>(<span class="dv">222000</span>, <span class="dv">410000</span>, <span class="dv">229000</span>, <span class="dv">288000</span>, <span class="dv">243000</span>, <span class="dv">225000</span>),</span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">color =</span> <span class="fu">c</span>(BLUE, DARK_GREY, RED, PURPLE, GREY, GREEN))</span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a>loans2 <span class="sc">%&gt;%</span> </span>
<span id="cb13-21"><a href="#cb13-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(hh_race, year) <span class="sc">%&gt;%</span>  </span>
<span id="cb13-22"><a href="#cb13-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(loan_amount), hh_race <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"white"</span>, <span class="st">"black"</span>, <span class="st">"hispanic"</span>, <span class="st">"asian"</span>, <span class="st">"pacific islander"</span>, <span class="st">"american indian or alaska native"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb13-23"><a href="#cb13-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean_loan =</span> <span class="fu">mean</span>(loan_amount)) <span class="sc">%&gt;%</span></span>
<span id="cb13-24"><a href="#cb13-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">date =</span> <span class="fu">ymd</span>(<span class="fu">paste0</span>(year, <span class="st">"0101"</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb13-25"><a href="#cb13-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(date, mean_loan)) <span class="sc">+</span></span>
<span id="cb13-26"><a href="#cb13-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">color =</span> hh_race), <span class="at">size =</span> <span class="fl">1.4</span>) <span class="sc">+</span></span>
<span id="cb13-27"><a href="#cb13-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(</span>
<span id="cb13-28"><a href="#cb13-28" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">fill =</span> hh_race), </span>
<span id="cb13-29"><a href="#cb13-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="fl">1.5</span>, </span>
<span id="cb13-30"><a href="#cb13-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">pch =</span> <span class="dv">21</span>, </span>
<span id="cb13-31"><a href="#cb13-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"white"</span>, </span>
<span id="cb13-32"><a href="#cb13-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">stroke =</span> <span class="dv">1</span> </span>
<span id="cb13-33"><a href="#cb13-33" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb13-34"><a href="#cb13-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(BLUE, DARK_GREY, RED, PURPLE, GREY, GREEN)) <span class="sc">+</span></span>
<span id="cb13-35"><a href="#cb13-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(BLUE, DARK_GREY, RED, PURPLE, GREY, GREEN)) <span class="sc">+</span> </span>
<span id="cb13-36"><a href="#cb13-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(</span>
<span id="cb13-37"><a href="#cb13-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">limits =</span> <span class="fu">c</span>(<span class="fu">ymd</span>(<span class="dv">20070701</span>), <span class="fu">ymd</span>(<span class="dv">20170701</span>)),</span>
<span id="cb13-38"><a href="#cb13-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>), </span>
<span id="cb13-39"><a href="#cb13-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">breaks =</span> <span class="fu">c</span>(<span class="fu">ymd</span>(<span class="dv">20080101</span>), <span class="fu">ymd</span>(<span class="dv">20090101</span>), <span class="fu">ymd</span>(<span class="dv">20100101</span>), <span class="fu">ymd</span>(<span class="dv">20110101</span>), <span class="fu">ymd</span>(<span class="dv">20120101</span>), <span class="fu">ymd</span>(<span class="dv">20130101</span>), <span class="fu">ymd</span>(<span class="dv">20140101</span>), <span class="fu">ymd</span>(<span class="dv">20150101</span>), <span class="fu">ymd</span>(<span class="dv">20160101</span>), <span class="fu">ymd</span>(<span class="dv">20170101</span>)), </span>
<span id="cb13-40"><a href="#cb13-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"2008"</span>, <span class="st">"2009"</span>, <span class="st">"2010"</span>, <span class="st">"2011"</span>, <span class="st">"2012"</span>, <span class="st">"2013"</span>, <span class="st">"2014"</span>, <span class="st">"2015"</span>, <span class="st">"2016"</span>, <span class="st">"2017"</span>)) <span class="sc">+</span></span>
<span id="cb13-41"><a href="#cb13-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(</span>
<span id="cb13-42"><a href="#cb13-42" aria-hidden="true" tabindex="-1"></a>    <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">175000</span>, <span class="dv">475000</span>),</span>
<span id="cb13-43"><a href="#cb13-43" aria-hidden="true" tabindex="-1"></a>    <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>),</span>
<span id="cb13-44"><a href="#cb13-44" aria-hidden="true" tabindex="-1"></a>    <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">200000</span>, <span class="dv">225000</span>, <span class="dv">250000</span>, <span class="dv">275000</span>, <span class="dv">300000</span>, <span class="dv">325000</span>, <span class="dv">350000</span>, <span class="dv">375000</span>, <span class="dv">400000</span>, <span class="dv">425000</span>, <span class="dv">450000</span>),</span>
<span id="cb13-45"><a href="#cb13-45" aria-hidden="true" tabindex="-1"></a>    <span class="at">labels=</span>scales<span class="sc">::</span><span class="fu">dollar_format</span>()) <span class="sc">+</span></span>
<span id="cb13-46"><a href="#cb13-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"**Chart 1.** New York State Mortgage Applicants, Average Loan"</span>) <span class="sc">+</span></span>
<span id="cb13-47"><a href="#cb13-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb13-48"><a href="#cb13-48" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"none"</span>,</span>
<span id="cb13-49"><a href="#cb13-49" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.minor.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb13-50"><a href="#cb13-50" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.major.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb13-51"><a href="#cb13-51" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.minor.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb13-52"><a href="#cb13-52" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb13-53"><a href="#cb13-53" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_markdown</span>(</span>
<span id="cb13-54"><a href="#cb13-54" aria-hidden="true" tabindex="-1"></a>      <span class="at">family =</span> <span class="st">"Econ Sans Cnd"</span>, </span>
<span id="cb13-55"><a href="#cb13-55" aria-hidden="true" tabindex="-1"></a>      <span class="at">size =</span> <span class="dv">12</span>, </span>
<span id="cb13-56"><a href="#cb13-56" aria-hidden="true" tabindex="-1"></a>      <span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb13-57"><a href="#cb13-57" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb13-58"><a href="#cb13-58" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>)) <span class="sc">+</span></span>
<span id="cb13-59"><a href="#cb13-59" aria-hidden="true" tabindex="-1"></a>  <span class="fu">new_scale_color</span>() <span class="sc">+</span> </span>
<span id="cb13-60"><a href="#cb13-60" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_shadowtext</span>( </span>
<span id="cb13-61"><a href="#cb13-61" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(x, y, <span class="at">label =</span> labels, <span class="at">color =</span> color),</span>
<span id="cb13-62"><a href="#cb13-62" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> line_labels,</span>
<span id="cb13-63"><a href="#cb13-63" aria-hidden="true" tabindex="-1"></a>    <span class="at">hjust =</span> <span class="dv">0</span>, </span>
<span id="cb13-64"><a href="#cb13-64" aria-hidden="true" tabindex="-1"></a>    <span class="at">bg.colour =</span> <span class="st">"white"</span>, </span>
<span id="cb13-65"><a href="#cb13-65" aria-hidden="true" tabindex="-1"></a>    <span class="at">bg.r =</span> <span class="fl">0.4</span>, </span>
<span id="cb13-66"><a href="#cb13-66" aria-hidden="true" tabindex="-1"></a>    <span class="at">family =</span> <span class="st">"Econ Sans Cnd"</span>,</span>
<span id="cb13-67"><a href="#cb13-67" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="fl">3.5</span>) <span class="sc">+</span> </span>
<span id="cb13-68"><a href="#cb13-68" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_identity</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="KekaiLiu_final_project_assignment_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># **Chart 2.** New York State Mortgage Applicants, Average Income</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot labels and label positions for Chart 2</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>line_labels<span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Native"</span>, <span class="st">"Asian"</span>, <span class="st">"Black"</span>, <span class="st">"Hispanic"</span>, <span class="st">"Pacific Islander"</span>, <span class="st">"White"</span>),</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="fu">c</span>(<span class="fu">ymd</span>(<span class="dv">20150701</span>), <span class="fu">ymd</span>(<span class="dv">20150701</span>), <span class="fu">ymd</span>(<span class="dv">20150701</span>), <span class="fu">ymd</span>(<span class="dv">20150701</span>), <span class="fu">ymd</span>(<span class="dv">20150701</span>), <span class="fu">ymd</span>(<span class="dv">20150701</span>)),</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> <span class="fu">c</span>(<span class="dv">105000</span>, <span class="dv">152000</span>, <span class="dv">95000</span>, <span class="dv">111000</span>, <span class="dv">119000</span>, <span class="dv">137000</span>),</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">color =</span> <span class="fu">c</span>(BLUE, DARK_GREY, RED, PURPLE, GREY, GREEN))</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>loans2 <span class="sc">%&gt;%</span></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(hh_race, year) <span class="sc">%&gt;%</span> </span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(income), hh_race <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"white"</span>, <span class="st">"black"</span>, <span class="st">"hispanic"</span>, <span class="st">"asian"</span>, <span class="st">"pacific islander"</span>, <span class="st">"american indian or alaska native"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean_income =</span> <span class="fu">mean</span>(income)) <span class="sc">%&gt;%</span></span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">date =</span> <span class="fu">ymd</span>(<span class="fu">paste0</span>(year, <span class="st">"0101"</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(date, mean_income)) <span class="sc">+</span></span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">color =</span> hh_race), <span class="at">size =</span> <span class="fl">1.4</span>) <span class="sc">+</span></span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(</span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">fill =</span> hh_race), </span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="fl">1.5</span>, </span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">pch =</span> <span class="dv">21</span>, </span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"white"</span>, </span>
<span id="cb14-23"><a href="#cb14-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">stroke =</span> <span class="dv">1</span> </span>
<span id="cb14-24"><a href="#cb14-24" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb14-25"><a href="#cb14-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(BLUE, DARK_GREY, RED, PURPLE, GREY, GREEN)) <span class="sc">+</span></span>
<span id="cb14-26"><a href="#cb14-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(BLUE, DARK_GREY, RED, PURPLE, GREY, GREEN)) <span class="sc">+</span> </span>
<span id="cb14-27"><a href="#cb14-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(</span>
<span id="cb14-28"><a href="#cb14-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">limits =</span> <span class="fu">c</span>(<span class="fu">ymd</span>(<span class="dv">20070701</span>), <span class="fu">ymd</span>(<span class="dv">20170701</span>)),</span>
<span id="cb14-29"><a href="#cb14-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>), </span>
<span id="cb14-30"><a href="#cb14-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">breaks =</span> <span class="fu">c</span>(<span class="fu">ymd</span>(<span class="dv">20080101</span>), <span class="fu">ymd</span>(<span class="dv">20090101</span>), <span class="fu">ymd</span>(<span class="dv">20100101</span>), <span class="fu">ymd</span>(<span class="dv">20110101</span>), <span class="fu">ymd</span>(<span class="dv">20120101</span>), <span class="fu">ymd</span>(<span class="dv">20130101</span>), <span class="fu">ymd</span>(<span class="dv">20140101</span>), <span class="fu">ymd</span>(<span class="dv">20150101</span>), <span class="fu">ymd</span>(<span class="dv">20160101</span>), <span class="fu">ymd</span>(<span class="dv">20170101</span>)), </span>
<span id="cb14-31"><a href="#cb14-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"2008"</span>, <span class="st">"2009"</span>, <span class="st">"2010"</span>, <span class="st">"2011"</span>, <span class="st">"2012"</span>, <span class="st">"2013"</span>, <span class="st">"2014"</span>, <span class="st">"2015"</span>, <span class="st">"2016"</span>, <span class="st">"2017"</span>)) <span class="sc">+</span></span>
<span id="cb14-32"><a href="#cb14-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(</span>
<span id="cb14-33"><a href="#cb14-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">85000</span>, <span class="dv">165000</span>),</span>
<span id="cb14-34"><a href="#cb14-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>),</span>
<span id="cb14-35"><a href="#cb14-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">90000</span>, <span class="dv">100000</span>, <span class="dv">110000</span>, <span class="dv">120000</span>, <span class="dv">130000</span>, <span class="dv">140000</span>, <span class="dv">150000</span>, <span class="dv">160000</span>),</span>
<span id="cb14-36"><a href="#cb14-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">labels=</span>scales<span class="sc">::</span><span class="fu">dollar_format</span>()) <span class="sc">+</span></span>
<span id="cb14-37"><a href="#cb14-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"**Chart 2.** New York State Mortgage Loan Applicants, Average Income"</span>) <span class="sc">+</span></span>
<span id="cb14-38"><a href="#cb14-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb14-39"><a href="#cb14-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"none"</span>,</span>
<span id="cb14-40"><a href="#cb14-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.minor.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb14-41"><a href="#cb14-41" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.major.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb14-42"><a href="#cb14-42" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.minor.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb14-43"><a href="#cb14-43" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb14-44"><a href="#cb14-44" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_markdown</span>(</span>
<span id="cb14-45"><a href="#cb14-45" aria-hidden="true" tabindex="-1"></a>      <span class="at">family =</span> <span class="st">"Econ Sans Cnd"</span>, </span>
<span id="cb14-46"><a href="#cb14-46" aria-hidden="true" tabindex="-1"></a>      <span class="at">size =</span> <span class="dv">12</span>, </span>
<span id="cb14-47"><a href="#cb14-47" aria-hidden="true" tabindex="-1"></a>      <span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb14-48"><a href="#cb14-48" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb14-49"><a href="#cb14-49" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>)) <span class="sc">+</span></span>
<span id="cb14-50"><a href="#cb14-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">new_scale_color</span>() <span class="sc">+</span> </span>
<span id="cb14-51"><a href="#cb14-51" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_shadowtext</span>( </span>
<span id="cb14-52"><a href="#cb14-52" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(x, y, <span class="at">label =</span> labels, <span class="at">color =</span> color),</span>
<span id="cb14-53"><a href="#cb14-53" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> line_labels,</span>
<span id="cb14-54"><a href="#cb14-54" aria-hidden="true" tabindex="-1"></a>    <span class="at">hjust =</span> <span class="dv">0</span>, </span>
<span id="cb14-55"><a href="#cb14-55" aria-hidden="true" tabindex="-1"></a>    <span class="at">bg.colour =</span> <span class="st">"white"</span>, </span>
<span id="cb14-56"><a href="#cb14-56" aria-hidden="true" tabindex="-1"></a>    <span class="at">bg.r =</span> <span class="fl">0.4</span>, </span>
<span id="cb14-57"><a href="#cb14-57" aria-hidden="true" tabindex="-1"></a>    <span class="at">family =</span> <span class="st">"Econ Sans Cnd"</span>,</span>
<span id="cb14-58"><a href="#cb14-58" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="fl">3.5</span>) <span class="sc">+</span> </span>
<span id="cb14-59"><a href="#cb14-59" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_identity</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="KekaiLiu_final_project_assignment_files/figure-html/unnamed-chunk-8-2.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="method-of-analysis" class="level2">
<h2 class="anchored" data-anchor-id="method-of-analysis">Method of Analysis</h2>
<p>To analyze whether race affects mortgage approvals, the approval and denial rates of mortgage applications by race of applicant will be compared. The approval and denial rates of mortgage applicants, segmented by race, will be plotted over time. If there is a fairly large and consistent gap between in approval or denial rates between races across time , then there may exist a systematic race-based effect on mortgage outcomes.</p>
<p>To ensure the robustness of initial analyses, geographic or spatial variation in mortgage approvals between counties will be analyzed. Mortgage approval rates by race and county will be represented on county-level maps of New York State. These maps are “geographic heat maps,” which represent the level of approval rates in a county by the shade of a color - the deeper the color, the higher the approval rate. If a race effect on mortgage lending is implied at the statewide level and a specific race of applicant consistently has lower (or higher) approval rates across counties, then the race-based effect is not confined to a single region but is in fact prevalent across the state.</p>
<p>Lastly, the demographic variation in each county will be considered. The HMDA data does not provide a racial breakdown of counties by race, but the percent of applicants by race can be used to represent county demographics. It may be the case that a county with a greater (smaller) number of applicants of a specific race will have higher (lower) mortgage approval rates for said race. The county percentage of applicants of a specific race will be compared against the county mortgage approval rates of said race to analyze such a possibility.</p>
</section>
<section id="visual-analysis" class="level2">
<h2 class="anchored" data-anchor-id="visual-analysis">Visual Analysis</h2>
<section id="mortgage-applications-by-race" class="level3">
<h3 class="anchored" data-anchor-id="mortgage-applications-by-race">Mortgage Applications by Race</h3>
<p>Chart 3 plots the percentage of mortgage applications denied by applicant race, and Chart 4 plots the percentage of mortgage applications approved by applicant race.</p>
<p>The percentage of mortgage applications denied by applicant race is calculated by comparing the number of mortgage denials for applicants of a specific race against the total number of mortgage denials submitted by applicants of said race. Similarly, the percentage of mortgage applications approved by applicant race is calculated by comparing the number of mortgage approvals for applicants of a specific race against the total number of mortgage approvals submitted by applicants of said race.</p>
<p>Chart 3 shows that Native American/Alaskan Native applicants are denied at higher rates than applicants of other races, with denial rates consistently over 30 percent. Non-Hispanic White and Asian applicants have the lowest denial rates, with rates consistently under 25 percent.</p>
<p>Chart 4 shows a similar ranking, as Native American/Alaskan Native applicants are approved at the lowest or second lowest rates and non-Hispanic and Asian applicants having the highest approval rates. Black applicants were approved at the lowest rates in 2008-2009 and in 2011-2013, but since then have been approved at the second lowest rates.</p>
<p>Both Chart 3 and Chart 4 display similar trends between the approval and denial rates of the different races of applicants - the gaps between the races remain largely the same over time.</p>
<p>For example, the denial rate for Native American/Alaskan Native applicants was around 43 percent in 2008 while the denial rate for Asian applicants was around 25 percent in 2008 - a difference of 18 percent; the denial rate for Native American/Alaskan Native applicants was 30 percent and 15 percent for Asian applicants in 2017 - a difference of 15 percent.</p>
<p>Similarly, the approval rate for non-Hispanic white applicants was around 46 percent in 2008 while the approval rate for Black applicants was around 27 percent in 2008 - a difference of 19 percent; the approval rate for non-Hispanic white applicants was 62 percent and 45 percent for Black applicants in 2017 - a difference of 17 percent.</p>
<p>The stable and fairly large differences between applicants by race across time imply that a systematic race effect may be present when it comes to decisions made by mortgage lenders. The presence of a systematic race effect on mortgage lending in New York State is supported by the observation that two specific races of applicants are consistently at the top of mortgage approvals and at the bottom of mortgage denials while one specific race of applicant is consistently at the bottom of mortgage approvals and at the top of mortgage approvals.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># **Chart 3.** New York State Mortgage Applications, % Denied</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot labels and label positions for Chart 3</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>line_labels<span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Native"</span>, <span class="st">"Asian"</span>, <span class="st">"Black"</span>, <span class="st">"Hispanic"</span>, <span class="st">"Pacific Islander"</span>, <span class="st">"White"</span>),</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="fu">c</span>(<span class="fu">ymd</span>(<span class="dv">20150101</span>), <span class="fu">ymd</span>(<span class="dv">20140101</span>), <span class="fu">ymd</span>(<span class="dv">20150101</span>), <span class="fu">ymd</span>(<span class="dv">20140101</span>), <span class="fu">ymd</span>(<span class="dv">20140101</span>), <span class="fu">ymd</span>(<span class="dv">20150101</span>)),</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> <span class="fu">c</span>(<span class="fl">0.39</span>, <span class="fl">0.215</span>, <span class="fl">0.31</span>, <span class="fl">0.265</span>, <span class="fl">0.345</span>, <span class="fl">0.16</span>),</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">color =</span> <span class="fu">c</span>(BLUE, DARK_GREY, RED, PURPLE, GREY, GREEN))</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>loans3 <span class="ot">&lt;-</span> loans2 <span class="sc">%&gt;%</span></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(hh_race, year) <span class="sc">%&gt;%</span></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">count_yr_race =</span> <span class="fu">n</span>(), </span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>         <span class="at">denial_yr_race =</span> <span class="fu">sum</span>(action <span class="sc">==</span> <span class="st">"application denied by financial institution"</span>),</span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_denial_yr_race =</span> <span class="fu">round</span>(denial_yr_race <span class="sc">/</span> count_yr_race, <span class="dv">3</span>),</span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a>         <span class="at">approval_yr_race =</span> <span class="fu">sum</span>(action <span class="sc">==</span> <span class="st">"loan originated"</span> <span class="sc">|</span> action <span class="sc">==</span> <span class="st">"application </span></span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a><span class="st">                                approved but not accepted"</span>),</span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_approval_yr_race =</span> <span class="fu">round</span>(approval_yr_race <span class="sc">/</span> count_yr_race, <span class="dv">3</span>))</span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a>loans3 <span class="sc">%&gt;%</span></span>
<span id="cb15-21"><a href="#cb15-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(hh_race, year) <span class="sc">%&gt;%</span> </span>
<span id="cb15-22"><a href="#cb15-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(hh_race <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"white"</span>, <span class="st">"black"</span>, <span class="st">"hispanic"</span>, <span class="st">"asian"</span>, <span class="st">"pacific islander"</span>, <span class="st">"american indian or alaska native"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb15-23"><a href="#cb15-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">date =</span> <span class="fu">ymd</span>(<span class="fu">paste0</span>(year, <span class="st">"0101"</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb15-24"><a href="#cb15-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(hh_race, date, percent_denial_yr_race) <span class="sc">%&gt;%</span></span>
<span id="cb15-25"><a href="#cb15-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(date, percent_denial_yr_race)) <span class="sc">+</span></span>
<span id="cb15-26"><a href="#cb15-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">color =</span> hh_race), <span class="at">size =</span> <span class="fl">1.4</span>) <span class="sc">+</span></span>
<span id="cb15-27"><a href="#cb15-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(</span>
<span id="cb15-28"><a href="#cb15-28" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">fill =</span> hh_race), </span>
<span id="cb15-29"><a href="#cb15-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="fl">1.5</span>, </span>
<span id="cb15-30"><a href="#cb15-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">pch =</span> <span class="dv">21</span>, </span>
<span id="cb15-31"><a href="#cb15-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"white"</span>, </span>
<span id="cb15-32"><a href="#cb15-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">stroke =</span> <span class="dv">1</span> </span>
<span id="cb15-33"><a href="#cb15-33" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb15-34"><a href="#cb15-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(BLUE, DARK_GREY, RED, PURPLE, GREY, GREEN)) <span class="sc">+</span></span>
<span id="cb15-35"><a href="#cb15-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(BLUE, DARK_GREY, RED, PURPLE, GREY, GREEN)) <span class="sc">+</span> </span>
<span id="cb15-36"><a href="#cb15-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(</span>
<span id="cb15-37"><a href="#cb15-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">limits =</span> <span class="fu">c</span>(<span class="fu">ymd</span>(<span class="dv">20070701</span>), <span class="fu">ymd</span>(<span class="dv">20170701</span>)),</span>
<span id="cb15-38"><a href="#cb15-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>), </span>
<span id="cb15-39"><a href="#cb15-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">breaks =</span> <span class="fu">c</span>(<span class="fu">ymd</span>(<span class="dv">20080101</span>), <span class="fu">ymd</span>(<span class="dv">20090101</span>), <span class="fu">ymd</span>(<span class="dv">20100101</span>), <span class="fu">ymd</span>(<span class="dv">20110101</span>), <span class="fu">ymd</span>(<span class="dv">20120101</span>), <span class="fu">ymd</span>(<span class="dv">20130101</span>), <span class="fu">ymd</span>(<span class="dv">20140101</span>), <span class="fu">ymd</span>(<span class="dv">20150101</span>), <span class="fu">ymd</span>(<span class="dv">20160101</span>), <span class="fu">ymd</span>(<span class="dv">20170101</span>)), </span>
<span id="cb15-40"><a href="#cb15-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"2008"</span>, <span class="st">"2009"</span>, <span class="st">"2010"</span>, <span class="st">"2011"</span>, <span class="st">"2012"</span>, <span class="st">"2013"</span>, <span class="st">"2014"</span>, <span class="st">"2015"</span>, <span class="st">"2016"</span>, <span class="st">"2017"</span>)) <span class="sc">+</span></span>
<span id="cb15-41"><a href="#cb15-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(</span>
<span id="cb15-42"><a href="#cb15-42" aria-hidden="true" tabindex="-1"></a>    <span class="at">limits =</span> <span class="fu">c</span>(<span class="fl">0.07</span>, <span class="fl">0.47</span>),</span>
<span id="cb15-43"><a href="#cb15-43" aria-hidden="true" tabindex="-1"></a>    <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>),</span>
<span id="cb15-44"><a href="#cb15-44" aria-hidden="true" tabindex="-1"></a>    <span class="at">breaks =</span> <span class="fu">c</span>(<span class="fl">0.1</span>, <span class="fl">0.15</span>, <span class="fl">0.2</span>, <span class="fl">0.25</span>, <span class="fl">0.3</span>, <span class="fl">0.35</span>, <span class="fl">0.4</span>, <span class="fl">0.45</span>),</span>
<span id="cb15-45"><a href="#cb15-45" aria-hidden="true" tabindex="-1"></a>    <span class="at">labels=</span>scales<span class="sc">::</span><span class="fu">percent_format</span>()) <span class="sc">+</span></span>
<span id="cb15-46"><a href="#cb15-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"**Chart 3.** New York State Mortgage Applications, % Denied"</span>) <span class="sc">+</span></span>
<span id="cb15-47"><a href="#cb15-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb15-48"><a href="#cb15-48" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"none"</span>,</span>
<span id="cb15-49"><a href="#cb15-49" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.minor.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb15-50"><a href="#cb15-50" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.major.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb15-51"><a href="#cb15-51" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.minor.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb15-52"><a href="#cb15-52" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb15-53"><a href="#cb15-53" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_markdown</span>(</span>
<span id="cb15-54"><a href="#cb15-54" aria-hidden="true" tabindex="-1"></a>      <span class="at">family =</span> <span class="st">"Econ Sans Cnd"</span>, </span>
<span id="cb15-55"><a href="#cb15-55" aria-hidden="true" tabindex="-1"></a>      <span class="at">size =</span> <span class="dv">12</span>, </span>
<span id="cb15-56"><a href="#cb15-56" aria-hidden="true" tabindex="-1"></a>      <span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb15-57"><a href="#cb15-57" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb15-58"><a href="#cb15-58" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>)) <span class="sc">+</span></span>
<span id="cb15-59"><a href="#cb15-59" aria-hidden="true" tabindex="-1"></a>  <span class="fu">new_scale_color</span>() <span class="sc">+</span> </span>
<span id="cb15-60"><a href="#cb15-60" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_shadowtext</span>( </span>
<span id="cb15-61"><a href="#cb15-61" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(x, y, <span class="at">label =</span> labels, <span class="at">color =</span> color),</span>
<span id="cb15-62"><a href="#cb15-62" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> line_labels,</span>
<span id="cb15-63"><a href="#cb15-63" aria-hidden="true" tabindex="-1"></a>    <span class="at">hjust =</span> <span class="dv">0</span>, </span>
<span id="cb15-64"><a href="#cb15-64" aria-hidden="true" tabindex="-1"></a>    <span class="at">bg.colour =</span> <span class="st">"white"</span>, </span>
<span id="cb15-65"><a href="#cb15-65" aria-hidden="true" tabindex="-1"></a>    <span class="at">bg.r =</span> <span class="fl">0.4</span>, </span>
<span id="cb15-66"><a href="#cb15-66" aria-hidden="true" tabindex="-1"></a>    <span class="at">family =</span> <span class="st">"Econ Sans Cnd"</span>,</span>
<span id="cb15-67"><a href="#cb15-67" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="fl">3.5</span>) <span class="sc">+</span> </span>
<span id="cb15-68"><a href="#cb15-68" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_identity</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="KekaiLiu_final_project_assignment_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># **Chart 4.** New York State Mortgage Applications, % Approved</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot labels and label positions for Chart 4</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>line_labels<span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Native"</span>, <span class="st">"Asian"</span>, <span class="st">"Black"</span>, <span class="st">"Hispanic"</span>, <span class="st">"Pacific Islander"</span>, <span class="st">"White"</span>),</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="fu">c</span>(<span class="fu">ymd</span>(<span class="dv">20160101</span>), <span class="fu">ymd</span>(<span class="dv">20160101</span>), <span class="fu">ymd</span>(<span class="dv">20120101</span>), <span class="fu">ymd</span>(<span class="dv">20150101</span>), <span class="fu">ymd</span>(<span class="dv">20150101</span>), <span class="fu">ymd</span>(<span class="dv">20150101</span>)),</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> <span class="fu">c</span>(<span class="fl">0.36</span>, <span class="fl">0.564</span>, <span class="fl">0.365</span>, <span class="fl">0.54</span>, <span class="fl">0.498</span>, <span class="fl">0.628</span>),</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">color =</span> <span class="fu">c</span>(BLUE, DARK_GREY, RED, PURPLE, GREY, GREEN))</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>loans3 <span class="sc">%&gt;%</span></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(hh_race, year) <span class="sc">%&gt;%</span> </span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(hh_race <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"white"</span>, <span class="st">"black"</span>, <span class="st">"hispanic"</span>, <span class="st">"asian"</span>, <span class="st">"pacific islander"</span>, <span class="st">"american indian or alaska native"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">date =</span> <span class="fu">ymd</span>(<span class="fu">paste0</span>(year, <span class="st">"0101"</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(hh_race, date, percent_approval_yr_race) <span class="sc">%&gt;%</span></span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(date, percent_approval_yr_race)) <span class="sc">+</span></span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">color =</span> hh_race), <span class="at">size =</span> <span class="fl">1.4</span>) <span class="sc">+</span></span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(</span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">fill =</span> hh_race), </span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="fl">1.5</span>, </span>
<span id="cb16-21"><a href="#cb16-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">pch =</span> <span class="dv">21</span>, </span>
<span id="cb16-22"><a href="#cb16-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"white"</span>, </span>
<span id="cb16-23"><a href="#cb16-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">stroke =</span> <span class="dv">1</span> </span>
<span id="cb16-24"><a href="#cb16-24" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb16-25"><a href="#cb16-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(BLUE, DARK_GREY, RED, PURPLE, GREY, GREEN)) <span class="sc">+</span></span>
<span id="cb16-26"><a href="#cb16-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(BLUE, DARK_GREY, RED, PURPLE, GREY, GREEN)) <span class="sc">+</span> </span>
<span id="cb16-27"><a href="#cb16-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(</span>
<span id="cb16-28"><a href="#cb16-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">limits =</span> <span class="fu">c</span>(<span class="fu">ymd</span>(<span class="dv">20070701</span>), <span class="fu">ymd</span>(<span class="dv">20170701</span>)),</span>
<span id="cb16-29"><a href="#cb16-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>), </span>
<span id="cb16-30"><a href="#cb16-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">breaks =</span> <span class="fu">c</span>(<span class="fu">ymd</span>(<span class="dv">20080101</span>), <span class="fu">ymd</span>(<span class="dv">20090101</span>), <span class="fu">ymd</span>(<span class="dv">20100101</span>), <span class="fu">ymd</span>(<span class="dv">20110101</span>), <span class="fu">ymd</span>(<span class="dv">20120101</span>), <span class="fu">ymd</span>(<span class="dv">20130101</span>), <span class="fu">ymd</span>(<span class="dv">20140101</span>), <span class="fu">ymd</span>(<span class="dv">20150101</span>), <span class="fu">ymd</span>(<span class="dv">20160101</span>), <span class="fu">ymd</span>(<span class="dv">20170101</span>)), </span>
<span id="cb16-31"><a href="#cb16-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"2008"</span>, <span class="st">"2009"</span>, <span class="st">"2010"</span>, <span class="st">"2011"</span>, <span class="st">"2012"</span>, <span class="st">"2013"</span>, <span class="st">"2014"</span>, <span class="st">"2015"</span>, <span class="st">"2016"</span>, <span class="st">"2017"</span>)) <span class="sc">+</span></span>
<span id="cb16-32"><a href="#cb16-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(</span>
<span id="cb16-33"><a href="#cb16-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">limits =</span> <span class="fu">c</span>(<span class="fl">0.23</span>, <span class="fl">0.67</span>),</span>
<span id="cb16-34"><a href="#cb16-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>),</span>
<span id="cb16-35"><a href="#cb16-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">breaks =</span> <span class="fu">c</span>(<span class="fl">0.25</span>, <span class="fl">0.3</span>, <span class="fl">0.35</span>, <span class="fl">0.4</span>, <span class="fl">0.45</span>, <span class="fl">0.5</span>, <span class="fl">0.55</span>, <span class="fl">0.6</span>, <span class="fl">0.65</span>),</span>
<span id="cb16-36"><a href="#cb16-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">labels=</span>scales<span class="sc">::</span><span class="fu">percent_format</span>()) <span class="sc">+</span></span>
<span id="cb16-37"><a href="#cb16-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"**Chart 4.** New York State Mortgage Applications, % Approved"</span>) <span class="sc">+</span></span>
<span id="cb16-38"><a href="#cb16-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb16-39"><a href="#cb16-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"none"</span>,</span>
<span id="cb16-40"><a href="#cb16-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.minor.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb16-41"><a href="#cb16-41" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.major.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb16-42"><a href="#cb16-42" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.minor.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb16-43"><a href="#cb16-43" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb16-44"><a href="#cb16-44" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_markdown</span>(</span>
<span id="cb16-45"><a href="#cb16-45" aria-hidden="true" tabindex="-1"></a>      <span class="at">family =</span> <span class="st">"Econ Sans Cnd"</span>, </span>
<span id="cb16-46"><a href="#cb16-46" aria-hidden="true" tabindex="-1"></a>      <span class="at">size =</span> <span class="dv">12</span>, </span>
<span id="cb16-47"><a href="#cb16-47" aria-hidden="true" tabindex="-1"></a>      <span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb16-48"><a href="#cb16-48" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb16-49"><a href="#cb16-49" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>)) <span class="sc">+</span></span>
<span id="cb16-50"><a href="#cb16-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">new_scale_color</span>() <span class="sc">+</span> </span>
<span id="cb16-51"><a href="#cb16-51" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_shadowtext</span>( </span>
<span id="cb16-52"><a href="#cb16-52" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(x, y, <span class="at">label =</span> labels, <span class="at">color =</span> color),</span>
<span id="cb16-53"><a href="#cb16-53" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> line_labels,</span>
<span id="cb16-54"><a href="#cb16-54" aria-hidden="true" tabindex="-1"></a>    <span class="at">hjust =</span> <span class="dv">0</span>, </span>
<span id="cb16-55"><a href="#cb16-55" aria-hidden="true" tabindex="-1"></a>    <span class="at">bg.colour =</span> <span class="st">"white"</span>, </span>
<span id="cb16-56"><a href="#cb16-56" aria-hidden="true" tabindex="-1"></a>    <span class="at">bg.r =</span> <span class="fl">0.4</span>, </span>
<span id="cb16-57"><a href="#cb16-57" aria-hidden="true" tabindex="-1"></a>    <span class="at">family =</span> <span class="st">"Econ Sans Cnd"</span>,</span>
<span id="cb16-58"><a href="#cb16-58" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="fl">3.5</span>) <span class="sc">+</span> </span>
<span id="cb16-59"><a href="#cb16-59" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_identity</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="KekaiLiu_final_project_assignment_files/figure-html/unnamed-chunk-9-2.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="mortgage-applications-by-race-and-county" class="level3">
<h3 class="anchored" data-anchor-id="mortgage-applications-by-race-and-county">Mortgage Applications by Race and County</h3>
<p>Next, the geographic influence on the relationship between race and mortgage application outcomes is analyzed. Analysis has been streamlined to focus on four groups: non-White Hispanics, Asians, Blacks, and Native Americans/Alaska Natives. These were the four groups consistently at the top or bottom of mortgage approval rates as shown in the earlier analysis.</p>
<p>Recall in the introductory analysis that there were applications with counties missing. To conduct the ensuing analysis, these counties must be removed. The HMDA data contains the metropolitan statistical area and census tract for each county, but these geographical designations span multiple counties. It would be an exhaustive exercise to impute a county; in addition, if the imputation is very inaccurate, it would heavily influence the ensuing analysis.</p>
<p>Maps 1, 2, 3, 4 display mortgage approval rates at the county-level in New York State by applicant race.</p>
<p>Map 1 shows that non-Hispanic white applicants across the state have approval rates higher than 40 percent. There are a myriad of counties, concentrated in the middle of the state, where non-Hispanic white applicants have approval ratings of higher than 60 percent.</p>
<p>Maps 2, 3, 4 shows that spatial variation exists when it comes to approval rates for non-White applicants. Asian, Black, and Native American/Alaskan applicants noticeably have counties which are either white or very light in color, indicating low approval rates, and counties which are in darker shades of blue, indicating high approval rates. These spatial differences imply that the experiences of non-White applicants in New York State differ based on location. In some counties, a non-White applicant may have greater chances of approval than in other counties.</p>
<p>Table 4A and 4B identify the three top counties and three bottom counties in terms of mortgage approval rates by applicant race. The lowest county approval rates for Native American/Alaskan Native are around 24 percent and the highest county approval rate for Native American/Alaskan Native is 72 percent. The lowest county approval rates for non-Hispanic White are around 45 percent, while the highest county rate is 73 percent. The range for the Native American/Alaskan Native and other non-White county approval rates are fairly larger than the range for the non-Hispanic White county approval rates - meaning that the variation amongst counties for non-White applicants is greater than the variation amongst counties for non-Hispanic White applicants. To drive home the point, Black applicants in Franklin County have 23 percent approval rates while Black applicants in Hamilton County have 71 percent approval rates - a whopping difference of 48 percent.</p>
<p>Tables 4A and 4B back up the relative lack of spatial variation in approval rates amongst non-Hispanic White applicants and the presence of spatial variation in approval rates amongst non-White applicants observed in the maps.</p>
<p>In conclusion, geographic variation in mortgage approval rates appear to be largely absent for non-Hispanic White applicants. Non-Hispanic White applicants experience relatively high mortgage approval rates across New York State, while non-White applicants experience high or low approval rates depending on the county. These results suggest that the implied race effect on mortgage application outcomes at the state level may be concentrated in a few select counties rather than hold true across the entirely of the state.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Merge fips data with main dataset</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>counties <span class="ot">&lt;-</span> county.fips <span class="sc">%&gt;%</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>() <span class="sc">%&gt;%</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">state =</span> <span class="fu">sub</span>(<span class="st">",.*"</span>, <span class="st">""</span>, polyname),</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">county_name =</span> <span class="fu">sub</span>(<span class="st">".*,"</span>, <span class="st">""</span>, polyname),</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">county =</span> fips) <span class="sc">%&gt;%</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(county, state, county_name) <span class="sc">%&gt;%</span></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(state <span class="sc">==</span> <span class="st">"new york"</span>)</span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>loans4 <span class="ot">&lt;-</span> <span class="fu">left_join</span>(loans3, counties, <span class="at">by =</span> <span class="st">"county"</span>)</span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Map approval % for white applicants, all years, by New York county</span></span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a>loans_white <span class="ot">&lt;-</span> loans4 <span class="sc">%&gt;%</span> </span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(hh_race, county) <span class="sc">%&gt;%</span></span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">count_race =</span> <span class="fu">n</span>(), </span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a>         <span class="at">fips =</span> county,</span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a>         <span class="at">denial_race =</span> <span class="fu">sum</span>(action <span class="sc">==</span> <span class="st">"application denied by financial institution"</span>),</span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_denial_race =</span> <span class="fu">round</span>(denial_race <span class="sc">/</span> count_race, <span class="dv">3</span>),</span>
<span id="cb17-21"><a href="#cb17-21" aria-hidden="true" tabindex="-1"></a>         <span class="at">approval_race =</span> <span class="fu">sum</span>(action <span class="sc">==</span> <span class="st">"loan originated"</span> <span class="sc">|</span> action <span class="sc">==</span> <span class="st">"application </span></span>
<span id="cb17-22"><a href="#cb17-22" aria-hidden="true" tabindex="-1"></a><span class="st">                                approved but not accepted"</span>),</span>
<span id="cb17-23"><a href="#cb17-23" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_approval_race =</span> <span class="fu">round</span>(approval_race <span class="sc">/</span> count_race, <span class="dv">3</span>)<span class="sc">*</span><span class="dv">100</span>) <span class="sc">%&gt;%</span></span>
<span id="cb17-24"><a href="#cb17-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(hh_race, county, fips, percent_denial_race, percent_approval_race) <span class="sc">%&gt;%</span></span>
<span id="cb17-25"><a href="#cb17-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(hh_race <span class="sc">==</span> <span class="st">"white"</span>, <span class="sc">!</span><span class="fu">is.na</span>(fips))</span>
<span id="cb17-26"><a href="#cb17-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-27"><a href="#cb17-27" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_usmap</span>(<span class="at">regions =</span> <span class="st">"counties"</span>, <span class="at">include =</span> <span class="fu">c</span>(<span class="st">"NY"</span>), <span class="at">data =</span> loans_white, <span class="at">values =</span> <span class="st">"percent_approval_race"</span>) <span class="sc">+</span></span>
<span id="cb17-28"><a href="#cb17-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Map 1. New York State White Mortgage Applicants, % Approval"</span>, <span class="at">subtitle =</span> <span class="st">""</span>) <span class="sc">+</span> </span>
<span id="cb17-29"><a href="#cb17-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_binned</span>(<span class="at">low =</span> <span class="st">"white"</span>, <span class="at">high =</span> <span class="st">"blue"</span>, <span class="at">na.value=</span><span class="st">"light grey"</span>, <span class="at">name =</span> <span class="st">"Approval"</span>, <span class="at">guide =</span> <span class="fu">guide_bins</span>(<span class="at">axis =</span> <span class="cn">FALSE</span>, <span class="at">show.limits =</span> <span class="cn">TRUE</span>)) <span class="sc">+</span> </span>
<span id="cb17-30"><a href="#cb17-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"right"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="KekaiLiu_final_project_assignment_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Map approval % for Asian applicants, all years, by New York county</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>loans_asian <span class="ot">&lt;-</span> loans4 <span class="sc">%&gt;%</span> </span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(hh_race, county) <span class="sc">%&gt;%</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">count_race =</span> <span class="fu">n</span>(), </span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">fips =</span> county,</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">denial_race =</span> <span class="fu">sum</span>(action <span class="sc">==</span> <span class="st">"application denied by financial institution"</span>),</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_denial_race =</span> <span class="fu">round</span>(denial_race <span class="sc">/</span> count_race, <span class="dv">3</span>),</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>         <span class="at">approval_race =</span> <span class="fu">sum</span>(action <span class="sc">==</span> <span class="st">"loan originated"</span> <span class="sc">|</span> action <span class="sc">==</span> <span class="st">"application </span></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a><span class="st">                                approved but not accepted"</span>),</span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_approval_race =</span> <span class="fu">round</span>(approval_race <span class="sc">/</span> count_race, <span class="dv">3</span>)<span class="sc">*</span><span class="dv">100</span>) <span class="sc">%&gt;%</span></span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(hh_race, county, fips, percent_denial_race, percent_approval_race) <span class="sc">%&gt;%</span></span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(hh_race <span class="sc">==</span> <span class="st">"asian"</span>, <span class="sc">!</span><span class="fu">is.na</span>(fips))</span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_usmap</span>(<span class="at">regions =</span> <span class="st">"counties"</span>, <span class="at">include =</span> <span class="fu">c</span>(<span class="st">"NY"</span>), <span class="at">data =</span> loans_asian, <span class="at">values =</span> <span class="st">"percent_approval_race"</span>) <span class="sc">+</span></span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Map 1. New York State Asian Mortgage Applicants, % Approval"</span>, <span class="at">subtitle =</span> <span class="st">""</span>) <span class="sc">+</span> </span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_binned</span>(<span class="at">low =</span> <span class="st">"white"</span>, <span class="at">high =</span> <span class="st">"blue"</span>, <span class="at">na.value=</span><span class="st">"light grey"</span>, <span class="at">name =</span> <span class="st">"Approval"</span>, <span class="at">guide =</span> <span class="fu">guide_bins</span>(<span class="at">axis =</span> <span class="cn">FALSE</span>, <span class="at">show.limits =</span> <span class="cn">TRUE</span>)) <span class="sc">+</span> </span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"right"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="KekaiLiu_final_project_assignment_files/figure-html/unnamed-chunk-10-2.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Map approval % for Black applicants, all years, by New York county</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>loans_black <span class="ot">&lt;-</span> loans4 <span class="sc">%&gt;%</span> </span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(hh_race, county) <span class="sc">%&gt;%</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">count_race =</span> <span class="fu">n</span>(), </span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">fips =</span> county,</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">denial_race =</span> <span class="fu">sum</span>(action <span class="sc">==</span> <span class="st">"application denied by financial institution"</span>),</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_denial_race =</span> <span class="fu">round</span>(denial_race <span class="sc">/</span> count_race, <span class="dv">3</span>),</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>         <span class="at">approval_race =</span> <span class="fu">sum</span>(action <span class="sc">==</span> <span class="st">"loan originated"</span> <span class="sc">|</span> action <span class="sc">==</span> <span class="st">"application </span></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a><span class="st">                                approved but not accepted"</span>),</span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_approval_race =</span> <span class="fu">round</span>(approval_race <span class="sc">/</span> count_race, <span class="dv">3</span>)<span class="sc">*</span><span class="dv">100</span>) <span class="sc">%&gt;%</span></span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(hh_race, county, fips, percent_denial_race, percent_approval_race) <span class="sc">%&gt;%</span></span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(hh_race <span class="sc">==</span> <span class="st">"black"</span>, <span class="sc">!</span><span class="fu">is.na</span>(fips))</span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_usmap</span>(<span class="at">regions =</span> <span class="st">"counties"</span>, <span class="at">include =</span> <span class="fu">c</span>(<span class="st">"NY"</span>), <span class="at">data =</span> loans_black, <span class="at">values =</span> <span class="st">"percent_approval_race"</span>) <span class="sc">+</span></span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Map 1. New York State Black Mortgage Applicants, % Approval"</span>, <span class="at">subtitle =</span> <span class="st">""</span>) <span class="sc">+</span> </span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_binned</span>(<span class="at">low =</span> <span class="st">"white"</span>, <span class="at">high =</span> <span class="st">"blue"</span>, <span class="at">na.value=</span><span class="st">"light grey"</span>, <span class="at">name =</span> <span class="st">"Approval"</span>, <span class="at">guide =</span> <span class="fu">guide_bins</span>(<span class="at">axis =</span> <span class="cn">FALSE</span>, <span class="at">show.limits =</span> <span class="cn">TRUE</span>)) <span class="sc">+</span> </span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"right"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="KekaiLiu_final_project_assignment_files/figure-html/unnamed-chunk-10-3.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Map approval % for Native applicants, all years, by New York county</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>loans_native <span class="ot">&lt;-</span> loans4 <span class="sc">%&gt;%</span> </span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(hh_race, county) <span class="sc">%&gt;%</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">count_race =</span> <span class="fu">n</span>(), </span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">fips =</span> county,</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">denial_race =</span> <span class="fu">sum</span>(action <span class="sc">==</span> <span class="st">"application denied by financial institution"</span>),</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_denial_race =</span> <span class="fu">round</span>(denial_race <span class="sc">/</span> count_race, <span class="dv">3</span>),</span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>         <span class="at">approval_race =</span> <span class="fu">sum</span>(action <span class="sc">==</span> <span class="st">"loan originated"</span> <span class="sc">|</span> action <span class="sc">==</span> <span class="st">"application </span></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a><span class="st">                                approved but not accepted"</span>),</span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_approval_race =</span> <span class="fu">round</span>(approval_race <span class="sc">/</span> count_race, <span class="dv">3</span>)<span class="sc">*</span><span class="dv">100</span>) <span class="sc">%&gt;%</span></span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(hh_race, county, fips, percent_denial_race, percent_approval_race) <span class="sc">%&gt;%</span></span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(hh_race <span class="sc">==</span> <span class="st">"american indian or alaska native"</span>, <span class="sc">!</span><span class="fu">is.na</span>(fips))</span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_usmap</span>(<span class="at">regions =</span> <span class="st">"counties"</span>, <span class="at">include =</span> <span class="fu">c</span>(<span class="st">"NY"</span>), <span class="at">data =</span> loans_native, <span class="at">values =</span> <span class="st">"percent_approval_race"</span>) <span class="sc">+</span></span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Map 1. New York State Native Mortgage Applicants, % Approval"</span>, <span class="at">subtitle =</span> <span class="st">""</span>) <span class="sc">+</span> </span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_binned</span>(<span class="at">low =</span> <span class="st">"white"</span>, <span class="at">high =</span> <span class="st">"blue"</span>, <span class="at">na.value=</span><span class="st">"light grey"</span>, <span class="at">name =</span> <span class="st">"Approval"</span>, <span class="at">guide =</span> <span class="fu">guide_bins</span>(<span class="at">axis =</span> <span class="cn">FALSE</span>, <span class="at">show.limits =</span> <span class="cn">TRUE</span>)) <span class="sc">+</span> </span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"right"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="KekaiLiu_final_project_assignment_files/figure-html/unnamed-chunk-10-4.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Table version of highest approval ratings by county of race with population (top 3)</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>loans5 <span class="ot">&lt;-</span> loans4 <span class="sc">%&gt;%</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(county)) <span class="sc">%&gt;%</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(county) <span class="sc">%&gt;%</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">total_cty =</span> <span class="fu">n</span>(),</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">white_perc =</span> <span class="fu">round</span>(<span class="fu">sum</span>(hh_race <span class="sc">==</span> <span class="st">"white"</span>) <span class="sc">/</span> total_cty, <span class="dv">3</span>),</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">asian_perc =</span> <span class="fu">round</span>(<span class="fu">sum</span>(hh_race <span class="sc">==</span> <span class="st">"asian"</span>) <span class="sc">/</span> total_cty, <span class="dv">3</span>),</span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">black_perc =</span> <span class="fu">round</span>(<span class="fu">sum</span>(hh_race <span class="sc">==</span> <span class="st">"black"</span>) <span class="sc">/</span> total_cty, <span class="dv">3</span>),</span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">native_perc =</span> <span class="fu">round</span>(<span class="fu">sum</span>(hh_race <span class="sc">==</span> <span class="st">"american indian or alaska native"</span>) <span class="sc">/</span> total_cty, <span class="dv">3</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(county, hh_race) <span class="sc">%&gt;%</span></span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">count_race =</span> <span class="fu">n</span>(),</span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">approval_race =</span>  <span class="fu">sum</span>(action <span class="sc">==</span> <span class="st">"loan originated"</span> <span class="sc">|</span> action <span class="sc">==</span> <span class="st">"application </span></span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a><span class="st">                                approved but not accepted"</span>),</span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">percent_approval_race =</span> <span class="fu">round</span>(approval_race <span class="sc">/</span> count_race, <span class="dv">3</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(hh_race, county, county_name, percent_approval_race, white_perc, asian_perc, black_perc, native_perc)</span>
<span id="cb21-19"><a href="#cb21-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-20"><a href="#cb21-20" aria-hidden="true" tabindex="-1"></a>loans5 <span class="sc">%&gt;%</span></span>
<span id="cb21-21"><a href="#cb21-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">race =</span> hh_race,</span>
<span id="cb21-22"><a href="#cb21-22" aria-hidden="true" tabindex="-1"></a>         <span class="at">county =</span> <span class="fu">toupper</span>(county_name),</span>
<span id="cb21-23"><a href="#cb21-23" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_approval =</span> percent_approval_race<span class="sc">*</span><span class="dv">100</span>) <span class="sc">%&gt;%</span></span>
<span id="cb21-24"><a href="#cb21-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(hh_race <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"american indian or alaska native"</span>, <span class="st">"asian"</span>, <span class="st">"black"</span>, <span class="st">"white"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb21-25"><a href="#cb21-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(race) <span class="sc">%&gt;%</span> </span>
<span id="cb21-26"><a href="#cb21-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(race, county, percent_approval) <span class="sc">%&gt;%</span></span>
<span id="cb21-27"><a href="#cb21-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(percent_approval), <span class="at">.by_group =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb21-28"><a href="#cb21-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>) <span class="sc">%&gt;%</span></span>
<span id="cb21-29"><a href="#cb21-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kbl</span>(<span class="at">caption =</span> <span class="st">"Table 4A. Top 3 Loan Approval %, by Race and N.Y. County"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb21-30"><a href="#cb21-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_classic</span>(<span class="at">html_font =</span> <span class="st">"Times New Roman"</span>, <span class="at">font_size=</span><span class="dv">16</span>) <span class="sc">%&gt;%</span></span>
<span id="cb21-31"><a href="#cb21-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">row_spec</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">12</span>, <span class="at">extra_css =</span> <span class="st">"border-bottom: 0.5px dashed;"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="lightable-classic table table-sm table-striped small" data-quarto-postprocess="true">
<caption>Table 4A. Top 3 Loan Approval %, by Race and N.Y. County</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">race</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">county</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">percent_approval</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left; border-bottom: 0.5px dashed;">american indian or alaska native</td>
<td style="text-align: left; border-bottom: 0.5px dashed;">TOMPKINS</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">71.6</td>
</tr>
<tr class="even">
<td style="text-align: left; border-bottom: 0.5px dashed;">american indian or alaska native</td>
<td style="text-align: left; border-bottom: 0.5px dashed;">ONEIDA</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">62.5</td>
</tr>
<tr class="odd">
<td style="text-align: left; border-bottom: 0.5px dashed;">american indian or alaska native</td>
<td style="text-align: left; border-bottom: 0.5px dashed;">ONTARIO</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">57.0</td>
</tr>
<tr class="even">
<td style="text-align: left; border-bottom: 0.5px dashed;">asian</td>
<td style="text-align: left; border-bottom: 0.5px dashed;">TOMPKINS</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">80.6</td>
</tr>
<tr class="odd">
<td style="text-align: left; border-bottom: 0.5px dashed;">asian</td>
<td style="text-align: left; border-bottom: 0.5px dashed;">CORTLAND</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">70.2</td>
</tr>
<tr class="even">
<td style="text-align: left; border-bottom: 0.5px dashed;">asian</td>
<td style="text-align: left; border-bottom: 0.5px dashed;">CHEMUNG</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">69.3</td>
</tr>
<tr class="odd">
<td style="text-align: left; border-bottom: 0.5px dashed;">black</td>
<td style="text-align: left; border-bottom: 0.5px dashed;">HAMILTON</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">71.4</td>
</tr>
<tr class="even">
<td style="text-align: left; border-bottom: 0.5px dashed;">black</td>
<td style="text-align: left; border-bottom: 0.5px dashed;">YATES</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">66.7</td>
</tr>
<tr class="odd">
<td style="text-align: left; border-bottom: 0.5px dashed;">black</td>
<td style="text-align: left; border-bottom: 0.5px dashed;">TOMPKINS</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">60.9</td>
</tr>
<tr class="even">
<td style="text-align: left; border-bottom: 0.5px dashed;">white</td>
<td style="text-align: left; border-bottom: 0.5px dashed;">TOMPKINS</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">73.4</td>
</tr>
<tr class="odd">
<td style="text-align: left; border-bottom: 0.5px dashed;">white</td>
<td style="text-align: left; border-bottom: 0.5px dashed;">CHEMUNG</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">67.2</td>
</tr>
<tr class="even">
<td style="text-align: left; border-bottom: 0.5px dashed;">white</td>
<td style="text-align: left; border-bottom: 0.5px dashed;">LEWIS</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">66.2</td>
</tr>
</tbody>
</table>


</div>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Table version of lowest approval ratings by county of race with population (bottom 3)</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>loans5 <span class="sc">%&gt;%</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">race =</span> hh_race,</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">county =</span> <span class="fu">toupper</span>(county_name),</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_approval =</span> percent_approval_race<span class="sc">*</span><span class="dv">100</span>) <span class="sc">%&gt;%</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(hh_race <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"american indian or alaska native"</span>, <span class="st">"asian"</span>, <span class="st">"black"</span>, <span class="st">"white"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(race) <span class="sc">%&gt;%</span> </span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(race, county, percent_approval) <span class="sc">%&gt;%</span></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(percent_approval, <span class="at">.by_group =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>) <span class="sc">%&gt;%</span></span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kbl</span>(<span class="at">caption =</span> <span class="st">"Table 4B. Bottom 3 Loan Approval %, by Race and N.Y. County"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_classic</span>(<span class="at">html_font =</span> <span class="st">"Times New Roman"</span>, <span class="at">font_size=</span><span class="dv">16</span>) <span class="sc">%&gt;%</span></span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">row_spec</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">12</span>, <span class="at">extra_css =</span> <span class="st">"border-bottom: 0.5px dashed;"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="lightable-classic table table-sm table-striped small" data-quarto-postprocess="true">
<caption>Table 4B. Bottom 3 Loan Approval %, by Race and N.Y. County</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">race</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">county</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">percent_approval</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left; border-bottom: 0.5px dashed;">american indian or alaska native</td>
<td style="text-align: left; border-bottom: 0.5px dashed;">BRONX</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">21.1</td>
</tr>
<tr class="even">
<td style="text-align: left; border-bottom: 0.5px dashed;">american indian or alaska native</td>
<td style="text-align: left; border-bottom: 0.5px dashed;">OTSEGO</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">24.2</td>
</tr>
<tr class="odd">
<td style="text-align: left; border-bottom: 0.5px dashed;">american indian or alaska native</td>
<td style="text-align: left; border-bottom: 0.5px dashed;">SCHOHARIE</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">26.0</td>
</tr>
<tr class="even">
<td style="text-align: left; border-bottom: 0.5px dashed;">asian</td>
<td style="text-align: left; border-bottom: 0.5px dashed;">FULTON</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">35.6</td>
</tr>
<tr class="odd">
<td style="text-align: left; border-bottom: 0.5px dashed;">asian</td>
<td style="text-align: left; border-bottom: 0.5px dashed;">CHENANGO</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">36.6</td>
</tr>
<tr class="even">
<td style="text-align: left; border-bottom: 0.5px dashed;">asian</td>
<td style="text-align: left; border-bottom: 0.5px dashed;">FRANKLIN</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">40.0</td>
</tr>
<tr class="odd">
<td style="text-align: left; border-bottom: 0.5px dashed;">black</td>
<td style="text-align: left; border-bottom: 0.5px dashed;">FRANKLIN</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">22.9</td>
</tr>
<tr class="even">
<td style="text-align: left; border-bottom: 0.5px dashed;">black</td>
<td style="text-align: left; border-bottom: 0.5px dashed;">SULLIVAN</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">28.2</td>
</tr>
<tr class="odd">
<td style="text-align: left; border-bottom: 0.5px dashed;">black</td>
<td style="text-align: left; border-bottom: 0.5px dashed;">CHENANGO</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">31.4</td>
</tr>
<tr class="even">
<td style="text-align: left; border-bottom: 0.5px dashed;">white</td>
<td style="text-align: left; border-bottom: 0.5px dashed;">SULLIVAN</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">42.4</td>
</tr>
<tr class="odd">
<td style="text-align: left; border-bottom: 0.5px dashed;">white</td>
<td style="text-align: left; border-bottom: 0.5px dashed;">DELAWARE</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">45.8</td>
</tr>
<tr class="even">
<td style="text-align: left; border-bottom: 0.5px dashed;">white</td>
<td style="text-align: left; border-bottom: 0.5px dashed;">BRONX</td>
<td style="text-align: right; border-bottom: 0.5px dashed;">45.8</td>
</tr>
</tbody>
</table>


</div>
</div>
</section>
<section id="county-applicant-race-and-county-approval-rates" class="level3">
<h3 class="anchored" data-anchor-id="county-applicant-race-and-county-approval-rates">County Applicant Race and County Approval Rates</h3>
<p>The previous analysis of variation in mortgage approval rates across counties leads to the following question: do county mortgage approval rates of a specific race of applicant vary based on the percent of county applicants of said race? In other words, is the county variation in approval rates observed from the maps driven by demographics? Are the counties with higher approval rates for applicants of a certain race also the same counties with higher percent of applicants of said race?</p>
<p>Charts 5, 6, 7, 8 plot county percent of applicant race against county percent of approvals of said race.</p>
<p>Chart 5 compares the county percent of non-Hispanic White applicants against the county percent of non-Hispanic White approvals. The chart shows a slight positive association between county percent of non-Hispanic White applicants against the county percent of non-Hispanic White approvals. In other words, the more non-Hispanic White applicants there are in a county, the greater the probability of non-Hispanic White applications being approved. One caveat is that the majority of the points in the plot lay in the 60 to 80 percent range for percent of non-Hispanic White applicants. There are only a few points below this range, which may be driving the pulling the association in the positive direction.</p>
<p>Chart 6 compares the county percent of Asian applicants against the county percent of Asian approvals. The chart shows a slight negative association between county percent of Asian applicants against the county percent of Asian approvals. The slope of the association, or red line on the chart, is less steep than the line in Chart 5 - implying a very weak association if any between county percent of Asian applicants and county percent of Asian approvals.</p>
<p>Chart 7 compares the county percent of Black applicants against the county percent of Black approvals. The chart shows a slight negative association between county percent of Black applicants against the county percent of Black approvals. The slope of the association, or red line on the chart, is steeper than the line in Chart 6 - implying a stronger negative relationship than the one observed with Asian applicants. This negative relationship, however, sounds counterintuitive: the greater the number of Black applicants, the lower the Black approval rate. This would imply that greater diversity leads to lower approval rates. One big caveat is that there are only three counties with percent of Black applicants greater than 10 percent, the rest of the counties have percent of Black applicants lower than that; these same three counties appear to have lower approval rates than most other counties. It is likely that these three counties are pulling the relationship between county percent of Black applicants and county percent of Black approvals in the negative direction.</p>
<p>Chart 8 compares the county percent of Native American/Alaskan Native applicants against the county percent of Native American/Alaskan Native approvals. The chart shows minor to zero association between county percent of Native American/Alaskan Native applicants and county percent of Native American/Alaskan Native approvals. The slope of the association, or red line on the chart, is almost perfectly flat - implying a lack of relationship between county percent of Native American/Alaskan Native applicants and county percent of Native American/Alaskan Native approvals.</p>
<p>All in all, Charts 6, 7, 8 fail to provide sufficient or strong enough evidence to suggest that the county variation in approval rates amongst non-White applicants is due to the demographic composition of the county. It does not appear to be the case that strength in numbers leads to a higher rates of mortgage approvals at the county-level in. In fact, Charts 6 and 7 may suggest the opposite: that greater diversity may lead to lower rates of mortgage approvals. Therefore, the county variation in approval rates amongst non-White applicants observed in Maps 2, 3, 4 is likely due to another factor.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Scatterplot county percent_approval_race - race %</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>loans5 <span class="sc">%&gt;%</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(hh_race <span class="sc">==</span> <span class="st">"white"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>white_perc, <span class="at">y=</span>percent_approval_race)) <span class="sc">+</span> </span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.minor.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.major.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.minor.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_markdown</span>(</span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>      <span class="at">family =</span> <span class="st">"Econ Sans Cnd"</span>, </span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>      <span class="at">size =</span> <span class="dv">10</span>, </span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>      <span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size=</span><span class="dv">7</span>)) <span class="sc">+</span></span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"**Chart 5.** N.Y. Counties, % White Applied vs. % White Approved, 2008-2017"</span>) <span class="sc">+</span></span>
<span id="cb23-18"><a href="#cb23-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"% of White Applicants Approved in County"</span>) <span class="sc">+</span></span>
<span id="cb23-19"><a href="#cb23-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"% of White Applicants in County"</span>) <span class="sc">+</span></span>
<span id="cb23-20"><a href="#cb23-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span>lm , <span class="at">color=</span><span class="st">"red"</span>, <span class="at">fill=</span><span class="st">"#69b3a2"</span>, <span class="at">se=</span><span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb23-21"><a href="#cb23-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels=</span>scales<span class="sc">::</span><span class="fu">percent_format</span>()) <span class="sc">+</span></span>
<span id="cb23-22"><a href="#cb23-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels=</span>scales<span class="sc">::</span><span class="fu">percent_format</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="KekaiLiu_final_project_assignment_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>loans5 <span class="sc">%&gt;%</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(hh_race <span class="sc">==</span> <span class="st">"asian"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>asian_perc, <span class="at">y=</span>percent_approval_race)) <span class="sc">+</span> </span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.minor.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.major.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.minor.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_markdown</span>(</span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>      <span class="at">family =</span> <span class="st">"Econ Sans Cnd"</span>, </span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>      <span class="at">size =</span> <span class="dv">10</span>, </span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a>      <span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size=</span><span class="dv">7</span>)) <span class="sc">+</span></span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"**Chart 6.** N.Y. Counties, % Asian Applied vs. % Asian Approved, 2008-2017"</span>) <span class="sc">+</span></span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"% of Asian Applicants Approved in County"</span>) <span class="sc">+</span></span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"% of Asian Applicants in County"</span>) <span class="sc">+</span> </span>
<span id="cb24-18"><a href="#cb24-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span>lm , <span class="at">color=</span><span class="st">"red"</span>, <span class="at">fill=</span><span class="st">"#69b3a2"</span>, <span class="at">se=</span><span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb24-19"><a href="#cb24-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels=</span>scales<span class="sc">::</span><span class="fu">percent_format</span>()) <span class="sc">+</span></span>
<span id="cb24-20"><a href="#cb24-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels=</span>scales<span class="sc">::</span><span class="fu">percent_format</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="KekaiLiu_final_project_assignment_files/figure-html/unnamed-chunk-11-2.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>loans5 <span class="sc">%&gt;%</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(hh_race <span class="sc">==</span> <span class="st">"black"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>black_perc, <span class="at">y=</span>percent_approval_race)) <span class="sc">+</span> </span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.minor.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.major.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.minor.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_markdown</span>(</span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a>      <span class="at">family =</span> <span class="st">"Econ Sans Cnd"</span>, </span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a>      <span class="at">size =</span> <span class="dv">10</span>, </span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a>      <span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size=</span><span class="dv">7</span>)) <span class="sc">+</span></span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"**Chart 7.** N.Y. Counties, % Black Applied vs. % Black Approved, 2008-2017"</span>) <span class="sc">+</span></span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"% of Black Applicants Approved in County"</span>) <span class="sc">+</span></span>
<span id="cb25-17"><a href="#cb25-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"% of Black Applicants in County"</span>) <span class="sc">+</span> </span>
<span id="cb25-18"><a href="#cb25-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span>lm , <span class="at">color=</span><span class="st">"red"</span>, <span class="at">fill=</span><span class="st">"#69b3a2"</span>, <span class="at">se=</span><span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb25-19"><a href="#cb25-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels=</span>scales<span class="sc">::</span><span class="fu">percent_format</span>()) <span class="sc">+</span></span>
<span id="cb25-20"><a href="#cb25-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels=</span>scales<span class="sc">::</span><span class="fu">percent_format</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="KekaiLiu_final_project_assignment_files/figure-html/unnamed-chunk-11-3.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>loans5 <span class="sc">%&gt;%</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(hh_race <span class="sc">==</span> <span class="st">"american indian or alaska native"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>native_perc, <span class="at">y=</span>percent_approval_race)) <span class="sc">+</span> </span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.minor.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.major.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.minor.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_markdown</span>(</span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>      <span class="at">family =</span> <span class="st">"Econ Sans Cnd"</span>, </span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a>      <span class="at">size =</span> <span class="dv">10</span>, </span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a>      <span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size=</span><span class="dv">7</span>)) <span class="sc">+</span></span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"**Chart 8.** N.Y. Counties, % Native Applied vs. % Native Approved, 2008-2017"</span>) <span class="sc">+</span></span>
<span id="cb26-16"><a href="#cb26-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"% of Native Applicants Approved in County"</span>) <span class="sc">+</span></span>
<span id="cb26-17"><a href="#cb26-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"% of Native Applicants in County"</span>) <span class="sc">+</span> </span>
<span id="cb26-18"><a href="#cb26-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span>lm , <span class="at">color=</span><span class="st">"red"</span>, <span class="at">fill=</span><span class="st">"#69b3a2"</span>, <span class="at">se=</span><span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb26-19"><a href="#cb26-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels=</span>scales<span class="sc">::</span><span class="fu">percent_format</span>()) <span class="sc">+</span></span>
<span id="cb26-20"><a href="#cb26-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels=</span>scales<span class="sc">::</span><span class="fu">percent_format</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="KekaiLiu_final_project_assignment_files/figure-html/unnamed-chunk-11-4.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">Conclusion</h2>
<p>Analyzing HMDA mortgage application data provided by the Consumer Financial Protection Bureau for New York State from 2008-2017, large and consistent differences were found for mortgage approval and denial rates between applicants of different races at the statewide level. Non-Hispanic White and Asian applicants in New York State experience the lowest rates of denials and the highest rates of approvals. Native American/Alaskan Native applicants in New York State experience the highest rates of denials and the lowest rates of approvals. Black applicants in New York State fluctuate in the middle-of-the-pack in terms of denial rates, but they have been the lowest or second lowest in terms of approval rates.</p>
<p>Analysis at the county-level uncovered that there was a fair amount of county variation amongst non-White applicants when it came to mortgage approval rates. Non-Hispanic White applicants had relatively less county variation in approval rates than non-White applicants. County-level analysis suggests that differences between mortgage application outcomes at the state-level between races may only be concentrated in a few select counties or regions rather than a statewide phenomenon.</p>
<p>Further analysis at the county-level failed to find evidence that the percent of a certain race of applicant had a positive effect on the the approval rate of applicant of said race. In other words, there was no evidence found to suggest that greater numbers of an applicant of a specific race in a county led to higher approval rates for said race. Then, the county-level variation in mortgage approval rates observed amongst non-White applicants is still unexplained and a topic for future research.</p>
<p>In addition, the effect of income on the relationship between race and mortgage lending should also be considered in future research. Typically, higher incomes are positively associated with higher credit scores. Thus, it may be the case that higher incomes influence mortgage application outcomes more than race. At the county level, average income of an applicant of a specific race will be compared against the mortgage approval rates of said race. If across races, there is a strong relationship between average income and mortgage approval, then any race effect on mortgage approval observed earlier may be confounded with the effect of income.</p>
</section>
<section id="bibliography" class="level2">
<h2 class="anchored" data-anchor-id="bibliography">Bibliography</h2>
<p>Cherian, Madhavi. “Race in the Mortgage Market: An Empirical Investigation Using HMDA Data.” Race, Gender &amp; Class 21, no. 1/2 (2014): 48–63. http://www.jstor.org/stable/43496959.</p>
<p>Consumer Financial Protection Bureau. Home Mortgage Disclosure Act Modified Loan/Application Register. 2017. Distributed by Consumer Financial Protection Bureau. https://www.consumerfinance.gov/data-research/hmda/historic-data/.</p>
<p>Consumer Financial Protection Bureau. “Mortgage Data (HMDA).” Consumer Financial Protection Bureau. Consumer Financial Protection Bureau. 2023. https://www.consumerfinance.gov/data-research/hmda/</p>
<p>Munnell, Alicia H., Geoffrey M. B. Tootell, Lynn E. Browne, and James McEneaney. “Mortgage Lending in Boston: Interpreting HMDA Data.” The American Economic Review 86, no. 1 (1996): 25–53. http://www.jstor.org/stable/2118254.</p>
<p>R Core Team (2022). R: A language and environment for statistical computing. R Foundation for Statistical Computing, Vienna, Austria. URL https://www.R-project.org/.</p>


<!-- -->

</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<script src="https://giscus.app/client.js" data-repo="DACSS/601_Spring_2023" data-repo-id="R_kgDOI4JcJA" data-category="Announcements" data-category-id="" data-mapping="title" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="light" data-lang="en" crossorigin="anonymous" async="">
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb27" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "Final Project Assignment: Kekai Liu"</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a><span class="an">author:</span><span class="co"> "Kekai Liu"</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a><span class="an">description:</span><span class="co"> "Race and Mortgage Lending in New York State"</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a><span class="an">date:</span><span class="co"> "05/22/2023"</span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a><span class="co">  html:</span></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a><span class="co">    toc: true</span></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a><span class="co">    code-copy: true</span></span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a><span class="co">    code-tools: true</span></span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a><span class="an">categories:</span></span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a><span class="co">  - final_Project_assignment</span></span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a><span class="co">  - final_Project_mortgage</span></span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-18"><a href="#cb27-18" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb27-19"><a href="#cb27-19" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: setup</span></span>
<span id="cb27-20"><a href="#cb27-20" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb27-21"><a href="#cb27-21" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb27-22"><a href="#cb27-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-23"><a href="#cb27-23" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb27-24"><a href="#cb27-24" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb27-25"><a href="#cb27-25" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb27-26"><a href="#cb27-26" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(grid)</span>
<span id="cb27-27"><a href="#cb27-27" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggnewscale)</span>
<span id="cb27-28"><a href="#cb27-28" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggtext)</span>
<span id="cb27-29"><a href="#cb27-29" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(shadowtext)</span>
<span id="cb27-30"><a href="#cb27-30" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb27-31"><a href="#cb27-31" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gganimate)</span>
<span id="cb27-32"><a href="#cb27-32" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(hrbrthemes)</span>
<span id="cb27-33"><a href="#cb27-33" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra)</span>
<span id="cb27-34"><a href="#cb27-34" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(maps)</span>
<span id="cb27-35"><a href="#cb27-35" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(usmap)</span>
<span id="cb27-36"><a href="#cb27-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-37"><a href="#cb27-37" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">echo =</span> <span class="cn">TRUE</span>, <span class="at">warning=</span><span class="cn">FALSE</span>, <span class="at">message=</span><span class="cn">FALSE</span>)</span>
<span id="cb27-38"><a href="#cb27-38" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb27-39"><a href="#cb27-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-40"><a href="#cb27-40" aria-hidden="true" tabindex="-1"></a><span class="fu">## Introduction {#describe-the-data-sets}</span></span>
<span id="cb27-41"><a href="#cb27-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-42"><a href="#cb27-42" aria-hidden="true" tabindex="-1"></a>Does race influence approvals of mortgage loan applications? This report analyzes individual mortgage loan applications submitted in New York State from 2008 to 2017, using publicly available data provided by the Consumer Financial Protection Bureau under the Home Mortgage Disclosure Act. This report finds that approval rates of mortgage loan applications in New York State vary by a fair margin based on the race of applicants. In New York State, non-Hispanic White and Asian applicants receive mortgage loan approvals at higher rates than Hispanics, Black, Pacific Islander, and Native American/Alaska Native applicants. Black and Native American/Alaska Native applicants have the lowest rates of mortgage loan approvals in New York State.</span>
<span id="cb27-43"><a href="#cb27-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-44"><a href="#cb27-44" aria-hidden="true" tabindex="-1"></a><span class="fu">## Literature Review</span></span>
<span id="cb27-45"><a href="#cb27-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-46"><a href="#cb27-46" aria-hidden="true" tabindex="-1"></a>There are several studies on the relationship between race and mortgage lending. Munnell et al. (1996) analyzed lending data provided by Boston-area banks and a random sample of white mortgage applicants and found that Black and Hispanic mortgage applicants were less likely to be approved than White applicants in Boston. Cherian (2014) studied race and mortgage lending in Indianapolis from 1992 to 2013 and concluded that Black and Hispanic applicants were less likely to obtain a loan than White applicants, all else equal.</span>
<span id="cb27-47"><a href="#cb27-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-48"><a href="#cb27-48" aria-hidden="true" tabindex="-1"></a>The existing literature implies that people of color are at a disadvantage when it comes to obtaining a mortgage. This implication is concerning because the usage of race in determining the outcome of a mortgage application is discriminatory. If minority applicants are less likely to be approved due to race as the existing literature suggests, then there are structural barriers preventing minorities from attaining homeownership. This report renews the discussion on race and mortgage lending by using more recent data and providing a case study of mortgage lending in New York State.</span>
<span id="cb27-49"><a href="#cb27-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-50"><a href="#cb27-50" aria-hidden="true" tabindex="-1"></a><span class="fu">## Dataset Introduction</span></span>
<span id="cb27-51"><a href="#cb27-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-52"><a href="#cb27-52" aria-hidden="true" tabindex="-1"></a>The Home Mortgage Disclosure Act (1973) is a Congressional act which mandates financial entities and lenders to keep and report data on mortgage loans (Consumer Financial Protection Bureau 2023). This reported data under the Home Mortgage Disclosure Act (hereinafter referred to as HMDA) is maintained under the auspices of the Consumer Financial Protection Bureau, which publicly publishes the annual data on its website (Consumer Financial Protection Bureau 2017). The HMDA data contains all U.S. mortgage applications submitted by individuals to HMDA-reporting financial institutions. The HMDA data provides extensive detail on each mortgage application, such as the race, ethnicity, income of the applicant and co-applicants (if any) as well as the county of the property and size of loan requested. The HMDA data also reports on the outcome of the application, whether it was approved, denied, withdrawn, etc. </span>
<span id="cb27-53"><a href="#cb27-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-54"><a href="#cb27-54" aria-hidden="true" tabindex="-1"></a><span class="fu">## Dataset Description</span></span>
<span id="cb27-55"><a href="#cb27-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-56"><a href="#cb27-56" aria-hidden="true" tabindex="-1"></a>The HMDA data includes information on the race (American Indian or Alaska Native, Asian, Black, Pacific Islander, White) and ethnicity (Hispanic or non-Hispanic) of applicants and co-applicants. This information was aggregated into a single race, known as hh_race (short for household race), per mortgage application for ease of analysis. If an applicant is White and Hispanic, then the applicant's race is coded as "Hispanic." If both the applicant and co-applicant are people of color but different races, then the race is coded as the same as the race of the main applicant. If only one out of the applicant and co-applicant are white, then the race is coded as the same as the race of the person of color. If applicants of color are at a disadvantage, as existing literature suggests, then applications filed jointly by White and non-White applicants are likely to be treated differently than applications by White applicants.</span>
<span id="cb27-57"><a href="#cb27-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-58"><a href="#cb27-58" aria-hidden="true" tabindex="-1"></a>The HMDA data comes with a dictionary which provides descriptions of variables and numeric codes. This dictionary was used to extract relevant variables from the data for this report. In addition to the aforementioned race and ethnicity variables, the year of submission, the loan amount requested, the outcome of application, and county of the property for each application in New York State were retrieved and redefined to construct a dataset of analysis which contains the following columns:</span>
<span id="cb27-59"><a href="#cb27-59" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>year: year of application submission</span>
<span id="cb27-60"><a href="#cb27-60" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>hh_race: aggregated race of applicant and co-applicant</span>
<span id="cb27-61"><a href="#cb27-61" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>income: gross annual income of applicant in U.S. dollars</span>
<span id="cb27-62"><a href="#cb27-62" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>county: county of property on application</span>
<span id="cb27-63"><a href="#cb27-63" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>loan_amount: loan requested in U.S. dollars</span>
<span id="cb27-64"><a href="#cb27-64" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>action: outcome of the application</span>
<span id="cb27-65"><a href="#cb27-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-66"><a href="#cb27-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-69"><a href="#cb27-69" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb27-70"><a href="#cb27-70" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">"C:/Users/16192/Documents/DACSS601/601_Spring_2023/posts/"</span>)</span>
<span id="cb27-71"><a href="#cb27-71" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-72"><a href="#cb27-72" aria-hidden="true" tabindex="-1"></a><span class="co"># Retrieve all dataset names in folder</span></span>
<span id="cb27-73"><a href="#cb27-73" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-74"><a href="#cb27-74" aria-hidden="true" tabindex="-1"></a>filenames <span class="ot">&lt;-</span> <span class="fu">list.files</span>(<span class="st">"KekaiLiu_FinalProjectData"</span>) </span>
<span id="cb27-75"><a href="#cb27-75" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-76"><a href="#cb27-76" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in each dataset and assign it to a dataframe</span></span>
<span id="cb27-77"><a href="#cb27-77" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(filenames)) {                              </span>
<span id="cb27-78"><a href="#cb27-78" aria-hidden="true" tabindex="-1"></a>  <span class="fu">assign</span>(<span class="fu">paste0</span>(<span class="st">"df_"</span>, i), <span class="fu">read_csv</span>(<span class="fu">paste0</span>(<span class="fu">getwd</span>(), <span class="st">"/KekaiLiu_FinalProjectData/"</span>, filenames[i]))) </span>
<span id="cb27-79"><a href="#cb27-79" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb27-80"><a href="#cb27-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-81"><a href="#cb27-81" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine dataframes into a single dataframe and recode variables to standardized values</span></span>
<span id="cb27-82"><a href="#cb27-82" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-83"><a href="#cb27-83" aria-hidden="true" tabindex="-1"></a>loans <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(df_1, df_2, df_3, df_4, df_5, df_6, df_7, df_8, df_9, df_10) <span class="sc">%&gt;%</span></span>
<span id="cb27-84"><a href="#cb27-84" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">year =</span> as_of_year,</span>
<span id="cb27-85"><a href="#cb27-85" aria-hidden="true" tabindex="-1"></a>        <span class="at">loan_amount =</span> loan_amount_000s <span class="sc">*</span> <span class="dv">1000</span>,</span>
<span id="cb27-86"><a href="#cb27-86" aria-hidden="true" tabindex="-1"></a>        <span class="at">action =</span> <span class="fu">case_when</span>(action_taken <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">"loan originated"</span>, </span>
<span id="cb27-87"><a href="#cb27-87" aria-hidden="true" tabindex="-1"></a>                           action_taken <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="st">"application approved but not accepted"</span>,</span>
<span id="cb27-88"><a href="#cb27-88" aria-hidden="true" tabindex="-1"></a>                           action_taken <span class="sc">==</span> <span class="dv">3</span> <span class="sc">~</span> <span class="st">"application denied by financial institution"</span>, </span>
<span id="cb27-89"><a href="#cb27-89" aria-hidden="true" tabindex="-1"></a>                           action_taken <span class="sc">==</span> <span class="dv">4</span> <span class="sc">~</span> <span class="st">"application withdrawn by applicant"</span>,</span>
<span id="cb27-90"><a href="#cb27-90" aria-hidden="true" tabindex="-1"></a>                           action_taken <span class="sc">==</span> <span class="dv">5</span> <span class="sc">~</span> <span class="st">"file closed for incompleteness"</span>,</span>
<span id="cb27-91"><a href="#cb27-91" aria-hidden="true" tabindex="-1"></a>                           action_taken <span class="sc">==</span> <span class="dv">6</span> <span class="sc">~</span> <span class="st">"loan purchased by the institution"</span>,</span>
<span id="cb27-92"><a href="#cb27-92" aria-hidden="true" tabindex="-1"></a>                           action_taken <span class="sc">==</span> <span class="dv">7</span> <span class="sc">~</span> <span class="st">"preapproval request denied by financial institution"</span>, </span>
<span id="cb27-93"><a href="#cb27-93" aria-hidden="true" tabindex="-1"></a>                           action_taken <span class="sc">==</span> <span class="dv">8</span> <span class="sc">~</span> <span class="st">"preapproval request approved but not accepted"</span>),</span>
<span id="cb27-94"><a href="#cb27-94" aria-hidden="true" tabindex="-1"></a>        <span class="at">ethnicity =</span> <span class="fu">case_when</span>(applicant_ethnicity <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">"hispanic or latino"</span>,</span>
<span id="cb27-95"><a href="#cb27-95" aria-hidden="true" tabindex="-1"></a>                              applicant_ethnicity <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="st">"not hispanic or latino"</span>,</span>
<span id="cb27-96"><a href="#cb27-96" aria-hidden="true" tabindex="-1"></a>                              applicant_ethnicity <span class="sc">==</span> <span class="dv">3</span> <span class="sc">~</span> <span class="st">"information not provided"</span>,</span>
<span id="cb27-97"><a href="#cb27-97" aria-hidden="true" tabindex="-1"></a>                              applicant_ethnicity <span class="sc">==</span> <span class="dv">4</span> <span class="sc">~</span> <span class="st">"not applicable"</span>),</span>
<span id="cb27-98"><a href="#cb27-98" aria-hidden="true" tabindex="-1"></a>        <span class="at">co_ethnicity =</span> <span class="fu">case_when</span>(co_applicant_ethnicity <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">"hispanic or latino"</span>,</span>
<span id="cb27-99"><a href="#cb27-99" aria-hidden="true" tabindex="-1"></a>                                 co_applicant_ethnicity <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="st">"not hispanic or latino"</span>,</span>
<span id="cb27-100"><a href="#cb27-100" aria-hidden="true" tabindex="-1"></a>                                 co_applicant_ethnicity <span class="sc">==</span> <span class="dv">3</span> <span class="sc">~</span> <span class="st">"information not provided"</span>,</span>
<span id="cb27-101"><a href="#cb27-101" aria-hidden="true" tabindex="-1"></a>                                 co_applicant_ethnicity <span class="sc">==</span> <span class="dv">4</span> <span class="sc">~</span> <span class="st">"not applicable"</span>,</span>
<span id="cb27-102"><a href="#cb27-102" aria-hidden="true" tabindex="-1"></a>                                 co_applicant_ethnicity <span class="sc">==</span> <span class="dv">5</span> <span class="sc">~</span> <span class="st">"no coapplicant"</span>),</span>
<span id="cb27-103"><a href="#cb27-103" aria-hidden="true" tabindex="-1"></a>        <span class="at">race =</span> <span class="fu">case_when</span>(applicant_race_1 <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">"american indian or alaska native"</span>,</span>
<span id="cb27-104"><a href="#cb27-104" aria-hidden="true" tabindex="-1"></a>                         applicant_race_1 <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="st">"asian"</span>, </span>
<span id="cb27-105"><a href="#cb27-105" aria-hidden="true" tabindex="-1"></a>                         applicant_race_1 <span class="sc">==</span> <span class="dv">3</span> <span class="sc">~</span> <span class="st">"black"</span>, </span>
<span id="cb27-106"><a href="#cb27-106" aria-hidden="true" tabindex="-1"></a>                         applicant_race_1 <span class="sc">==</span> <span class="dv">4</span> <span class="sc">~</span> <span class="st">"pacific islander"</span>, </span>
<span id="cb27-107"><a href="#cb27-107" aria-hidden="true" tabindex="-1"></a>                         applicant_race_1 <span class="sc">==</span> <span class="dv">5</span> <span class="sc">~</span> <span class="st">"white"</span>, </span>
<span id="cb27-108"><a href="#cb27-108" aria-hidden="true" tabindex="-1"></a>                         applicant_race_1 <span class="sc">==</span> <span class="dv">6</span> <span class="sc">~</span> <span class="st">"information not provided"</span>,</span>
<span id="cb27-109"><a href="#cb27-109" aria-hidden="true" tabindex="-1"></a>                         applicant_race_1 <span class="sc">==</span> <span class="dv">7</span> <span class="sc">~</span> <span class="st">"not applicable"</span>),</span>
<span id="cb27-110"><a href="#cb27-110" aria-hidden="true" tabindex="-1"></a>        <span class="at">co_race =</span> <span class="fu">case_when</span>(co_applicant_race_1 <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">"american indian or alaska native"</span>,</span>
<span id="cb27-111"><a href="#cb27-111" aria-hidden="true" tabindex="-1"></a>                            co_applicant_race_1 <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="st">"asian"</span>, </span>
<span id="cb27-112"><a href="#cb27-112" aria-hidden="true" tabindex="-1"></a>                            co_applicant_race_1 <span class="sc">==</span> <span class="dv">3</span> <span class="sc">~</span> <span class="st">"black"</span>, </span>
<span id="cb27-113"><a href="#cb27-113" aria-hidden="true" tabindex="-1"></a>                            co_applicant_race_1 <span class="sc">==</span> <span class="dv">4</span> <span class="sc">~</span> <span class="st">"pacific islander"</span>,</span>
<span id="cb27-114"><a href="#cb27-114" aria-hidden="true" tabindex="-1"></a>                            co_applicant_race_1 <span class="sc">==</span> <span class="dv">5</span> <span class="sc">~</span> <span class="st">"white"</span>,</span>
<span id="cb27-115"><a href="#cb27-115" aria-hidden="true" tabindex="-1"></a>                            co_applicant_race_1 <span class="sc">==</span> <span class="dv">6</span> <span class="sc">~</span> <span class="st">"information not provided"</span>,</span>
<span id="cb27-116"><a href="#cb27-116" aria-hidden="true" tabindex="-1"></a>                            co_applicant_race_1 <span class="sc">==</span> <span class="dv">7</span> <span class="sc">~</span> <span class="st">"not applicable"</span>,</span>
<span id="cb27-117"><a href="#cb27-117" aria-hidden="true" tabindex="-1"></a>                            co_applicant_race_1 <span class="sc">==</span> <span class="dv">8</span> <span class="sc">~</span> <span class="st">"no coapplicant"</span>),</span>
<span id="cb27-118"><a href="#cb27-118" aria-hidden="true" tabindex="-1"></a>        <span class="at">income =</span> applicant_income_000s <span class="sc">*</span> <span class="dv">1000</span>,</span>
<span id="cb27-119"><a href="#cb27-119" aria-hidden="true" tabindex="-1"></a>        <span class="at">county =</span> county_code <span class="sc">+</span> <span class="dv">36000</span>) <span class="sc">%&gt;%</span>   </span>
<span id="cb27-120"><a href="#cb27-120" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(year, loan_amount, action, ethnicity, co_ethnicity, race, co_race, income, county)</span>
<span id="cb27-121"><a href="#cb27-121" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-122"><a href="#cb27-122" aria-hidden="true" tabindex="-1"></a><span class="co"># Aggregate applicant and co-applicant race into a single race variable: hh_race</span></span>
<span id="cb27-123"><a href="#cb27-123" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb27-124"><a href="#cb27-124" aria-hidden="true" tabindex="-1"></a><span class="co"># Define race of household: if coapplicant is nonwhite, define that as race as household, if applicant and coapplicant are both white, but ethnicity is hispanic, define as hispanic</span></span>
<span id="cb27-125"><a href="#cb27-125" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb27-126"><a href="#cb27-126" aria-hidden="true" tabindex="-1"></a>    loans2 <span class="ot">&lt;-</span> loans <span class="sc">%&gt;%</span></span>
<span id="cb27-127"><a href="#cb27-127" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(<span class="at">hh_race =</span> <span class="fu">case_when</span>(</span>
<span id="cb27-128"><a href="#cb27-128" aria-hidden="true" tabindex="-1"></a>        co_race <span class="sc">!=</span> <span class="st">"white"</span> <span class="sc">&amp;</span> co_race <span class="sc">!=</span> <span class="st">"no coapplicant"</span> <span class="sc">~</span> co_race, </span>
<span id="cb27-129"><a href="#cb27-129" aria-hidden="true" tabindex="-1"></a>        race <span class="sc">==</span> <span class="st">"white"</span> <span class="sc">&amp;</span> co_race <span class="sc">==</span> <span class="st">"no coapplicant"</span> <span class="sc">&amp;</span> ethnicity <span class="sc">==</span> <span class="st">"hispanic or latino"</span> <span class="sc">~</span> <span class="st">"hispanic"</span>,</span>
<span id="cb27-130"><a href="#cb27-130" aria-hidden="true" tabindex="-1"></a>        race <span class="sc">==</span> <span class="st">"white"</span> <span class="sc">&amp;</span> co_race <span class="sc">==</span> <span class="st">"white"</span> <span class="sc">&amp;</span> (ethnicity <span class="sc">==</span> <span class="st">"hispanic or latino"</span> <span class="sc">|</span> co_ethnicity <span class="sc">==</span> <span class="st">"hispanic or latino"</span>) <span class="sc">~</span> <span class="st">"hispanic"</span>,</span>
<span id="cb27-131"><a href="#cb27-131" aria-hidden="true" tabindex="-1"></a>        <span class="cn">TRUE</span> <span class="sc">~</span> race)) <span class="sc">%&gt;%</span> </span>
<span id="cb27-132"><a href="#cb27-132" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select</span>(year, loan_amount, action, hh_race, income, county)</span>
<span id="cb27-133"><a href="#cb27-133" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb27-134"><a href="#cb27-134" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb27-135"><a href="#cb27-135" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-136"><a href="#cb27-136" aria-hidden="true" tabindex="-1"></a><span class="fu">## Descriptive Statistics</span></span>
<span id="cb27-137"><a href="#cb27-137" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-138"><a href="#cb27-138" aria-hidden="true" tabindex="-1"></a>The constructed dataset has 5,183,081 rows corresponding to 5,183,081 mortgage application submitted in New York State from 2007-2018, and six columns corresponding to the six relevant variables for analysis.</span>
<span id="cb27-139"><a href="#cb27-139" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-142"><a href="#cb27-142" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb27-143"><a href="#cb27-143" aria-hidden="true" tabindex="-1"></a><span class="co"># Dimensions of data</span></span>
<span id="cb27-144"><a href="#cb27-144" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-145"><a href="#cb27-145" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(loans2)</span>
<span id="cb27-146"><a href="#cb27-146" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb27-147"><a href="#cb27-147" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-148"><a href="#cb27-148" aria-hidden="true" tabindex="-1"></a>Table 1 displays the total number of mortgage applications submitted in New York State per year. Table 1A displays the the counts of each variable. If there is no missing data, then the count should equal 5,183,081 - the number of rows; income has 544,858 missing values and county has 11,910 missing values. These missing values do not affect analysis at the statewide level, as the two primary variables of interest are hh_race (representing the construct of race) and action (representing the construct of mortgage lending). So, rows with missing values for income and county do not need to be removed for state-level analysis.</span>
<span id="cb27-149"><a href="#cb27-149" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-152"><a href="#cb27-152" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb27-153"><a href="#cb27-153" aria-hidden="true" tabindex="-1"></a><span class="co"># Table of counts, by year</span></span>
<span id="cb27-154"><a href="#cb27-154" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-155"><a href="#cb27-155" aria-hidden="true" tabindex="-1"></a>loans2 <span class="sc">%&gt;%</span></span>
<span id="cb27-156"><a href="#cb27-156" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year) <span class="sc">%&gt;%</span></span>
<span id="cb27-157"><a href="#cb27-157" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">count =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb27-158"><a href="#cb27-158" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(year, count) <span class="sc">%&gt;%</span></span>
<span id="cb27-159"><a href="#cb27-159" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> year, <span class="at">values_from =</span> count) <span class="sc">%&gt;%</span></span>
<span id="cb27-160"><a href="#cb27-160" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kbl</span>(<span class="at">caption =</span> <span class="st">"Table 1. New York State Number of Mortgage Applications"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb27-161"><a href="#cb27-161" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_classic</span>(<span class="at">html_font =</span> <span class="st">"Times New Roman"</span>, <span class="at">font_size=</span><span class="dv">16</span>)</span>
<span id="cb27-162"><a href="#cb27-162" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-163"><a href="#cb27-163" aria-hidden="true" tabindex="-1"></a><span class="co"># Table of non-missing vs. missing values for relevant variables</span></span>
<span id="cb27-164"><a href="#cb27-164" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-165"><a href="#cb27-165" aria-hidden="true" tabindex="-1"></a>loans2 <span class="sc">%&gt;%</span></span>
<span id="cb27-166"><a href="#cb27-166" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb27-167"><a href="#cb27-167" aria-hidden="true" tabindex="-1"></a>    <span class="at">hhrace_non =</span> <span class="fu">sum</span>(<span class="sc">!</span><span class="fu">is.na</span>(hh_race)),</span>
<span id="cb27-168"><a href="#cb27-168" aria-hidden="true" tabindex="-1"></a>    <span class="at">hhrace_missing =</span> <span class="fu">sum</span>(<span class="fu">is.na</span>(hh_race)),</span>
<span id="cb27-169"><a href="#cb27-169" aria-hidden="true" tabindex="-1"></a>    <span class="at">year_non =</span> <span class="fu">sum</span>(<span class="sc">!</span><span class="fu">is.na</span>(year)),</span>
<span id="cb27-170"><a href="#cb27-170" aria-hidden="true" tabindex="-1"></a>    <span class="at">year_missing =</span> <span class="fu">sum</span>(<span class="fu">is.na</span>(year)),</span>
<span id="cb27-171"><a href="#cb27-171" aria-hidden="true" tabindex="-1"></a>    <span class="at">action_non =</span> <span class="fu">sum</span>(<span class="sc">!</span><span class="fu">is.na</span>(action)),</span>
<span id="cb27-172"><a href="#cb27-172" aria-hidden="true" tabindex="-1"></a>    <span class="at">action_missing =</span> <span class="fu">sum</span>(<span class="fu">is.na</span>(action)),</span>
<span id="cb27-173"><a href="#cb27-173" aria-hidden="true" tabindex="-1"></a>    <span class="at">income_non =</span> <span class="fu">sum</span>(<span class="sc">!</span><span class="fu">is.na</span>(income)),</span>
<span id="cb27-174"><a href="#cb27-174" aria-hidden="true" tabindex="-1"></a>    <span class="at">income_missing =</span> <span class="fu">sum</span>(<span class="fu">is.na</span>(income)),</span>
<span id="cb27-175"><a href="#cb27-175" aria-hidden="true" tabindex="-1"></a>    <span class="at">amount_non =</span> <span class="fu">sum</span>(<span class="sc">!</span><span class="fu">is.na</span>(loan_amount)),</span>
<span id="cb27-176"><a href="#cb27-176" aria-hidden="true" tabindex="-1"></a>    <span class="at">amount_missing =</span> <span class="fu">sum</span>(<span class="fu">is.na</span>(loan_amount)),</span>
<span id="cb27-177"><a href="#cb27-177" aria-hidden="true" tabindex="-1"></a>    <span class="at">county_non =</span> <span class="fu">sum</span>(<span class="sc">!</span><span class="fu">is.na</span>(county)),</span>
<span id="cb27-178"><a href="#cb27-178" aria-hidden="true" tabindex="-1"></a>    <span class="at">county_missing =</span> <span class="fu">sum</span>(<span class="fu">is.na</span>(county))</span>
<span id="cb27-179"><a href="#cb27-179" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb27-180"><a href="#cb27-180" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(hhrace_non, hhrace_missing, year_non, year_missing, action_non, action_missing, income_non, income_missing, amount_non, amount_missing, county_non, county_missing) <span class="sc">%&gt;%</span></span>
<span id="cb27-181"><a href="#cb27-181" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">everything</span>(), <span class="at">names_to =</span> <span class="fu">c</span>(<span class="st">"variable"</span>, <span class="st">"missing"</span>), <span class="at">names_sep =</span> <span class="st">"_"</span>, <span class="at">values_to =</span> <span class="st">"count"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb27-182"><a href="#cb27-182" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">variable =</span> <span class="fu">case_when</span>(variable <span class="sc">==</span> <span class="st">"hhrace"</span> <span class="sc">~</span> <span class="st">"hh_race"</span>, variable <span class="sc">==</span> <span class="st">"amount"</span> <span class="sc">~</span> <span class="st">"loan_amount"</span>, <span class="cn">TRUE</span> <span class="sc">~</span> variable), <span class="at">missing =</span> <span class="fu">case_when</span>(missing <span class="sc">==</span> <span class="st">"non"</span> <span class="sc">~</span> <span class="st">"no"</span>, missing <span class="sc">==</span> <span class="st">"missing"</span> <span class="sc">~</span> <span class="st">"yes"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb27-183"><a href="#cb27-183" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kbl</span>(<span class="at">caption =</span> <span class="st">"Table 1A. New York State Mortgage Applications, Variable Counts 2008-2017"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb27-184"><a href="#cb27-184" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_classic</span>(<span class="at">html_font =</span> <span class="st">"Times New Roman"</span>, <span class="at">font_size=</span><span class="dv">16</span>) <span class="sc">%&gt;%</span></span>
<span id="cb27-185"><a href="#cb27-185" aria-hidden="true" tabindex="-1"></a>  <span class="fu">row_spec</span>(<span class="fu">seq</span>(<span class="dv">2</span>, <span class="dv">12</span>, <span class="dv">2</span>), <span class="at">extra_css =</span> <span class="st">"border-bottom: 0.5px dashed;"</span>)</span>
<span id="cb27-186"><a href="#cb27-186" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb27-187"><a href="#cb27-187" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-188"><a href="#cb27-188" aria-hidden="true" tabindex="-1"></a>Table 1B and Table 1C breakdown mortgage applications in New York State by the race of applicant. Irrespective of the year, White applicants outnumber applicants of other races by far; White applicants make up around 60% of all applicants. Native Americans and Pacific Islander applicants are the fewest in number, representing less than one percent of all applicants. Some mortgage applications do not report race, or the applicants fail to self-report. These applications do not need to be redefined or removed, because they do not affect the comparisons between different applicants by race.</span>
<span id="cb27-189"><a href="#cb27-189" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-192"><a href="#cb27-192" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb27-193"><a href="#cb27-193" aria-hidden="true" tabindex="-1"></a><span class="co"># Summary Statistics of Relevant Categorical Variables (count for unique values)</span></span>
<span id="cb27-194"><a href="#cb27-194" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-195"><a href="#cb27-195" aria-hidden="true" tabindex="-1"></a>loans2 <span class="sc">%&gt;%</span></span>
<span id="cb27-196"><a href="#cb27-196" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(hh_race, year) <span class="sc">%&gt;%</span></span>
<span id="cb27-197"><a href="#cb27-197" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">hh_race =</span> <span class="fu">factor</span>(hh_race)) <span class="sc">%&gt;%</span></span>
<span id="cb27-198"><a href="#cb27-198" aria-hidden="true" tabindex="-1"></a>  <span class="fu">table</span>() <span class="sc">%&gt;%</span></span>
<span id="cb27-199"><a href="#cb27-199" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kbl</span>(<span class="at">caption =</span> <span class="st">"Table 1B. New York State Mortgage Loan Applicants, by Race"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb27-200"><a href="#cb27-200" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_classic</span>(<span class="at">html_font =</span> <span class="st">"Times New Roman"</span>, <span class="at">font_size=</span><span class="dv">16</span>) <span class="sc">%&gt;%</span></span>
<span id="cb27-201"><a href="#cb27-201" aria-hidden="true" tabindex="-1"></a>  <span class="fu">row_spec</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">8</span>, <span class="at">extra_css =</span> <span class="st">"border-bottom: 0.5px dashed;"</span>)</span>
<span id="cb27-202"><a href="#cb27-202" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-203"><a href="#cb27-203" aria-hidden="true" tabindex="-1"></a>loans2 <span class="sc">%&gt;%</span></span>
<span id="cb27-204"><a href="#cb27-204" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(hh_race, year) <span class="sc">%&gt;%</span></span>
<span id="cb27-205"><a href="#cb27-205" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">hh_race =</span> <span class="fu">factor</span>(hh_race)) <span class="sc">%&gt;%</span></span>
<span id="cb27-206"><a href="#cb27-206" aria-hidden="true" tabindex="-1"></a>  <span class="fu">table</span>() <span class="sc">%&gt;%</span></span>
<span id="cb27-207"><a href="#cb27-207" aria-hidden="true" tabindex="-1"></a>  <span class="fu">prop.table</span>(<span class="at">margin =</span> <span class="dv">2</span>) <span class="sc">%&gt;%</span></span>
<span id="cb27-208"><a href="#cb27-208" aria-hidden="true" tabindex="-1"></a>  <span class="fu">round</span>(<span class="dv">2</span>) <span class="sc">%&gt;%</span></span>
<span id="cb27-209"><a href="#cb27-209" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kbl</span>(<span class="at">caption =</span> <span class="st">"Table 1C. New York State Mortgage Loan Applicants, by Race (Proportion)"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb27-210"><a href="#cb27-210" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_classic</span>(<span class="at">html_font =</span> <span class="st">"Times New Roman"</span>, <span class="at">font_size=</span><span class="dv">16</span>) <span class="sc">%&gt;%</span></span>
<span id="cb27-211"><a href="#cb27-211" aria-hidden="true" tabindex="-1"></a>  <span class="fu">row_spec</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">8</span>, <span class="at">extra_css =</span> <span class="st">"border-bottom: 0.5px dashed;"</span>)</span>
<span id="cb27-212"><a href="#cb27-212" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb27-213"><a href="#cb27-213" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-214"><a href="#cb27-214" aria-hidden="true" tabindex="-1"></a>Table 2A lists the counts of the different possible outcomes of a mortgage application. The most common outcomes are "loan originated" which means the loan was approved by the mortgage lender and accepted by the applicant and "application denied by financial institution" which means that the application was rejected. It is important to note "application approved but not accepted" which indicates that the lender granted the mortgage but the applicant did not accept the loan. The outcomes "loan originated" and "application approved but not accepted" constitute cases where mortgage applications were approved, while the outcome "application denied by financial institution" represent cases where mortgage applications were rejected; and so, analysis will focus on cases with these outcomes. </span>
<span id="cb27-215"><a href="#cb27-215" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-218"><a href="#cb27-218" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb27-219"><a href="#cb27-219" aria-hidden="true" tabindex="-1"></a>loans2 <span class="sc">%&gt;%</span></span>
<span id="cb27-220"><a href="#cb27-220" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">action =</span> <span class="fu">factor</span>(action)) <span class="sc">%&gt;%</span></span>
<span id="cb27-221"><a href="#cb27-221" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(action, year) <span class="sc">%&gt;%</span></span>
<span id="cb27-222"><a href="#cb27-222" aria-hidden="true" tabindex="-1"></a>  <span class="fu">table</span>() <span class="sc">%&gt;%</span></span>
<span id="cb27-223"><a href="#cb27-223" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kbl</span>(<span class="at">caption =</span> <span class="st">"Table 2A. New York State Mortgage Loan Applications, by Result"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb27-224"><a href="#cb27-224" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_classic</span>(<span class="at">html_font =</span> <span class="st">"Times New Roman"</span>, <span class="at">font_size=</span><span class="dv">16</span>) <span class="sc">%&gt;%</span></span>
<span id="cb27-225"><a href="#cb27-225" aria-hidden="true" tabindex="-1"></a>  <span class="fu">row_spec</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">8</span>, <span class="at">extra_css =</span> <span class="st">"border-bottom: 0.5px dashed;"</span>)</span>
<span id="cb27-226"><a href="#cb27-226" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-227"><a href="#cb27-227" aria-hidden="true" tabindex="-1"></a>loans2 <span class="sc">%&gt;%</span></span>
<span id="cb27-228"><a href="#cb27-228" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">action =</span> <span class="fu">factor</span>(action)) <span class="sc">%&gt;%</span></span>
<span id="cb27-229"><a href="#cb27-229" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(action, year) <span class="sc">%&gt;%</span></span>
<span id="cb27-230"><a href="#cb27-230" aria-hidden="true" tabindex="-1"></a>  <span class="fu">table</span>() <span class="sc">%&gt;%</span></span>
<span id="cb27-231"><a href="#cb27-231" aria-hidden="true" tabindex="-1"></a>  <span class="fu">prop.table</span>(<span class="at">margin =</span> <span class="dv">2</span>) <span class="sc">%&gt;%</span></span>
<span id="cb27-232"><a href="#cb27-232" aria-hidden="true" tabindex="-1"></a>  <span class="fu">round</span>(<span class="dv">2</span>) <span class="sc">%&gt;%</span></span>
<span id="cb27-233"><a href="#cb27-233" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kbl</span>(<span class="at">caption =</span> <span class="st">"Table 2B. New York State Mortgage Loan Applications, by Result (Proportion)"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb27-234"><a href="#cb27-234" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_classic</span>(<span class="at">html_font =</span> <span class="st">"Times New Roman"</span>, <span class="at">font_size=</span><span class="dv">16</span>) <span class="sc">%&gt;%</span></span>
<span id="cb27-235"><a href="#cb27-235" aria-hidden="true" tabindex="-1"></a>  <span class="fu">row_spec</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">8</span>, <span class="at">extra_css =</span> <span class="st">"border-bottom: 0.5px dashed;"</span>)</span>
<span id="cb27-236"><a href="#cb27-236" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb27-237"><a href="#cb27-237" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-238"><a href="#cb27-238" aria-hidden="true" tabindex="-1"></a>Table 3A and Table 3B provide summaries of the loan amount requested and income of New York State mortgage applicants. The median loan amount is fairly stable over time, hovering around 200,000. The mean loan amount jumps to over 300,000 in 2013 and forward, implying that the presence of extremely high loans requested during these years; this is corroborated by the sd or standard deviation, which represents the variation in loan amount, going up dramatically since 2013.</span>
<span id="cb27-239"><a href="#cb27-239" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-240"><a href="#cb27-240" aria-hidden="true" tabindex="-1"></a>On the other hand, median and mean income are fairly stable. Mean and median income do experience minor growth since 2008, likely due to the economic recovery after the 2008-09 financial crisis. </span>
<span id="cb27-241"><a href="#cb27-241" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-244"><a href="#cb27-244" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb27-245"><a href="#cb27-245" aria-hidden="true" tabindex="-1"></a><span class="co"># Summary Statistics of Relevant Numeric Variables (min, max, mean, standard deviation, median)</span></span>
<span id="cb27-246"><a href="#cb27-246" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-247"><a href="#cb27-247" aria-hidden="true" tabindex="-1"></a><span class="co"># Loan Amount (Min, Max, Mean, Standard Deviation, Median)</span></span>
<span id="cb27-248"><a href="#cb27-248" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-249"><a href="#cb27-249" aria-hidden="true" tabindex="-1"></a>loans2 <span class="sc">%&gt;%</span></span>
<span id="cb27-250"><a href="#cb27-250" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year) <span class="sc">%&gt;%</span></span>
<span id="cb27-251"><a href="#cb27-251" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(</span>
<span id="cb27-252"><a href="#cb27-252" aria-hidden="true" tabindex="-1"></a>    <span class="at">min =</span> <span class="fu">min</span>(loan_amount, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb27-253"><a href="#cb27-253" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean =</span> <span class="fu">mean</span>(loan_amount, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb27-254"><a href="#cb27-254" aria-hidden="true" tabindex="-1"></a>    <span class="at">median =</span> <span class="fu">median</span>(loan_amount, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb27-255"><a href="#cb27-255" aria-hidden="true" tabindex="-1"></a>    <span class="at">max =</span> <span class="fu">max</span>(loan_amount, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb27-256"><a href="#cb27-256" aria-hidden="true" tabindex="-1"></a>    <span class="at">sd =</span> <span class="fu">sd</span>(loan_amount, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb27-257"><a href="#cb27-257" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> year, <span class="at">values_from =</span> <span class="fu">c</span>(min, mean, median, max, sd)) <span class="sc">%&gt;%</span></span>
<span id="cb27-258"><a href="#cb27-258" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">everything</span>(),</span>
<span id="cb27-259"><a href="#cb27-259" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="fu">c</span>(<span class="st">" "</span>, <span class="st">"year"</span>),</span>
<span id="cb27-260"><a href="#cb27-260" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_sep =</span> <span class="st">"_"</span>,</span>
<span id="cb27-261"><a href="#cb27-261" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">"value"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb27-262"><a href="#cb27-262" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> year, <span class="at">values_from =</span> value) <span class="sc">%&gt;%</span></span>
<span id="cb27-263"><a href="#cb27-263" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kbl</span>(<span class="at">caption =</span> <span class="st">"Table 3A. New York State Mortgage Applicants, Loan Amount"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb27-264"><a href="#cb27-264" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_classic</span>(<span class="at">html_font =</span> <span class="st">"Times New Roman"</span>, <span class="at">font_size=</span><span class="dv">16</span>) <span class="sc">%&gt;%</span></span>
<span id="cb27-265"><a href="#cb27-265" aria-hidden="true" tabindex="-1"></a>  <span class="fu">row_spec</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="at">extra_css =</span> <span class="st">"border-bottom: 0.5px dashed;"</span>)</span>
<span id="cb27-266"><a href="#cb27-266" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb27-267"><a href="#cb27-267" aria-hidden="true" tabindex="-1"></a><span class="co"># Applicant Income (Min, Max, Mean, Standard Deviation, Median)</span></span>
<span id="cb27-268"><a href="#cb27-268" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-269"><a href="#cb27-269" aria-hidden="true" tabindex="-1"></a>loans2 <span class="sc">%&gt;%</span></span>
<span id="cb27-270"><a href="#cb27-270" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year) <span class="sc">%&gt;%</span></span>
<span id="cb27-271"><a href="#cb27-271" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(</span>
<span id="cb27-272"><a href="#cb27-272" aria-hidden="true" tabindex="-1"></a>    <span class="at">min =</span> <span class="fu">min</span>(income, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb27-273"><a href="#cb27-273" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean =</span> <span class="fu">mean</span>(income, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb27-274"><a href="#cb27-274" aria-hidden="true" tabindex="-1"></a>    <span class="at">median =</span> <span class="fu">median</span>(income, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb27-275"><a href="#cb27-275" aria-hidden="true" tabindex="-1"></a>    <span class="at">max =</span> <span class="fu">max</span>(income, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb27-276"><a href="#cb27-276" aria-hidden="true" tabindex="-1"></a>    <span class="at">sd =</span> <span class="fu">sd</span>(income, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb27-277"><a href="#cb27-277" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> year, <span class="at">values_from =</span> <span class="fu">c</span>(min, mean, median, max, sd)) <span class="sc">%&gt;%</span></span>
<span id="cb27-278"><a href="#cb27-278" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">everything</span>(),</span>
<span id="cb27-279"><a href="#cb27-279" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="fu">c</span>(<span class="st">" "</span>, <span class="st">"year"</span>),</span>
<span id="cb27-280"><a href="#cb27-280" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_sep =</span> <span class="st">"_"</span>,</span>
<span id="cb27-281"><a href="#cb27-281" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">"value"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb27-282"><a href="#cb27-282" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> year, <span class="at">values_from =</span> value) <span class="sc">%&gt;%</span></span>
<span id="cb27-283"><a href="#cb27-283" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kbl</span>(<span class="at">caption =</span> <span class="st">"Table 3B. New York State Mortgage Applicants, Income"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb27-284"><a href="#cb27-284" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_classic</span>(<span class="at">html_font =</span> <span class="st">"Times New Roman"</span>, <span class="at">font_size=</span><span class="dv">16</span>) <span class="sc">%&gt;%</span></span>
<span id="cb27-285"><a href="#cb27-285" aria-hidden="true" tabindex="-1"></a>  <span class="fu">row_spec</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="at">extra_css =</span> <span class="st">"border-bottom: 0.5px dashed;"</span>)</span>
<span id="cb27-286"><a href="#cb27-286" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-287"><a href="#cb27-287" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb27-288"><a href="#cb27-288" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-289"><a href="#cb27-289" aria-hidden="true" tabindex="-1"></a>Chart 1 plots the average loan requested by New York State mortgage applicants by race. Asian applicants consistently request the largest loans, while Native American/Alaskan Native applicants consistently request the smallest loans. </span>
<span id="cb27-290"><a href="#cb27-290" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-291"><a href="#cb27-291" aria-hidden="true" tabindex="-1"></a>Chart 2 plots the average income of New York State mortgage applicants by race. Asian and non-Hispanic White applicants generally have the highest incomes, while Native American/Alaskan Native applicants generally have the lowest incomes. </span>
<span id="cb27-292"><a href="#cb27-292" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-293"><a href="#cb27-293" aria-hidden="true" tabindex="-1"></a>The two charts indicate that the rankings of average loan requested and average income by applicant race are not necessarily matching. For example, non-Hispanic White applicants have the second highest average income, but they do not request the second highest average loans. This goes against the general reasoning that higher income individuals qualify for higher loans and so request larger mortgages. Also, Black applicants have the lowest average income, but they do not typically request the lowest average loan amount.</span>
<span id="cb27-294"><a href="#cb27-294" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-297"><a href="#cb27-297" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb27-298"><a href="#cb27-298" aria-hidden="true" tabindex="-1"></a><span class="co"># Define colors to use in the ensuing plots</span></span>
<span id="cb27-299"><a href="#cb27-299" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-300"><a href="#cb27-300" aria-hidden="true" tabindex="-1"></a>PURPLE <span class="ot">&lt;-</span> <span class="st">"#800080"</span></span>
<span id="cb27-301"><a href="#cb27-301" aria-hidden="true" tabindex="-1"></a>GREEN <span class="ot">&lt;-</span> <span class="st">"#2FC1D3"</span></span>
<span id="cb27-302"><a href="#cb27-302" aria-hidden="true" tabindex="-1"></a>BLUE <span class="ot">&lt;-</span> <span class="st">"#076FA1"</span></span>
<span id="cb27-303"><a href="#cb27-303" aria-hidden="true" tabindex="-1"></a>GREY <span class="ot">&lt;-</span> <span class="st">"#C7C9CB"</span></span>
<span id="cb27-304"><a href="#cb27-304" aria-hidden="true" tabindex="-1"></a>DARK_GREY <span class="ot">&lt;-</span> <span class="st">"#5C5B5D"</span></span>
<span id="cb27-305"><a href="#cb27-305" aria-hidden="true" tabindex="-1"></a>RED <span class="ot">&lt;-</span> <span class="st">"#E3120B"</span></span>
<span id="cb27-306"><a href="#cb27-306" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb27-307"><a href="#cb27-307" aria-hidden="true" tabindex="-1"></a><span class="co"># **Chart 1.** New York State Mortgage Applicants, Average Loan</span></span>
<span id="cb27-308"><a href="#cb27-308" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-309"><a href="#cb27-309" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot labels and label positions for Chart 1</span></span>
<span id="cb27-310"><a href="#cb27-310" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-311"><a href="#cb27-311" aria-hidden="true" tabindex="-1"></a>line_labels<span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb27-312"><a href="#cb27-312" aria-hidden="true" tabindex="-1"></a>  <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Native"</span>, <span class="st">"Asian"</span>, <span class="st">"Black"</span>, <span class="st">"Hispanic"</span>, <span class="st">"Pacific Islander"</span>, <span class="st">"White"</span>),</span>
<span id="cb27-313"><a href="#cb27-313" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="fu">c</span>(<span class="fu">ymd</span>(<span class="dv">20160101</span>), <span class="fu">ymd</span>(<span class="dv">20160101</span>), <span class="fu">ymd</span>(<span class="dv">20140101</span>), <span class="fu">ymd</span>(<span class="dv">20090101</span>), <span class="fu">ymd</span>(<span class="dv">20150101</span>), <span class="fu">ymd</span>(<span class="dv">20100101</span>)),</span>
<span id="cb27-314"><a href="#cb27-314" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> <span class="fu">c</span>(<span class="dv">222000</span>, <span class="dv">410000</span>, <span class="dv">229000</span>, <span class="dv">288000</span>, <span class="dv">243000</span>, <span class="dv">225000</span>),</span>
<span id="cb27-315"><a href="#cb27-315" aria-hidden="true" tabindex="-1"></a>  <span class="at">color =</span> <span class="fu">c</span>(BLUE, DARK_GREY, RED, PURPLE, GREY, GREEN))</span>
<span id="cb27-316"><a href="#cb27-316" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-317"><a href="#cb27-317" aria-hidden="true" tabindex="-1"></a>loans2 <span class="sc">%&gt;%</span> </span>
<span id="cb27-318"><a href="#cb27-318" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(hh_race, year) <span class="sc">%&gt;%</span>  </span>
<span id="cb27-319"><a href="#cb27-319" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(loan_amount), hh_race <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"white"</span>, <span class="st">"black"</span>, <span class="st">"hispanic"</span>, <span class="st">"asian"</span>, <span class="st">"pacific islander"</span>, <span class="st">"american indian or alaska native"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb27-320"><a href="#cb27-320" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean_loan =</span> <span class="fu">mean</span>(loan_amount)) <span class="sc">%&gt;%</span></span>
<span id="cb27-321"><a href="#cb27-321" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">date =</span> <span class="fu">ymd</span>(<span class="fu">paste0</span>(year, <span class="st">"0101"</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb27-322"><a href="#cb27-322" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(date, mean_loan)) <span class="sc">+</span></span>
<span id="cb27-323"><a href="#cb27-323" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">color =</span> hh_race), <span class="at">size =</span> <span class="fl">1.4</span>) <span class="sc">+</span></span>
<span id="cb27-324"><a href="#cb27-324" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(</span>
<span id="cb27-325"><a href="#cb27-325" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">fill =</span> hh_race), </span>
<span id="cb27-326"><a href="#cb27-326" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="fl">1.5</span>, </span>
<span id="cb27-327"><a href="#cb27-327" aria-hidden="true" tabindex="-1"></a>    <span class="at">pch =</span> <span class="dv">21</span>, </span>
<span id="cb27-328"><a href="#cb27-328" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"white"</span>, </span>
<span id="cb27-329"><a href="#cb27-329" aria-hidden="true" tabindex="-1"></a>    <span class="at">stroke =</span> <span class="dv">1</span> </span>
<span id="cb27-330"><a href="#cb27-330" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb27-331"><a href="#cb27-331" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(BLUE, DARK_GREY, RED, PURPLE, GREY, GREEN)) <span class="sc">+</span></span>
<span id="cb27-332"><a href="#cb27-332" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(BLUE, DARK_GREY, RED, PURPLE, GREY, GREEN)) <span class="sc">+</span> </span>
<span id="cb27-333"><a href="#cb27-333" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(</span>
<span id="cb27-334"><a href="#cb27-334" aria-hidden="true" tabindex="-1"></a>    <span class="at">limits =</span> <span class="fu">c</span>(<span class="fu">ymd</span>(<span class="dv">20070701</span>), <span class="fu">ymd</span>(<span class="dv">20170701</span>)),</span>
<span id="cb27-335"><a href="#cb27-335" aria-hidden="true" tabindex="-1"></a>    <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>), </span>
<span id="cb27-336"><a href="#cb27-336" aria-hidden="true" tabindex="-1"></a>    <span class="at">breaks =</span> <span class="fu">c</span>(<span class="fu">ymd</span>(<span class="dv">20080101</span>), <span class="fu">ymd</span>(<span class="dv">20090101</span>), <span class="fu">ymd</span>(<span class="dv">20100101</span>), <span class="fu">ymd</span>(<span class="dv">20110101</span>), <span class="fu">ymd</span>(<span class="dv">20120101</span>), <span class="fu">ymd</span>(<span class="dv">20130101</span>), <span class="fu">ymd</span>(<span class="dv">20140101</span>), <span class="fu">ymd</span>(<span class="dv">20150101</span>), <span class="fu">ymd</span>(<span class="dv">20160101</span>), <span class="fu">ymd</span>(<span class="dv">20170101</span>)), </span>
<span id="cb27-337"><a href="#cb27-337" aria-hidden="true" tabindex="-1"></a>    <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"2008"</span>, <span class="st">"2009"</span>, <span class="st">"2010"</span>, <span class="st">"2011"</span>, <span class="st">"2012"</span>, <span class="st">"2013"</span>, <span class="st">"2014"</span>, <span class="st">"2015"</span>, <span class="st">"2016"</span>, <span class="st">"2017"</span>)) <span class="sc">+</span></span>
<span id="cb27-338"><a href="#cb27-338" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(</span>
<span id="cb27-339"><a href="#cb27-339" aria-hidden="true" tabindex="-1"></a>    <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">175000</span>, <span class="dv">475000</span>),</span>
<span id="cb27-340"><a href="#cb27-340" aria-hidden="true" tabindex="-1"></a>    <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>),</span>
<span id="cb27-341"><a href="#cb27-341" aria-hidden="true" tabindex="-1"></a>    <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">200000</span>, <span class="dv">225000</span>, <span class="dv">250000</span>, <span class="dv">275000</span>, <span class="dv">300000</span>, <span class="dv">325000</span>, <span class="dv">350000</span>, <span class="dv">375000</span>, <span class="dv">400000</span>, <span class="dv">425000</span>, <span class="dv">450000</span>),</span>
<span id="cb27-342"><a href="#cb27-342" aria-hidden="true" tabindex="-1"></a>    <span class="at">labels=</span>scales<span class="sc">::</span><span class="fu">dollar_format</span>()) <span class="sc">+</span></span>
<span id="cb27-343"><a href="#cb27-343" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"**Chart 1.** New York State Mortgage Applicants, Average Loan"</span>) <span class="sc">+</span></span>
<span id="cb27-344"><a href="#cb27-344" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb27-345"><a href="#cb27-345" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"none"</span>,</span>
<span id="cb27-346"><a href="#cb27-346" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.minor.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb27-347"><a href="#cb27-347" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.major.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb27-348"><a href="#cb27-348" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.minor.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb27-349"><a href="#cb27-349" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb27-350"><a href="#cb27-350" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_markdown</span>(</span>
<span id="cb27-351"><a href="#cb27-351" aria-hidden="true" tabindex="-1"></a>      <span class="at">family =</span> <span class="st">"Econ Sans Cnd"</span>, </span>
<span id="cb27-352"><a href="#cb27-352" aria-hidden="true" tabindex="-1"></a>      <span class="at">size =</span> <span class="dv">12</span>, </span>
<span id="cb27-353"><a href="#cb27-353" aria-hidden="true" tabindex="-1"></a>      <span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb27-354"><a href="#cb27-354" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb27-355"><a href="#cb27-355" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>)) <span class="sc">+</span></span>
<span id="cb27-356"><a href="#cb27-356" aria-hidden="true" tabindex="-1"></a>  <span class="fu">new_scale_color</span>() <span class="sc">+</span> </span>
<span id="cb27-357"><a href="#cb27-357" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_shadowtext</span>( </span>
<span id="cb27-358"><a href="#cb27-358" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(x, y, <span class="at">label =</span> labels, <span class="at">color =</span> color),</span>
<span id="cb27-359"><a href="#cb27-359" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> line_labels,</span>
<span id="cb27-360"><a href="#cb27-360" aria-hidden="true" tabindex="-1"></a>    <span class="at">hjust =</span> <span class="dv">0</span>, </span>
<span id="cb27-361"><a href="#cb27-361" aria-hidden="true" tabindex="-1"></a>    <span class="at">bg.colour =</span> <span class="st">"white"</span>, </span>
<span id="cb27-362"><a href="#cb27-362" aria-hidden="true" tabindex="-1"></a>    <span class="at">bg.r =</span> <span class="fl">0.4</span>, </span>
<span id="cb27-363"><a href="#cb27-363" aria-hidden="true" tabindex="-1"></a>    <span class="at">family =</span> <span class="st">"Econ Sans Cnd"</span>,</span>
<span id="cb27-364"><a href="#cb27-364" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="fl">3.5</span>) <span class="sc">+</span> </span>
<span id="cb27-365"><a href="#cb27-365" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_identity</span>()</span>
<span id="cb27-366"><a href="#cb27-366" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb27-367"><a href="#cb27-367" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-368"><a href="#cb27-368" aria-hidden="true" tabindex="-1"></a><span class="co"># **Chart 2.** New York State Mortgage Applicants, Average Income</span></span>
<span id="cb27-369"><a href="#cb27-369" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-370"><a href="#cb27-370" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot labels and label positions for Chart 2</span></span>
<span id="cb27-371"><a href="#cb27-371" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-372"><a href="#cb27-372" aria-hidden="true" tabindex="-1"></a>line_labels<span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb27-373"><a href="#cb27-373" aria-hidden="true" tabindex="-1"></a>  <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Native"</span>, <span class="st">"Asian"</span>, <span class="st">"Black"</span>, <span class="st">"Hispanic"</span>, <span class="st">"Pacific Islander"</span>, <span class="st">"White"</span>),</span>
<span id="cb27-374"><a href="#cb27-374" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="fu">c</span>(<span class="fu">ymd</span>(<span class="dv">20150701</span>), <span class="fu">ymd</span>(<span class="dv">20150701</span>), <span class="fu">ymd</span>(<span class="dv">20150701</span>), <span class="fu">ymd</span>(<span class="dv">20150701</span>), <span class="fu">ymd</span>(<span class="dv">20150701</span>), <span class="fu">ymd</span>(<span class="dv">20150701</span>)),</span>
<span id="cb27-375"><a href="#cb27-375" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> <span class="fu">c</span>(<span class="dv">105000</span>, <span class="dv">152000</span>, <span class="dv">95000</span>, <span class="dv">111000</span>, <span class="dv">119000</span>, <span class="dv">137000</span>),</span>
<span id="cb27-376"><a href="#cb27-376" aria-hidden="true" tabindex="-1"></a>  <span class="at">color =</span> <span class="fu">c</span>(BLUE, DARK_GREY, RED, PURPLE, GREY, GREEN))</span>
<span id="cb27-377"><a href="#cb27-377" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-378"><a href="#cb27-378" aria-hidden="true" tabindex="-1"></a>loans2 <span class="sc">%&gt;%</span></span>
<span id="cb27-379"><a href="#cb27-379" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(hh_race, year) <span class="sc">%&gt;%</span> </span>
<span id="cb27-380"><a href="#cb27-380" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(income), hh_race <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"white"</span>, <span class="st">"black"</span>, <span class="st">"hispanic"</span>, <span class="st">"asian"</span>, <span class="st">"pacific islander"</span>, <span class="st">"american indian or alaska native"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb27-381"><a href="#cb27-381" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean_income =</span> <span class="fu">mean</span>(income)) <span class="sc">%&gt;%</span></span>
<span id="cb27-382"><a href="#cb27-382" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">date =</span> <span class="fu">ymd</span>(<span class="fu">paste0</span>(year, <span class="st">"0101"</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb27-383"><a href="#cb27-383" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(date, mean_income)) <span class="sc">+</span></span>
<span id="cb27-384"><a href="#cb27-384" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">color =</span> hh_race), <span class="at">size =</span> <span class="fl">1.4</span>) <span class="sc">+</span></span>
<span id="cb27-385"><a href="#cb27-385" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(</span>
<span id="cb27-386"><a href="#cb27-386" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">fill =</span> hh_race), </span>
<span id="cb27-387"><a href="#cb27-387" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="fl">1.5</span>, </span>
<span id="cb27-388"><a href="#cb27-388" aria-hidden="true" tabindex="-1"></a>    <span class="at">pch =</span> <span class="dv">21</span>, </span>
<span id="cb27-389"><a href="#cb27-389" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"white"</span>, </span>
<span id="cb27-390"><a href="#cb27-390" aria-hidden="true" tabindex="-1"></a>    <span class="at">stroke =</span> <span class="dv">1</span> </span>
<span id="cb27-391"><a href="#cb27-391" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb27-392"><a href="#cb27-392" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(BLUE, DARK_GREY, RED, PURPLE, GREY, GREEN)) <span class="sc">+</span></span>
<span id="cb27-393"><a href="#cb27-393" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(BLUE, DARK_GREY, RED, PURPLE, GREY, GREEN)) <span class="sc">+</span> </span>
<span id="cb27-394"><a href="#cb27-394" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(</span>
<span id="cb27-395"><a href="#cb27-395" aria-hidden="true" tabindex="-1"></a>    <span class="at">limits =</span> <span class="fu">c</span>(<span class="fu">ymd</span>(<span class="dv">20070701</span>), <span class="fu">ymd</span>(<span class="dv">20170701</span>)),</span>
<span id="cb27-396"><a href="#cb27-396" aria-hidden="true" tabindex="-1"></a>    <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>), </span>
<span id="cb27-397"><a href="#cb27-397" aria-hidden="true" tabindex="-1"></a>    <span class="at">breaks =</span> <span class="fu">c</span>(<span class="fu">ymd</span>(<span class="dv">20080101</span>), <span class="fu">ymd</span>(<span class="dv">20090101</span>), <span class="fu">ymd</span>(<span class="dv">20100101</span>), <span class="fu">ymd</span>(<span class="dv">20110101</span>), <span class="fu">ymd</span>(<span class="dv">20120101</span>), <span class="fu">ymd</span>(<span class="dv">20130101</span>), <span class="fu">ymd</span>(<span class="dv">20140101</span>), <span class="fu">ymd</span>(<span class="dv">20150101</span>), <span class="fu">ymd</span>(<span class="dv">20160101</span>), <span class="fu">ymd</span>(<span class="dv">20170101</span>)), </span>
<span id="cb27-398"><a href="#cb27-398" aria-hidden="true" tabindex="-1"></a>    <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"2008"</span>, <span class="st">"2009"</span>, <span class="st">"2010"</span>, <span class="st">"2011"</span>, <span class="st">"2012"</span>, <span class="st">"2013"</span>, <span class="st">"2014"</span>, <span class="st">"2015"</span>, <span class="st">"2016"</span>, <span class="st">"2017"</span>)) <span class="sc">+</span></span>
<span id="cb27-399"><a href="#cb27-399" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(</span>
<span id="cb27-400"><a href="#cb27-400" aria-hidden="true" tabindex="-1"></a>    <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">85000</span>, <span class="dv">165000</span>),</span>
<span id="cb27-401"><a href="#cb27-401" aria-hidden="true" tabindex="-1"></a>    <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>),</span>
<span id="cb27-402"><a href="#cb27-402" aria-hidden="true" tabindex="-1"></a>    <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">90000</span>, <span class="dv">100000</span>, <span class="dv">110000</span>, <span class="dv">120000</span>, <span class="dv">130000</span>, <span class="dv">140000</span>, <span class="dv">150000</span>, <span class="dv">160000</span>),</span>
<span id="cb27-403"><a href="#cb27-403" aria-hidden="true" tabindex="-1"></a>    <span class="at">labels=</span>scales<span class="sc">::</span><span class="fu">dollar_format</span>()) <span class="sc">+</span></span>
<span id="cb27-404"><a href="#cb27-404" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"**Chart 2.** New York State Mortgage Loan Applicants, Average Income"</span>) <span class="sc">+</span></span>
<span id="cb27-405"><a href="#cb27-405" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb27-406"><a href="#cb27-406" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"none"</span>,</span>
<span id="cb27-407"><a href="#cb27-407" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.minor.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb27-408"><a href="#cb27-408" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.major.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb27-409"><a href="#cb27-409" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.minor.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb27-410"><a href="#cb27-410" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb27-411"><a href="#cb27-411" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_markdown</span>(</span>
<span id="cb27-412"><a href="#cb27-412" aria-hidden="true" tabindex="-1"></a>      <span class="at">family =</span> <span class="st">"Econ Sans Cnd"</span>, </span>
<span id="cb27-413"><a href="#cb27-413" aria-hidden="true" tabindex="-1"></a>      <span class="at">size =</span> <span class="dv">12</span>, </span>
<span id="cb27-414"><a href="#cb27-414" aria-hidden="true" tabindex="-1"></a>      <span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb27-415"><a href="#cb27-415" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb27-416"><a href="#cb27-416" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>)) <span class="sc">+</span></span>
<span id="cb27-417"><a href="#cb27-417" aria-hidden="true" tabindex="-1"></a>  <span class="fu">new_scale_color</span>() <span class="sc">+</span> </span>
<span id="cb27-418"><a href="#cb27-418" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_shadowtext</span>( </span>
<span id="cb27-419"><a href="#cb27-419" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(x, y, <span class="at">label =</span> labels, <span class="at">color =</span> color),</span>
<span id="cb27-420"><a href="#cb27-420" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> line_labels,</span>
<span id="cb27-421"><a href="#cb27-421" aria-hidden="true" tabindex="-1"></a>    <span class="at">hjust =</span> <span class="dv">0</span>, </span>
<span id="cb27-422"><a href="#cb27-422" aria-hidden="true" tabindex="-1"></a>    <span class="at">bg.colour =</span> <span class="st">"white"</span>, </span>
<span id="cb27-423"><a href="#cb27-423" aria-hidden="true" tabindex="-1"></a>    <span class="at">bg.r =</span> <span class="fl">0.4</span>, </span>
<span id="cb27-424"><a href="#cb27-424" aria-hidden="true" tabindex="-1"></a>    <span class="at">family =</span> <span class="st">"Econ Sans Cnd"</span>,</span>
<span id="cb27-425"><a href="#cb27-425" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="fl">3.5</span>) <span class="sc">+</span> </span>
<span id="cb27-426"><a href="#cb27-426" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_identity</span>()</span>
<span id="cb27-427"><a href="#cb27-427" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb27-428"><a href="#cb27-428" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-429"><a href="#cb27-429" aria-hidden="true" tabindex="-1"></a><span class="fu">## Method of Analysis </span></span>
<span id="cb27-430"><a href="#cb27-430" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-431"><a href="#cb27-431" aria-hidden="true" tabindex="-1"></a>To analyze whether race affects mortgage approvals, the approval and denial rates of mortgage applications by race of applicant will be compared. The approval and denial rates of mortgage applicants, segmented by race, will be plotted over time. If there is a fairly large and consistent gap between in approval or denial rates between races across time , then there may exist a systematic race-based effect on mortgage outcomes.</span>
<span id="cb27-432"><a href="#cb27-432" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-433"><a href="#cb27-433" aria-hidden="true" tabindex="-1"></a>To ensure the robustness of initial analyses, geographic or spatial variation in mortgage approvals between counties will be analyzed. Mortgage approval rates by race and county will be represented on county-level maps of New York State. These maps are "geographic heat maps," which represent the level of approval rates in a county by the shade of a color - the deeper the color, the higher the approval rate. If a race effect on mortgage lending is implied at the statewide level and a specific race of applicant consistently has lower (or higher) approval rates across counties, then the race-based effect is not confined to a single region but is in fact prevalent across the state. </span>
<span id="cb27-434"><a href="#cb27-434" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-435"><a href="#cb27-435" aria-hidden="true" tabindex="-1"></a>Lastly, the demographic variation in each county will be considered. The HMDA data does not provide a racial breakdown of counties by race, but the percent of applicants by race can be used to represent county demographics. It may be the case that a county with a greater (smaller) number of applicants of a specific race will have higher (lower) mortgage approval rates for said race. The county percentage of applicants of a specific race will be compared against the county mortgage approval rates of said race to analyze such a possibility.</span>
<span id="cb27-436"><a href="#cb27-436" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-437"><a href="#cb27-437" aria-hidden="true" tabindex="-1"></a><span class="fu">## Visual Analysis</span></span>
<span id="cb27-438"><a href="#cb27-438" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-439"><a href="#cb27-439" aria-hidden="true" tabindex="-1"></a><span class="fu">### Mortgage Applications by Race</span></span>
<span id="cb27-440"><a href="#cb27-440" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-441"><a href="#cb27-441" aria-hidden="true" tabindex="-1"></a>Chart 3 plots the percentage of mortgage applications denied by applicant race, and Chart 4 plots the percentage of mortgage applications approved by applicant race. </span>
<span id="cb27-442"><a href="#cb27-442" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-443"><a href="#cb27-443" aria-hidden="true" tabindex="-1"></a>The percentage of mortgage applications denied by applicant race is calculated by comparing the number of mortgage denials for applicants of a specific race against the total number of mortgage denials submitted by applicants of said race. Similarly, the percentage of mortgage applications approved by applicant race is calculated by comparing the number of mortgage approvals for applicants of a specific race against the total number of mortgage approvals submitted by applicants of said race.</span>
<span id="cb27-444"><a href="#cb27-444" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-445"><a href="#cb27-445" aria-hidden="true" tabindex="-1"></a>Chart 3 shows that Native American/Alaskan Native applicants are denied at higher rates than applicants of other races, with denial rates consistently over 30 percent. Non-Hispanic White and Asian applicants have the lowest denial rates, with rates consistently under 25 percent. </span>
<span id="cb27-446"><a href="#cb27-446" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-447"><a href="#cb27-447" aria-hidden="true" tabindex="-1"></a>Chart 4 shows a similar ranking, as Native American/Alaskan Native applicants are approved at the lowest or second lowest rates and non-Hispanic and Asian applicants having the highest approval rates. Black applicants were approved at the lowest rates in 2008-2009 and in 2011-2013, but since then have been approved at the second lowest rates. </span>
<span id="cb27-448"><a href="#cb27-448" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-449"><a href="#cb27-449" aria-hidden="true" tabindex="-1"></a>Both Chart 3 and Chart 4 display similar trends between the approval and denial rates of the different races of applicants - the gaps between the races remain largely the same over time. </span>
<span id="cb27-450"><a href="#cb27-450" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-451"><a href="#cb27-451" aria-hidden="true" tabindex="-1"></a>For example, the denial rate for Native American/Alaskan Native applicants was around 43 percent in 2008 while the denial rate for Asian applicants was around 25 percent in 2008 - a difference of 18 percent; the denial rate for Native American/Alaskan Native applicants was 30 percent and 15 percent for Asian applicants in 2017 - a difference of 15 percent.</span>
<span id="cb27-452"><a href="#cb27-452" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-453"><a href="#cb27-453" aria-hidden="true" tabindex="-1"></a>Similarly, the approval rate for non-Hispanic white applicants was around 46 percent in 2008 while the approval rate for Black applicants was around 27 percent in 2008 - a difference of 19 percent; the approval rate for non-Hispanic white applicants was 62 percent and 45 percent for Black applicants in 2017 - a difference of 17 percent. </span>
<span id="cb27-454"><a href="#cb27-454" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-455"><a href="#cb27-455" aria-hidden="true" tabindex="-1"></a>The stable and fairly large differences between applicants by race across time imply that a systematic race effect may be present when it comes to decisions made by mortgage lenders. The presence of a systematic race effect on mortgage lending in New York State is supported by the observation that two specific races of applicants are consistently at the top of mortgage approvals and at the bottom of mortgage denials while one specific race of applicant is consistently at the bottom of mortgage approvals and at the top of mortgage approvals. </span>
<span id="cb27-456"><a href="#cb27-456" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-459"><a href="#cb27-459" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb27-460"><a href="#cb27-460" aria-hidden="true" tabindex="-1"></a><span class="co"># **Chart 3.** New York State Mortgage Applications, % Denied</span></span>
<span id="cb27-461"><a href="#cb27-461" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-462"><a href="#cb27-462" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot labels and label positions for Chart 3</span></span>
<span id="cb27-463"><a href="#cb27-463" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-464"><a href="#cb27-464" aria-hidden="true" tabindex="-1"></a>line_labels<span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb27-465"><a href="#cb27-465" aria-hidden="true" tabindex="-1"></a>  <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Native"</span>, <span class="st">"Asian"</span>, <span class="st">"Black"</span>, <span class="st">"Hispanic"</span>, <span class="st">"Pacific Islander"</span>, <span class="st">"White"</span>),</span>
<span id="cb27-466"><a href="#cb27-466" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="fu">c</span>(<span class="fu">ymd</span>(<span class="dv">20150101</span>), <span class="fu">ymd</span>(<span class="dv">20140101</span>), <span class="fu">ymd</span>(<span class="dv">20150101</span>), <span class="fu">ymd</span>(<span class="dv">20140101</span>), <span class="fu">ymd</span>(<span class="dv">20140101</span>), <span class="fu">ymd</span>(<span class="dv">20150101</span>)),</span>
<span id="cb27-467"><a href="#cb27-467" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> <span class="fu">c</span>(<span class="fl">0.39</span>, <span class="fl">0.215</span>, <span class="fl">0.31</span>, <span class="fl">0.265</span>, <span class="fl">0.345</span>, <span class="fl">0.16</span>),</span>
<span id="cb27-468"><a href="#cb27-468" aria-hidden="true" tabindex="-1"></a>  <span class="at">color =</span> <span class="fu">c</span>(BLUE, DARK_GREY, RED, PURPLE, GREY, GREEN))</span>
<span id="cb27-469"><a href="#cb27-469" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-470"><a href="#cb27-470" aria-hidden="true" tabindex="-1"></a>loans3 <span class="ot">&lt;-</span> loans2 <span class="sc">%&gt;%</span></span>
<span id="cb27-471"><a href="#cb27-471" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(hh_race, year) <span class="sc">%&gt;%</span></span>
<span id="cb27-472"><a href="#cb27-472" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">count_yr_race =</span> <span class="fu">n</span>(), </span>
<span id="cb27-473"><a href="#cb27-473" aria-hidden="true" tabindex="-1"></a>         <span class="at">denial_yr_race =</span> <span class="fu">sum</span>(action <span class="sc">==</span> <span class="st">"application denied by financial institution"</span>),</span>
<span id="cb27-474"><a href="#cb27-474" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_denial_yr_race =</span> <span class="fu">round</span>(denial_yr_race <span class="sc">/</span> count_yr_race, <span class="dv">3</span>),</span>
<span id="cb27-475"><a href="#cb27-475" aria-hidden="true" tabindex="-1"></a>         <span class="at">approval_yr_race =</span> <span class="fu">sum</span>(action <span class="sc">==</span> <span class="st">"loan originated"</span> <span class="sc">|</span> action <span class="sc">==</span> <span class="st">"application </span></span>
<span id="cb27-476"><a href="#cb27-476" aria-hidden="true" tabindex="-1"></a><span class="st">                                approved but not accepted"</span>),</span>
<span id="cb27-477"><a href="#cb27-477" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_approval_yr_race =</span> <span class="fu">round</span>(approval_yr_race <span class="sc">/</span> count_yr_race, <span class="dv">3</span>))</span>
<span id="cb27-478"><a href="#cb27-478" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-479"><a href="#cb27-479" aria-hidden="true" tabindex="-1"></a>loans3 <span class="sc">%&gt;%</span></span>
<span id="cb27-480"><a href="#cb27-480" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(hh_race, year) <span class="sc">%&gt;%</span> </span>
<span id="cb27-481"><a href="#cb27-481" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(hh_race <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"white"</span>, <span class="st">"black"</span>, <span class="st">"hispanic"</span>, <span class="st">"asian"</span>, <span class="st">"pacific islander"</span>, <span class="st">"american indian or alaska native"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb27-482"><a href="#cb27-482" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">date =</span> <span class="fu">ymd</span>(<span class="fu">paste0</span>(year, <span class="st">"0101"</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb27-483"><a href="#cb27-483" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(hh_race, date, percent_denial_yr_race) <span class="sc">%&gt;%</span></span>
<span id="cb27-484"><a href="#cb27-484" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(date, percent_denial_yr_race)) <span class="sc">+</span></span>
<span id="cb27-485"><a href="#cb27-485" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">color =</span> hh_race), <span class="at">size =</span> <span class="fl">1.4</span>) <span class="sc">+</span></span>
<span id="cb27-486"><a href="#cb27-486" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(</span>
<span id="cb27-487"><a href="#cb27-487" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">fill =</span> hh_race), </span>
<span id="cb27-488"><a href="#cb27-488" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="fl">1.5</span>, </span>
<span id="cb27-489"><a href="#cb27-489" aria-hidden="true" tabindex="-1"></a>    <span class="at">pch =</span> <span class="dv">21</span>, </span>
<span id="cb27-490"><a href="#cb27-490" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"white"</span>, </span>
<span id="cb27-491"><a href="#cb27-491" aria-hidden="true" tabindex="-1"></a>    <span class="at">stroke =</span> <span class="dv">1</span> </span>
<span id="cb27-492"><a href="#cb27-492" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb27-493"><a href="#cb27-493" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(BLUE, DARK_GREY, RED, PURPLE, GREY, GREEN)) <span class="sc">+</span></span>
<span id="cb27-494"><a href="#cb27-494" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(BLUE, DARK_GREY, RED, PURPLE, GREY, GREEN)) <span class="sc">+</span> </span>
<span id="cb27-495"><a href="#cb27-495" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(</span>
<span id="cb27-496"><a href="#cb27-496" aria-hidden="true" tabindex="-1"></a>    <span class="at">limits =</span> <span class="fu">c</span>(<span class="fu">ymd</span>(<span class="dv">20070701</span>), <span class="fu">ymd</span>(<span class="dv">20170701</span>)),</span>
<span id="cb27-497"><a href="#cb27-497" aria-hidden="true" tabindex="-1"></a>    <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>), </span>
<span id="cb27-498"><a href="#cb27-498" aria-hidden="true" tabindex="-1"></a>    <span class="at">breaks =</span> <span class="fu">c</span>(<span class="fu">ymd</span>(<span class="dv">20080101</span>), <span class="fu">ymd</span>(<span class="dv">20090101</span>), <span class="fu">ymd</span>(<span class="dv">20100101</span>), <span class="fu">ymd</span>(<span class="dv">20110101</span>), <span class="fu">ymd</span>(<span class="dv">20120101</span>), <span class="fu">ymd</span>(<span class="dv">20130101</span>), <span class="fu">ymd</span>(<span class="dv">20140101</span>), <span class="fu">ymd</span>(<span class="dv">20150101</span>), <span class="fu">ymd</span>(<span class="dv">20160101</span>), <span class="fu">ymd</span>(<span class="dv">20170101</span>)), </span>
<span id="cb27-499"><a href="#cb27-499" aria-hidden="true" tabindex="-1"></a>    <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"2008"</span>, <span class="st">"2009"</span>, <span class="st">"2010"</span>, <span class="st">"2011"</span>, <span class="st">"2012"</span>, <span class="st">"2013"</span>, <span class="st">"2014"</span>, <span class="st">"2015"</span>, <span class="st">"2016"</span>, <span class="st">"2017"</span>)) <span class="sc">+</span></span>
<span id="cb27-500"><a href="#cb27-500" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(</span>
<span id="cb27-501"><a href="#cb27-501" aria-hidden="true" tabindex="-1"></a>    <span class="at">limits =</span> <span class="fu">c</span>(<span class="fl">0.07</span>, <span class="fl">0.47</span>),</span>
<span id="cb27-502"><a href="#cb27-502" aria-hidden="true" tabindex="-1"></a>    <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>),</span>
<span id="cb27-503"><a href="#cb27-503" aria-hidden="true" tabindex="-1"></a>    <span class="at">breaks =</span> <span class="fu">c</span>(<span class="fl">0.1</span>, <span class="fl">0.15</span>, <span class="fl">0.2</span>, <span class="fl">0.25</span>, <span class="fl">0.3</span>, <span class="fl">0.35</span>, <span class="fl">0.4</span>, <span class="fl">0.45</span>),</span>
<span id="cb27-504"><a href="#cb27-504" aria-hidden="true" tabindex="-1"></a>    <span class="at">labels=</span>scales<span class="sc">::</span><span class="fu">percent_format</span>()) <span class="sc">+</span></span>
<span id="cb27-505"><a href="#cb27-505" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"**Chart 3.** New York State Mortgage Applications, % Denied"</span>) <span class="sc">+</span></span>
<span id="cb27-506"><a href="#cb27-506" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb27-507"><a href="#cb27-507" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"none"</span>,</span>
<span id="cb27-508"><a href="#cb27-508" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.minor.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb27-509"><a href="#cb27-509" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.major.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb27-510"><a href="#cb27-510" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.minor.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb27-511"><a href="#cb27-511" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb27-512"><a href="#cb27-512" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_markdown</span>(</span>
<span id="cb27-513"><a href="#cb27-513" aria-hidden="true" tabindex="-1"></a>      <span class="at">family =</span> <span class="st">"Econ Sans Cnd"</span>, </span>
<span id="cb27-514"><a href="#cb27-514" aria-hidden="true" tabindex="-1"></a>      <span class="at">size =</span> <span class="dv">12</span>, </span>
<span id="cb27-515"><a href="#cb27-515" aria-hidden="true" tabindex="-1"></a>      <span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb27-516"><a href="#cb27-516" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb27-517"><a href="#cb27-517" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>)) <span class="sc">+</span></span>
<span id="cb27-518"><a href="#cb27-518" aria-hidden="true" tabindex="-1"></a>  <span class="fu">new_scale_color</span>() <span class="sc">+</span> </span>
<span id="cb27-519"><a href="#cb27-519" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_shadowtext</span>( </span>
<span id="cb27-520"><a href="#cb27-520" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(x, y, <span class="at">label =</span> labels, <span class="at">color =</span> color),</span>
<span id="cb27-521"><a href="#cb27-521" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> line_labels,</span>
<span id="cb27-522"><a href="#cb27-522" aria-hidden="true" tabindex="-1"></a>    <span class="at">hjust =</span> <span class="dv">0</span>, </span>
<span id="cb27-523"><a href="#cb27-523" aria-hidden="true" tabindex="-1"></a>    <span class="at">bg.colour =</span> <span class="st">"white"</span>, </span>
<span id="cb27-524"><a href="#cb27-524" aria-hidden="true" tabindex="-1"></a>    <span class="at">bg.r =</span> <span class="fl">0.4</span>, </span>
<span id="cb27-525"><a href="#cb27-525" aria-hidden="true" tabindex="-1"></a>    <span class="at">family =</span> <span class="st">"Econ Sans Cnd"</span>,</span>
<span id="cb27-526"><a href="#cb27-526" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="fl">3.5</span>) <span class="sc">+</span> </span>
<span id="cb27-527"><a href="#cb27-527" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_identity</span>()</span>
<span id="cb27-528"><a href="#cb27-528" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb27-529"><a href="#cb27-529" aria-hidden="true" tabindex="-1"></a><span class="co"># **Chart 4.** New York State Mortgage Applications, % Approved</span></span>
<span id="cb27-530"><a href="#cb27-530" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-531"><a href="#cb27-531" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot labels and label positions for Chart 4</span></span>
<span id="cb27-532"><a href="#cb27-532" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-533"><a href="#cb27-533" aria-hidden="true" tabindex="-1"></a>line_labels<span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb27-534"><a href="#cb27-534" aria-hidden="true" tabindex="-1"></a>  <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Native"</span>, <span class="st">"Asian"</span>, <span class="st">"Black"</span>, <span class="st">"Hispanic"</span>, <span class="st">"Pacific Islander"</span>, <span class="st">"White"</span>),</span>
<span id="cb27-535"><a href="#cb27-535" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="fu">c</span>(<span class="fu">ymd</span>(<span class="dv">20160101</span>), <span class="fu">ymd</span>(<span class="dv">20160101</span>), <span class="fu">ymd</span>(<span class="dv">20120101</span>), <span class="fu">ymd</span>(<span class="dv">20150101</span>), <span class="fu">ymd</span>(<span class="dv">20150101</span>), <span class="fu">ymd</span>(<span class="dv">20150101</span>)),</span>
<span id="cb27-536"><a href="#cb27-536" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> <span class="fu">c</span>(<span class="fl">0.36</span>, <span class="fl">0.564</span>, <span class="fl">0.365</span>, <span class="fl">0.54</span>, <span class="fl">0.498</span>, <span class="fl">0.628</span>),</span>
<span id="cb27-537"><a href="#cb27-537" aria-hidden="true" tabindex="-1"></a>  <span class="at">color =</span> <span class="fu">c</span>(BLUE, DARK_GREY, RED, PURPLE, GREY, GREEN))</span>
<span id="cb27-538"><a href="#cb27-538" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-539"><a href="#cb27-539" aria-hidden="true" tabindex="-1"></a>loans3 <span class="sc">%&gt;%</span></span>
<span id="cb27-540"><a href="#cb27-540" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(hh_race, year) <span class="sc">%&gt;%</span> </span>
<span id="cb27-541"><a href="#cb27-541" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(hh_race <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"white"</span>, <span class="st">"black"</span>, <span class="st">"hispanic"</span>, <span class="st">"asian"</span>, <span class="st">"pacific islander"</span>, <span class="st">"american indian or alaska native"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb27-542"><a href="#cb27-542" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">date =</span> <span class="fu">ymd</span>(<span class="fu">paste0</span>(year, <span class="st">"0101"</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb27-543"><a href="#cb27-543" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(hh_race, date, percent_approval_yr_race) <span class="sc">%&gt;%</span></span>
<span id="cb27-544"><a href="#cb27-544" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(date, percent_approval_yr_race)) <span class="sc">+</span></span>
<span id="cb27-545"><a href="#cb27-545" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">color =</span> hh_race), <span class="at">size =</span> <span class="fl">1.4</span>) <span class="sc">+</span></span>
<span id="cb27-546"><a href="#cb27-546" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(</span>
<span id="cb27-547"><a href="#cb27-547" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">fill =</span> hh_race), </span>
<span id="cb27-548"><a href="#cb27-548" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="fl">1.5</span>, </span>
<span id="cb27-549"><a href="#cb27-549" aria-hidden="true" tabindex="-1"></a>    <span class="at">pch =</span> <span class="dv">21</span>, </span>
<span id="cb27-550"><a href="#cb27-550" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"white"</span>, </span>
<span id="cb27-551"><a href="#cb27-551" aria-hidden="true" tabindex="-1"></a>    <span class="at">stroke =</span> <span class="dv">1</span> </span>
<span id="cb27-552"><a href="#cb27-552" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb27-553"><a href="#cb27-553" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(BLUE, DARK_GREY, RED, PURPLE, GREY, GREEN)) <span class="sc">+</span></span>
<span id="cb27-554"><a href="#cb27-554" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(BLUE, DARK_GREY, RED, PURPLE, GREY, GREEN)) <span class="sc">+</span> </span>
<span id="cb27-555"><a href="#cb27-555" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(</span>
<span id="cb27-556"><a href="#cb27-556" aria-hidden="true" tabindex="-1"></a>    <span class="at">limits =</span> <span class="fu">c</span>(<span class="fu">ymd</span>(<span class="dv">20070701</span>), <span class="fu">ymd</span>(<span class="dv">20170701</span>)),</span>
<span id="cb27-557"><a href="#cb27-557" aria-hidden="true" tabindex="-1"></a>    <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>), </span>
<span id="cb27-558"><a href="#cb27-558" aria-hidden="true" tabindex="-1"></a>    <span class="at">breaks =</span> <span class="fu">c</span>(<span class="fu">ymd</span>(<span class="dv">20080101</span>), <span class="fu">ymd</span>(<span class="dv">20090101</span>), <span class="fu">ymd</span>(<span class="dv">20100101</span>), <span class="fu">ymd</span>(<span class="dv">20110101</span>), <span class="fu">ymd</span>(<span class="dv">20120101</span>), <span class="fu">ymd</span>(<span class="dv">20130101</span>), <span class="fu">ymd</span>(<span class="dv">20140101</span>), <span class="fu">ymd</span>(<span class="dv">20150101</span>), <span class="fu">ymd</span>(<span class="dv">20160101</span>), <span class="fu">ymd</span>(<span class="dv">20170101</span>)), </span>
<span id="cb27-559"><a href="#cb27-559" aria-hidden="true" tabindex="-1"></a>    <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"2008"</span>, <span class="st">"2009"</span>, <span class="st">"2010"</span>, <span class="st">"2011"</span>, <span class="st">"2012"</span>, <span class="st">"2013"</span>, <span class="st">"2014"</span>, <span class="st">"2015"</span>, <span class="st">"2016"</span>, <span class="st">"2017"</span>)) <span class="sc">+</span></span>
<span id="cb27-560"><a href="#cb27-560" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(</span>
<span id="cb27-561"><a href="#cb27-561" aria-hidden="true" tabindex="-1"></a>    <span class="at">limits =</span> <span class="fu">c</span>(<span class="fl">0.23</span>, <span class="fl">0.67</span>),</span>
<span id="cb27-562"><a href="#cb27-562" aria-hidden="true" tabindex="-1"></a>    <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>),</span>
<span id="cb27-563"><a href="#cb27-563" aria-hidden="true" tabindex="-1"></a>    <span class="at">breaks =</span> <span class="fu">c</span>(<span class="fl">0.25</span>, <span class="fl">0.3</span>, <span class="fl">0.35</span>, <span class="fl">0.4</span>, <span class="fl">0.45</span>, <span class="fl">0.5</span>, <span class="fl">0.55</span>, <span class="fl">0.6</span>, <span class="fl">0.65</span>),</span>
<span id="cb27-564"><a href="#cb27-564" aria-hidden="true" tabindex="-1"></a>    <span class="at">labels=</span>scales<span class="sc">::</span><span class="fu">percent_format</span>()) <span class="sc">+</span></span>
<span id="cb27-565"><a href="#cb27-565" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"**Chart 4.** New York State Mortgage Applications, % Approved"</span>) <span class="sc">+</span></span>
<span id="cb27-566"><a href="#cb27-566" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb27-567"><a href="#cb27-567" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"none"</span>,</span>
<span id="cb27-568"><a href="#cb27-568" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.minor.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb27-569"><a href="#cb27-569" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.major.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb27-570"><a href="#cb27-570" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.minor.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb27-571"><a href="#cb27-571" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb27-572"><a href="#cb27-572" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_markdown</span>(</span>
<span id="cb27-573"><a href="#cb27-573" aria-hidden="true" tabindex="-1"></a>      <span class="at">family =</span> <span class="st">"Econ Sans Cnd"</span>, </span>
<span id="cb27-574"><a href="#cb27-574" aria-hidden="true" tabindex="-1"></a>      <span class="at">size =</span> <span class="dv">12</span>, </span>
<span id="cb27-575"><a href="#cb27-575" aria-hidden="true" tabindex="-1"></a>      <span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb27-576"><a href="#cb27-576" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb27-577"><a href="#cb27-577" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>)) <span class="sc">+</span></span>
<span id="cb27-578"><a href="#cb27-578" aria-hidden="true" tabindex="-1"></a>  <span class="fu">new_scale_color</span>() <span class="sc">+</span> </span>
<span id="cb27-579"><a href="#cb27-579" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_shadowtext</span>( </span>
<span id="cb27-580"><a href="#cb27-580" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(x, y, <span class="at">label =</span> labels, <span class="at">color =</span> color),</span>
<span id="cb27-581"><a href="#cb27-581" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> line_labels,</span>
<span id="cb27-582"><a href="#cb27-582" aria-hidden="true" tabindex="-1"></a>    <span class="at">hjust =</span> <span class="dv">0</span>, </span>
<span id="cb27-583"><a href="#cb27-583" aria-hidden="true" tabindex="-1"></a>    <span class="at">bg.colour =</span> <span class="st">"white"</span>, </span>
<span id="cb27-584"><a href="#cb27-584" aria-hidden="true" tabindex="-1"></a>    <span class="at">bg.r =</span> <span class="fl">0.4</span>, </span>
<span id="cb27-585"><a href="#cb27-585" aria-hidden="true" tabindex="-1"></a>    <span class="at">family =</span> <span class="st">"Econ Sans Cnd"</span>,</span>
<span id="cb27-586"><a href="#cb27-586" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="fl">3.5</span>) <span class="sc">+</span> </span>
<span id="cb27-587"><a href="#cb27-587" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_identity</span>()</span>
<span id="cb27-588"><a href="#cb27-588" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-589"><a href="#cb27-589" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb27-590"><a href="#cb27-590" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-591"><a href="#cb27-591" aria-hidden="true" tabindex="-1"></a><span class="fu">### Mortgage Applications by Race and County</span></span>
<span id="cb27-592"><a href="#cb27-592" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-593"><a href="#cb27-593" aria-hidden="true" tabindex="-1"></a>Next, the geographic influence on the relationship between race and mortgage application outcomes is analyzed. Analysis has been streamlined to focus on four groups: non-White Hispanics, Asians, Blacks, and Native Americans/Alaska Natives. These were the four groups consistently at the top or bottom of mortgage approval rates as shown in the earlier analysis.</span>
<span id="cb27-594"><a href="#cb27-594" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-595"><a href="#cb27-595" aria-hidden="true" tabindex="-1"></a>Recall in the introductory analysis that there were applications with counties missing. To conduct the ensuing analysis, these counties must be removed. The HMDA data contains the metropolitan statistical area and census tract for each county, but these geographical designations span multiple counties. It would be an exhaustive exercise to impute a county; in addition, if the imputation is very inaccurate, it would heavily influence the ensuing analysis. </span>
<span id="cb27-596"><a href="#cb27-596" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-597"><a href="#cb27-597" aria-hidden="true" tabindex="-1"></a>Maps 1, 2, 3, 4 display mortgage approval rates at the county-level in New York State by applicant race.</span>
<span id="cb27-598"><a href="#cb27-598" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-599"><a href="#cb27-599" aria-hidden="true" tabindex="-1"></a>Map 1 shows that non-Hispanic white applicants across the state have approval rates higher than 40 percent. There are a myriad of counties, concentrated in the middle of the state, where non-Hispanic white applicants have approval ratings of higher than 60 percent.</span>
<span id="cb27-600"><a href="#cb27-600" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-601"><a href="#cb27-601" aria-hidden="true" tabindex="-1"></a>Maps 2, 3, 4 shows that spatial variation exists when it comes to approval rates for non-White applicants. Asian, Black, and Native American/Alaskan applicants noticeably have counties which are either white or very light in color, indicating low approval rates, and counties which are in darker shades of blue, indicating high approval rates. These spatial differences imply that the experiences of non-White applicants in New York State differ based on location. In some counties, a non-White applicant may have greater chances of approval than in other counties.</span>
<span id="cb27-602"><a href="#cb27-602" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-603"><a href="#cb27-603" aria-hidden="true" tabindex="-1"></a>Table 4A and 4B identify the three top counties and three bottom counties in terms of mortgage approval rates by applicant race. The lowest county approval rates for Native American/Alaskan Native are around 24 percent and the highest county approval rate for Native American/Alaskan Native is 72 percent. The lowest county approval rates for non-Hispanic White are around 45 percent, while the highest county rate is 73 percent. The range for the Native American/Alaskan Native and other non-White county approval rates are fairly larger than the range for the non-Hispanic White county approval rates - meaning that the variation amongst counties for non-White applicants is greater than the variation amongst counties for non-Hispanic White applicants. To drive home the point, Black applicants in Franklin County have 23 percent approval rates while Black applicants in Hamilton County have 71 percent approval rates - a whopping difference of 48 percent.</span>
<span id="cb27-604"><a href="#cb27-604" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-605"><a href="#cb27-605" aria-hidden="true" tabindex="-1"></a>Tables 4A and 4B back up the relative lack of spatial variation in approval rates amongst non-Hispanic White applicants and the presence of spatial variation in approval rates amongst non-White applicants observed in the maps.</span>
<span id="cb27-606"><a href="#cb27-606" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-607"><a href="#cb27-607" aria-hidden="true" tabindex="-1"></a>In conclusion, geographic variation in mortgage approval rates appear to be largely absent for non-Hispanic White applicants. Non-Hispanic White applicants experience relatively high mortgage approval rates across New York State, while non-White applicants experience high or low approval rates depending on the county. These results suggest that the implied race effect on mortgage application outcomes at the state level may be concentrated in a few select counties rather than hold true across the entirely of the state.</span>
<span id="cb27-608"><a href="#cb27-608" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-611"><a href="#cb27-611" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb27-612"><a href="#cb27-612" aria-hidden="true" tabindex="-1"></a><span class="co"># Merge fips data with main dataset</span></span>
<span id="cb27-613"><a href="#cb27-613" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-614"><a href="#cb27-614" aria-hidden="true" tabindex="-1"></a>counties <span class="ot">&lt;-</span> county.fips <span class="sc">%&gt;%</span></span>
<span id="cb27-615"><a href="#cb27-615" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>() <span class="sc">%&gt;%</span></span>
<span id="cb27-616"><a href="#cb27-616" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">state =</span> <span class="fu">sub</span>(<span class="st">",.*"</span>, <span class="st">""</span>, polyname),</span>
<span id="cb27-617"><a href="#cb27-617" aria-hidden="true" tabindex="-1"></a>    <span class="at">county_name =</span> <span class="fu">sub</span>(<span class="st">".*,"</span>, <span class="st">""</span>, polyname),</span>
<span id="cb27-618"><a href="#cb27-618" aria-hidden="true" tabindex="-1"></a>    <span class="at">county =</span> fips) <span class="sc">%&gt;%</span></span>
<span id="cb27-619"><a href="#cb27-619" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(county, state, county_name) <span class="sc">%&gt;%</span></span>
<span id="cb27-620"><a href="#cb27-620" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(state <span class="sc">==</span> <span class="st">"new york"</span>)</span>
<span id="cb27-621"><a href="#cb27-621" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-622"><a href="#cb27-622" aria-hidden="true" tabindex="-1"></a>loans4 <span class="ot">&lt;-</span> <span class="fu">left_join</span>(loans3, counties, <span class="at">by =</span> <span class="st">"county"</span>)</span>
<span id="cb27-623"><a href="#cb27-623" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-624"><a href="#cb27-624" aria-hidden="true" tabindex="-1"></a><span class="co"># Map approval % for white applicants, all years, by New York county</span></span>
<span id="cb27-625"><a href="#cb27-625" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb27-626"><a href="#cb27-626" aria-hidden="true" tabindex="-1"></a>loans_white <span class="ot">&lt;-</span> loans4 <span class="sc">%&gt;%</span> </span>
<span id="cb27-627"><a href="#cb27-627" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(hh_race, county) <span class="sc">%&gt;%</span></span>
<span id="cb27-628"><a href="#cb27-628" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">count_race =</span> <span class="fu">n</span>(), </span>
<span id="cb27-629"><a href="#cb27-629" aria-hidden="true" tabindex="-1"></a>         <span class="at">fips =</span> county,</span>
<span id="cb27-630"><a href="#cb27-630" aria-hidden="true" tabindex="-1"></a>         <span class="at">denial_race =</span> <span class="fu">sum</span>(action <span class="sc">==</span> <span class="st">"application denied by financial institution"</span>),</span>
<span id="cb27-631"><a href="#cb27-631" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_denial_race =</span> <span class="fu">round</span>(denial_race <span class="sc">/</span> count_race, <span class="dv">3</span>),</span>
<span id="cb27-632"><a href="#cb27-632" aria-hidden="true" tabindex="-1"></a>         <span class="at">approval_race =</span> <span class="fu">sum</span>(action <span class="sc">==</span> <span class="st">"loan originated"</span> <span class="sc">|</span> action <span class="sc">==</span> <span class="st">"application </span></span>
<span id="cb27-633"><a href="#cb27-633" aria-hidden="true" tabindex="-1"></a><span class="st">                                approved but not accepted"</span>),</span>
<span id="cb27-634"><a href="#cb27-634" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_approval_race =</span> <span class="fu">round</span>(approval_race <span class="sc">/</span> count_race, <span class="dv">3</span>)<span class="sc">*</span><span class="dv">100</span>) <span class="sc">%&gt;%</span></span>
<span id="cb27-635"><a href="#cb27-635" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(hh_race, county, fips, percent_denial_race, percent_approval_race) <span class="sc">%&gt;%</span></span>
<span id="cb27-636"><a href="#cb27-636" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(hh_race <span class="sc">==</span> <span class="st">"white"</span>, <span class="sc">!</span><span class="fu">is.na</span>(fips))</span>
<span id="cb27-637"><a href="#cb27-637" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-638"><a href="#cb27-638" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_usmap</span>(<span class="at">regions =</span> <span class="st">"counties"</span>, <span class="at">include =</span> <span class="fu">c</span>(<span class="st">"NY"</span>), <span class="at">data =</span> loans_white, <span class="at">values =</span> <span class="st">"percent_approval_race"</span>) <span class="sc">+</span></span>
<span id="cb27-639"><a href="#cb27-639" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Map 1. New York State White Mortgage Applicants, % Approval"</span>, <span class="at">subtitle =</span> <span class="st">""</span>) <span class="sc">+</span> </span>
<span id="cb27-640"><a href="#cb27-640" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_binned</span>(<span class="at">low =</span> <span class="st">"white"</span>, <span class="at">high =</span> <span class="st">"blue"</span>, <span class="at">na.value=</span><span class="st">"light grey"</span>, <span class="at">name =</span> <span class="st">"Approval"</span>, <span class="at">guide =</span> <span class="fu">guide_bins</span>(<span class="at">axis =</span> <span class="cn">FALSE</span>, <span class="at">show.limits =</span> <span class="cn">TRUE</span>)) <span class="sc">+</span> </span>
<span id="cb27-641"><a href="#cb27-641" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"right"</span>)</span>
<span id="cb27-642"><a href="#cb27-642" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-643"><a href="#cb27-643" aria-hidden="true" tabindex="-1"></a><span class="co"># Map approval % for Asian applicants, all years, by New York county</span></span>
<span id="cb27-644"><a href="#cb27-644" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-645"><a href="#cb27-645" aria-hidden="true" tabindex="-1"></a>loans_asian <span class="ot">&lt;-</span> loans4 <span class="sc">%&gt;%</span> </span>
<span id="cb27-646"><a href="#cb27-646" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(hh_race, county) <span class="sc">%&gt;%</span></span>
<span id="cb27-647"><a href="#cb27-647" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">count_race =</span> <span class="fu">n</span>(), </span>
<span id="cb27-648"><a href="#cb27-648" aria-hidden="true" tabindex="-1"></a>         <span class="at">fips =</span> county,</span>
<span id="cb27-649"><a href="#cb27-649" aria-hidden="true" tabindex="-1"></a>         <span class="at">denial_race =</span> <span class="fu">sum</span>(action <span class="sc">==</span> <span class="st">"application denied by financial institution"</span>),</span>
<span id="cb27-650"><a href="#cb27-650" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_denial_race =</span> <span class="fu">round</span>(denial_race <span class="sc">/</span> count_race, <span class="dv">3</span>),</span>
<span id="cb27-651"><a href="#cb27-651" aria-hidden="true" tabindex="-1"></a>         <span class="at">approval_race =</span> <span class="fu">sum</span>(action <span class="sc">==</span> <span class="st">"loan originated"</span> <span class="sc">|</span> action <span class="sc">==</span> <span class="st">"application </span></span>
<span id="cb27-652"><a href="#cb27-652" aria-hidden="true" tabindex="-1"></a><span class="st">                                approved but not accepted"</span>),</span>
<span id="cb27-653"><a href="#cb27-653" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_approval_race =</span> <span class="fu">round</span>(approval_race <span class="sc">/</span> count_race, <span class="dv">3</span>)<span class="sc">*</span><span class="dv">100</span>) <span class="sc">%&gt;%</span></span>
<span id="cb27-654"><a href="#cb27-654" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(hh_race, county, fips, percent_denial_race, percent_approval_race) <span class="sc">%&gt;%</span></span>
<span id="cb27-655"><a href="#cb27-655" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(hh_race <span class="sc">==</span> <span class="st">"asian"</span>, <span class="sc">!</span><span class="fu">is.na</span>(fips))</span>
<span id="cb27-656"><a href="#cb27-656" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-657"><a href="#cb27-657" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_usmap</span>(<span class="at">regions =</span> <span class="st">"counties"</span>, <span class="at">include =</span> <span class="fu">c</span>(<span class="st">"NY"</span>), <span class="at">data =</span> loans_asian, <span class="at">values =</span> <span class="st">"percent_approval_race"</span>) <span class="sc">+</span></span>
<span id="cb27-658"><a href="#cb27-658" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Map 2. New York State Asian Mortgage Applicants, % Approval"</span>, <span class="at">subtitle =</span> <span class="st">""</span>) <span class="sc">+</span> </span>
<span id="cb27-659"><a href="#cb27-659" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_binned</span>(<span class="at">low =</span> <span class="st">"white"</span>, <span class="at">high =</span> <span class="st">"blue"</span>, <span class="at">na.value=</span><span class="st">"light grey"</span>, <span class="at">name =</span> <span class="st">"Approval"</span>, <span class="at">guide =</span> <span class="fu">guide_bins</span>(<span class="at">axis =</span> <span class="cn">FALSE</span>, <span class="at">show.limits =</span> <span class="cn">TRUE</span>)) <span class="sc">+</span> </span>
<span id="cb27-660"><a href="#cb27-660" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"right"</span>)</span>
<span id="cb27-661"><a href="#cb27-661" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-662"><a href="#cb27-662" aria-hidden="true" tabindex="-1"></a><span class="co"># Map approval % for Black applicants, all years, by New York county</span></span>
<span id="cb27-663"><a href="#cb27-663" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-664"><a href="#cb27-664" aria-hidden="true" tabindex="-1"></a>loans_black <span class="ot">&lt;-</span> loans4 <span class="sc">%&gt;%</span> </span>
<span id="cb27-665"><a href="#cb27-665" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(hh_race, county) <span class="sc">%&gt;%</span></span>
<span id="cb27-666"><a href="#cb27-666" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">count_race =</span> <span class="fu">n</span>(), </span>
<span id="cb27-667"><a href="#cb27-667" aria-hidden="true" tabindex="-1"></a>         <span class="at">fips =</span> county,</span>
<span id="cb27-668"><a href="#cb27-668" aria-hidden="true" tabindex="-1"></a>         <span class="at">denial_race =</span> <span class="fu">sum</span>(action <span class="sc">==</span> <span class="st">"application denied by financial institution"</span>),</span>
<span id="cb27-669"><a href="#cb27-669" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_denial_race =</span> <span class="fu">round</span>(denial_race <span class="sc">/</span> count_race, <span class="dv">3</span>),</span>
<span id="cb27-670"><a href="#cb27-670" aria-hidden="true" tabindex="-1"></a>         <span class="at">approval_race =</span> <span class="fu">sum</span>(action <span class="sc">==</span> <span class="st">"loan originated"</span> <span class="sc">|</span> action <span class="sc">==</span> <span class="st">"application </span></span>
<span id="cb27-671"><a href="#cb27-671" aria-hidden="true" tabindex="-1"></a><span class="st">                                approved but not accepted"</span>),</span>
<span id="cb27-672"><a href="#cb27-672" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_approval_race =</span> <span class="fu">round</span>(approval_race <span class="sc">/</span> count_race, <span class="dv">3</span>)<span class="sc">*</span><span class="dv">100</span>) <span class="sc">%&gt;%</span></span>
<span id="cb27-673"><a href="#cb27-673" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(hh_race, county, fips, percent_denial_race, percent_approval_race) <span class="sc">%&gt;%</span></span>
<span id="cb27-674"><a href="#cb27-674" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(hh_race <span class="sc">==</span> <span class="st">"black"</span>, <span class="sc">!</span><span class="fu">is.na</span>(fips))</span>
<span id="cb27-675"><a href="#cb27-675" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-676"><a href="#cb27-676" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_usmap</span>(<span class="at">regions =</span> <span class="st">"counties"</span>, <span class="at">include =</span> <span class="fu">c</span>(<span class="st">"NY"</span>), <span class="at">data =</span> loans_black, <span class="at">values =</span> <span class="st">"percent_approval_race"</span>) <span class="sc">+</span></span>
<span id="cb27-677"><a href="#cb27-677" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Map 3. New York State Black Mortgage Applicants, % Approval"</span>, <span class="at">subtitle =</span> <span class="st">""</span>) <span class="sc">+</span> </span>
<span id="cb27-678"><a href="#cb27-678" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_binned</span>(<span class="at">low =</span> <span class="st">"white"</span>, <span class="at">high =</span> <span class="st">"blue"</span>, <span class="at">na.value=</span><span class="st">"light grey"</span>, <span class="at">name =</span> <span class="st">"Approval"</span>, <span class="at">guide =</span> <span class="fu">guide_bins</span>(<span class="at">axis =</span> <span class="cn">FALSE</span>, <span class="at">show.limits =</span> <span class="cn">TRUE</span>)) <span class="sc">+</span> </span>
<span id="cb27-679"><a href="#cb27-679" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"right"</span>)</span>
<span id="cb27-680"><a href="#cb27-680" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-681"><a href="#cb27-681" aria-hidden="true" tabindex="-1"></a><span class="co"># Map approval % for Native applicants, all years, by New York county</span></span>
<span id="cb27-682"><a href="#cb27-682" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-683"><a href="#cb27-683" aria-hidden="true" tabindex="-1"></a>loans_native <span class="ot">&lt;-</span> loans4 <span class="sc">%&gt;%</span> </span>
<span id="cb27-684"><a href="#cb27-684" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(hh_race, county) <span class="sc">%&gt;%</span></span>
<span id="cb27-685"><a href="#cb27-685" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">count_race =</span> <span class="fu">n</span>(), </span>
<span id="cb27-686"><a href="#cb27-686" aria-hidden="true" tabindex="-1"></a>         <span class="at">fips =</span> county,</span>
<span id="cb27-687"><a href="#cb27-687" aria-hidden="true" tabindex="-1"></a>         <span class="at">denial_race =</span> <span class="fu">sum</span>(action <span class="sc">==</span> <span class="st">"application denied by financial institution"</span>),</span>
<span id="cb27-688"><a href="#cb27-688" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_denial_race =</span> <span class="fu">round</span>(denial_race <span class="sc">/</span> count_race, <span class="dv">3</span>),</span>
<span id="cb27-689"><a href="#cb27-689" aria-hidden="true" tabindex="-1"></a>         <span class="at">approval_race =</span> <span class="fu">sum</span>(action <span class="sc">==</span> <span class="st">"loan originated"</span> <span class="sc">|</span> action <span class="sc">==</span> <span class="st">"application </span></span>
<span id="cb27-690"><a href="#cb27-690" aria-hidden="true" tabindex="-1"></a><span class="st">                                approved but not accepted"</span>),</span>
<span id="cb27-691"><a href="#cb27-691" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_approval_race =</span> <span class="fu">round</span>(approval_race <span class="sc">/</span> count_race, <span class="dv">3</span>)<span class="sc">*</span><span class="dv">100</span>) <span class="sc">%&gt;%</span></span>
<span id="cb27-692"><a href="#cb27-692" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(hh_race, county, fips, percent_denial_race, percent_approval_race) <span class="sc">%&gt;%</span></span>
<span id="cb27-693"><a href="#cb27-693" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(hh_race <span class="sc">==</span> <span class="st">"american indian or alaska native"</span>, <span class="sc">!</span><span class="fu">is.na</span>(fips))</span>
<span id="cb27-694"><a href="#cb27-694" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-695"><a href="#cb27-695" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_usmap</span>(<span class="at">regions =</span> <span class="st">"counties"</span>, <span class="at">include =</span> <span class="fu">c</span>(<span class="st">"NY"</span>), <span class="at">data =</span> loans_native, <span class="at">values =</span> <span class="st">"percent_approval_race"</span>) <span class="sc">+</span></span>
<span id="cb27-696"><a href="#cb27-696" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Map 4. New York State Native Mortgage Applicants, % Approval"</span>, <span class="at">subtitle =</span> <span class="st">""</span>) <span class="sc">+</span> </span>
<span id="cb27-697"><a href="#cb27-697" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_binned</span>(<span class="at">low =</span> <span class="st">"white"</span>, <span class="at">high =</span> <span class="st">"blue"</span>, <span class="at">na.value=</span><span class="st">"light grey"</span>, <span class="at">name =</span> <span class="st">"Approval"</span>, <span class="at">guide =</span> <span class="fu">guide_bins</span>(<span class="at">axis =</span> <span class="cn">FALSE</span>, <span class="at">show.limits =</span> <span class="cn">TRUE</span>)) <span class="sc">+</span> </span>
<span id="cb27-698"><a href="#cb27-698" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"right"</span>)</span>
<span id="cb27-699"><a href="#cb27-699" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-700"><a href="#cb27-700" aria-hidden="true" tabindex="-1"></a><span class="co">#Table version of highest approval ratings by county of race with population (top 3)</span></span>
<span id="cb27-701"><a href="#cb27-701" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-702"><a href="#cb27-702" aria-hidden="true" tabindex="-1"></a>loans5 <span class="ot">&lt;-</span> loans4 <span class="sc">%&gt;%</span></span>
<span id="cb27-703"><a href="#cb27-703" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(county)) <span class="sc">%&gt;%</span></span>
<span id="cb27-704"><a href="#cb27-704" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(county) <span class="sc">%&gt;%</span></span>
<span id="cb27-705"><a href="#cb27-705" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">total_cty =</span> <span class="fu">n</span>(),</span>
<span id="cb27-706"><a href="#cb27-706" aria-hidden="true" tabindex="-1"></a>    <span class="at">white_perc =</span> <span class="fu">round</span>(<span class="fu">sum</span>(hh_race <span class="sc">==</span> <span class="st">"white"</span>) <span class="sc">/</span> total_cty, <span class="dv">3</span>),</span>
<span id="cb27-707"><a href="#cb27-707" aria-hidden="true" tabindex="-1"></a>    <span class="at">asian_perc =</span> <span class="fu">round</span>(<span class="fu">sum</span>(hh_race <span class="sc">==</span> <span class="st">"asian"</span>) <span class="sc">/</span> total_cty, <span class="dv">3</span>),</span>
<span id="cb27-708"><a href="#cb27-708" aria-hidden="true" tabindex="-1"></a>    <span class="at">black_perc =</span> <span class="fu">round</span>(<span class="fu">sum</span>(hh_race <span class="sc">==</span> <span class="st">"black"</span>) <span class="sc">/</span> total_cty, <span class="dv">3</span>),</span>
<span id="cb27-709"><a href="#cb27-709" aria-hidden="true" tabindex="-1"></a>    <span class="at">native_perc =</span> <span class="fu">round</span>(<span class="fu">sum</span>(hh_race <span class="sc">==</span> <span class="st">"american indian or alaska native"</span>) <span class="sc">/</span> total_cty, <span class="dv">3</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb27-710"><a href="#cb27-710" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb27-711"><a href="#cb27-711" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(county, hh_race) <span class="sc">%&gt;%</span></span>
<span id="cb27-712"><a href="#cb27-712" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb27-713"><a href="#cb27-713" aria-hidden="true" tabindex="-1"></a>    <span class="at">count_race =</span> <span class="fu">n</span>(),</span>
<span id="cb27-714"><a href="#cb27-714" aria-hidden="true" tabindex="-1"></a>    <span class="at">approval_race =</span>  <span class="fu">sum</span>(action <span class="sc">==</span> <span class="st">"loan originated"</span> <span class="sc">|</span> action <span class="sc">==</span> <span class="st">"application </span></span>
<span id="cb27-715"><a href="#cb27-715" aria-hidden="true" tabindex="-1"></a><span class="st">                                approved but not accepted"</span>),</span>
<span id="cb27-716"><a href="#cb27-716" aria-hidden="true" tabindex="-1"></a>    <span class="at">percent_approval_race =</span> <span class="fu">round</span>(approval_race <span class="sc">/</span> count_race, <span class="dv">3</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb27-717"><a href="#cb27-717" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(hh_race, county, county_name, percent_approval_race, white_perc, asian_perc, black_perc, native_perc)</span>
<span id="cb27-718"><a href="#cb27-718" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-719"><a href="#cb27-719" aria-hidden="true" tabindex="-1"></a>loans5 <span class="sc">%&gt;%</span></span>
<span id="cb27-720"><a href="#cb27-720" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">race =</span> hh_race,</span>
<span id="cb27-721"><a href="#cb27-721" aria-hidden="true" tabindex="-1"></a>         <span class="at">county =</span> <span class="fu">toupper</span>(county_name),</span>
<span id="cb27-722"><a href="#cb27-722" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_approval =</span> percent_approval_race<span class="sc">*</span><span class="dv">100</span>) <span class="sc">%&gt;%</span></span>
<span id="cb27-723"><a href="#cb27-723" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(hh_race <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"american indian or alaska native"</span>, <span class="st">"asian"</span>, <span class="st">"black"</span>, <span class="st">"white"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb27-724"><a href="#cb27-724" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(race) <span class="sc">%&gt;%</span> </span>
<span id="cb27-725"><a href="#cb27-725" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(race, county, percent_approval) <span class="sc">%&gt;%</span></span>
<span id="cb27-726"><a href="#cb27-726" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(percent_approval), <span class="at">.by_group =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb27-727"><a href="#cb27-727" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>) <span class="sc">%&gt;%</span></span>
<span id="cb27-728"><a href="#cb27-728" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kbl</span>(<span class="at">caption =</span> <span class="st">"Table 4A. Top 3 Loan Approval %, by Race and N.Y. County"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb27-729"><a href="#cb27-729" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_classic</span>(<span class="at">html_font =</span> <span class="st">"Times New Roman"</span>, <span class="at">font_size=</span><span class="dv">16</span>) <span class="sc">%&gt;%</span></span>
<span id="cb27-730"><a href="#cb27-730" aria-hidden="true" tabindex="-1"></a>  <span class="fu">row_spec</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">12</span>, <span class="at">extra_css =</span> <span class="st">"border-bottom: 0.5px dashed;"</span>)</span>
<span id="cb27-731"><a href="#cb27-731" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-732"><a href="#cb27-732" aria-hidden="true" tabindex="-1"></a><span class="co">#Table version of lowest approval ratings by county of race with population (bottom 3)</span></span>
<span id="cb27-733"><a href="#cb27-733" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-734"><a href="#cb27-734" aria-hidden="true" tabindex="-1"></a>loans5 <span class="sc">%&gt;%</span></span>
<span id="cb27-735"><a href="#cb27-735" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">race =</span> hh_race,</span>
<span id="cb27-736"><a href="#cb27-736" aria-hidden="true" tabindex="-1"></a>         <span class="at">county =</span> <span class="fu">toupper</span>(county_name),</span>
<span id="cb27-737"><a href="#cb27-737" aria-hidden="true" tabindex="-1"></a>         <span class="at">percent_approval =</span> percent_approval_race<span class="sc">*</span><span class="dv">100</span>) <span class="sc">%&gt;%</span></span>
<span id="cb27-738"><a href="#cb27-738" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(hh_race <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"american indian or alaska native"</span>, <span class="st">"asian"</span>, <span class="st">"black"</span>, <span class="st">"white"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb27-739"><a href="#cb27-739" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(race) <span class="sc">%&gt;%</span> </span>
<span id="cb27-740"><a href="#cb27-740" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(race, county, percent_approval) <span class="sc">%&gt;%</span></span>
<span id="cb27-741"><a href="#cb27-741" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(percent_approval, <span class="at">.by_group =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb27-742"><a href="#cb27-742" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>) <span class="sc">%&gt;%</span></span>
<span id="cb27-743"><a href="#cb27-743" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kbl</span>(<span class="at">caption =</span> <span class="st">"Table 4B. Bottom 3 Loan Approval %, by Race and N.Y. County"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb27-744"><a href="#cb27-744" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_classic</span>(<span class="at">html_font =</span> <span class="st">"Times New Roman"</span>, <span class="at">font_size=</span><span class="dv">16</span>) <span class="sc">%&gt;%</span></span>
<span id="cb27-745"><a href="#cb27-745" aria-hidden="true" tabindex="-1"></a>  <span class="fu">row_spec</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">12</span>, <span class="at">extra_css =</span> <span class="st">"border-bottom: 0.5px dashed;"</span>)</span>
<span id="cb27-746"><a href="#cb27-746" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-747"><a href="#cb27-747" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb27-748"><a href="#cb27-748" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-749"><a href="#cb27-749" aria-hidden="true" tabindex="-1"></a><span class="fu">### County Applicant Race and County Approval Rates</span></span>
<span id="cb27-750"><a href="#cb27-750" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-751"><a href="#cb27-751" aria-hidden="true" tabindex="-1"></a>The previous analysis of variation in mortgage approval rates across counties leads to the following question: do county mortgage approval rates of a specific race of applicant vary based on the percent of county applicants of said race? In other words, is the county variation in approval rates observed from the maps driven by demographics? Are the counties with higher approval rates for applicants of a certain race also the same counties with higher percent of applicants of said race?</span>
<span id="cb27-752"><a href="#cb27-752" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-753"><a href="#cb27-753" aria-hidden="true" tabindex="-1"></a>Charts 5, 6, 7, 8 plot county percent of applicant race against county percent of approvals of said race. </span>
<span id="cb27-754"><a href="#cb27-754" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-755"><a href="#cb27-755" aria-hidden="true" tabindex="-1"></a>Chart 5 compares the county percent of non-Hispanic White applicants against the county percent of non-Hispanic White approvals. The chart shows a slight positive association between county percent of non-Hispanic White applicants against the county percent of non-Hispanic White approvals. In other words, the more non-Hispanic White applicants there are in a county, the greater the probability of non-Hispanic White applications being approved. One caveat is that the majority of the points in the plot lay in the 60 to 80 percent range for percent of non-Hispanic White applicants. There are only a few points below this range, which may be driving the pulling the association in the positive direction.</span>
<span id="cb27-756"><a href="#cb27-756" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-757"><a href="#cb27-757" aria-hidden="true" tabindex="-1"></a>Chart 6 compares the county percent of Asian applicants against the county percent of Asian approvals. The chart shows a slight negative association between county percent of Asian applicants against the county percent of Asian approvals. The slope of the association, or red line on the chart, is less steep than the line in Chart 5 - implying a very weak association if any between county percent of Asian applicants and county percent of Asian approvals.</span>
<span id="cb27-758"><a href="#cb27-758" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-759"><a href="#cb27-759" aria-hidden="true" tabindex="-1"></a>Chart 7 compares the county percent of Black applicants against the county percent of Black approvals. The chart shows a slight negative association between county percent of Black applicants against the county percent of Black approvals. The slope of the association, or red line on the chart, is steeper than the line in Chart 6 - implying a stronger negative relationship than the one observed with Asian applicants. This negative relationship, however, sounds counterintuitive: the greater the number of Black applicants, the lower the Black approval rate. This would imply that greater diversity leads to lower approval rates. One big caveat is that there are only three counties with percent of Black applicants greater than 10 percent, the rest of the counties have percent of Black applicants lower than that; these same three counties appear to have lower approval rates than most other counties. It is likely that these three counties are pulling the relationship between county percent of Black applicants and county percent of Black approvals in the negative direction.</span>
<span id="cb27-760"><a href="#cb27-760" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-761"><a href="#cb27-761" aria-hidden="true" tabindex="-1"></a>Chart 8 compares the county percent of Native American/Alaskan Native applicants against the county percent of Native American/Alaskan Native approvals. The chart shows minor to zero association between county percent of Native American/Alaskan Native applicants and county percent of Native American/Alaskan Native approvals. The slope of the association, or red line on the chart, is almost perfectly flat - implying a lack of relationship between county percent of Native American/Alaskan Native applicants and county percent of Native American/Alaskan Native approvals.</span>
<span id="cb27-762"><a href="#cb27-762" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-763"><a href="#cb27-763" aria-hidden="true" tabindex="-1"></a>All in all, Charts 6, 7, 8 fail to provide sufficient or strong enough evidence to suggest that the county variation in approval rates amongst non-White applicants is due to the demographic composition of the county. It does not appear to be the case that strength in numbers leads to a higher rates of mortgage approvals at the county-level in. In fact, Charts 6 and 7 may suggest the opposite: that greater diversity may lead to lower rates of mortgage approvals. Therefore, the county variation in approval rates amongst non-White applicants observed in Maps 2, 3, 4 is likely due to another factor.</span>
<span id="cb27-764"><a href="#cb27-764" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-767"><a href="#cb27-767" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb27-768"><a href="#cb27-768" aria-hidden="true" tabindex="-1"></a><span class="co"># Scatterplot county percent_approval_race - race %</span></span>
<span id="cb27-769"><a href="#cb27-769" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-770"><a href="#cb27-770" aria-hidden="true" tabindex="-1"></a>loans5 <span class="sc">%&gt;%</span></span>
<span id="cb27-771"><a href="#cb27-771" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(hh_race <span class="sc">==</span> <span class="st">"white"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb27-772"><a href="#cb27-772" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>white_perc, <span class="at">y=</span>percent_approval_race)) <span class="sc">+</span> </span>
<span id="cb27-773"><a href="#cb27-773" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb27-774"><a href="#cb27-774" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb27-775"><a href="#cb27-775" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.minor.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb27-776"><a href="#cb27-776" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.major.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb27-777"><a href="#cb27-777" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.minor.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb27-778"><a href="#cb27-778" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_markdown</span>(</span>
<span id="cb27-779"><a href="#cb27-779" aria-hidden="true" tabindex="-1"></a>      <span class="at">family =</span> <span class="st">"Econ Sans Cnd"</span>, </span>
<span id="cb27-780"><a href="#cb27-780" aria-hidden="true" tabindex="-1"></a>      <span class="at">size =</span> <span class="dv">10</span>, </span>
<span id="cb27-781"><a href="#cb27-781" aria-hidden="true" tabindex="-1"></a>      <span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb27-782"><a href="#cb27-782" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb27-783"><a href="#cb27-783" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size=</span><span class="dv">7</span>)) <span class="sc">+</span></span>
<span id="cb27-784"><a href="#cb27-784" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"**Chart 5.** N.Y. Counties, % White Applied vs. % White Approved, 2008-2017"</span>) <span class="sc">+</span></span>
<span id="cb27-785"><a href="#cb27-785" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"% of White Applicants Approved in County"</span>) <span class="sc">+</span></span>
<span id="cb27-786"><a href="#cb27-786" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"% of White Applicants in County"</span>) <span class="sc">+</span></span>
<span id="cb27-787"><a href="#cb27-787" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span>lm , <span class="at">color=</span><span class="st">"red"</span>, <span class="at">fill=</span><span class="st">"#69b3a2"</span>, <span class="at">se=</span><span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb27-788"><a href="#cb27-788" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels=</span>scales<span class="sc">::</span><span class="fu">percent_format</span>()) <span class="sc">+</span></span>
<span id="cb27-789"><a href="#cb27-789" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels=</span>scales<span class="sc">::</span><span class="fu">percent_format</span>())</span>
<span id="cb27-790"><a href="#cb27-790" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-791"><a href="#cb27-791" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-792"><a href="#cb27-792" aria-hidden="true" tabindex="-1"></a>loans5 <span class="sc">%&gt;%</span></span>
<span id="cb27-793"><a href="#cb27-793" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(hh_race <span class="sc">==</span> <span class="st">"asian"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb27-794"><a href="#cb27-794" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>asian_perc, <span class="at">y=</span>percent_approval_race)) <span class="sc">+</span> </span>
<span id="cb27-795"><a href="#cb27-795" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb27-796"><a href="#cb27-796" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb27-797"><a href="#cb27-797" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.minor.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb27-798"><a href="#cb27-798" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.major.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb27-799"><a href="#cb27-799" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.minor.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb27-800"><a href="#cb27-800" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_markdown</span>(</span>
<span id="cb27-801"><a href="#cb27-801" aria-hidden="true" tabindex="-1"></a>      <span class="at">family =</span> <span class="st">"Econ Sans Cnd"</span>, </span>
<span id="cb27-802"><a href="#cb27-802" aria-hidden="true" tabindex="-1"></a>      <span class="at">size =</span> <span class="dv">10</span>, </span>
<span id="cb27-803"><a href="#cb27-803" aria-hidden="true" tabindex="-1"></a>      <span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb27-804"><a href="#cb27-804" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb27-805"><a href="#cb27-805" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size=</span><span class="dv">7</span>)) <span class="sc">+</span></span>
<span id="cb27-806"><a href="#cb27-806" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"**Chart 6.** N.Y. Counties, % Asian Applied vs. % Asian Approved, 2008-2017"</span>) <span class="sc">+</span></span>
<span id="cb27-807"><a href="#cb27-807" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"% of Asian Applicants Approved in County"</span>) <span class="sc">+</span></span>
<span id="cb27-808"><a href="#cb27-808" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"% of Asian Applicants in County"</span>) <span class="sc">+</span> </span>
<span id="cb27-809"><a href="#cb27-809" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span>lm , <span class="at">color=</span><span class="st">"red"</span>, <span class="at">fill=</span><span class="st">"#69b3a2"</span>, <span class="at">se=</span><span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb27-810"><a href="#cb27-810" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels=</span>scales<span class="sc">::</span><span class="fu">percent_format</span>()) <span class="sc">+</span></span>
<span id="cb27-811"><a href="#cb27-811" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels=</span>scales<span class="sc">::</span><span class="fu">percent_format</span>())</span>
<span id="cb27-812"><a href="#cb27-812" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-813"><a href="#cb27-813" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-814"><a href="#cb27-814" aria-hidden="true" tabindex="-1"></a>loans5 <span class="sc">%&gt;%</span></span>
<span id="cb27-815"><a href="#cb27-815" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(hh_race <span class="sc">==</span> <span class="st">"black"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb27-816"><a href="#cb27-816" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>black_perc, <span class="at">y=</span>percent_approval_race)) <span class="sc">+</span> </span>
<span id="cb27-817"><a href="#cb27-817" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb27-818"><a href="#cb27-818" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb27-819"><a href="#cb27-819" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.minor.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb27-820"><a href="#cb27-820" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.major.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb27-821"><a href="#cb27-821" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.minor.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb27-822"><a href="#cb27-822" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_markdown</span>(</span>
<span id="cb27-823"><a href="#cb27-823" aria-hidden="true" tabindex="-1"></a>      <span class="at">family =</span> <span class="st">"Econ Sans Cnd"</span>, </span>
<span id="cb27-824"><a href="#cb27-824" aria-hidden="true" tabindex="-1"></a>      <span class="at">size =</span> <span class="dv">10</span>, </span>
<span id="cb27-825"><a href="#cb27-825" aria-hidden="true" tabindex="-1"></a>      <span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb27-826"><a href="#cb27-826" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb27-827"><a href="#cb27-827" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size=</span><span class="dv">7</span>)) <span class="sc">+</span></span>
<span id="cb27-828"><a href="#cb27-828" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"**Chart 7.** N.Y. Counties, % Black Applied vs. % Black Approved, 2008-2017"</span>) <span class="sc">+</span></span>
<span id="cb27-829"><a href="#cb27-829" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"% of Black Applicants Approved in County"</span>) <span class="sc">+</span></span>
<span id="cb27-830"><a href="#cb27-830" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"% of Black Applicants in County"</span>) <span class="sc">+</span> </span>
<span id="cb27-831"><a href="#cb27-831" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span>lm , <span class="at">color=</span><span class="st">"red"</span>, <span class="at">fill=</span><span class="st">"#69b3a2"</span>, <span class="at">se=</span><span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb27-832"><a href="#cb27-832" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels=</span>scales<span class="sc">::</span><span class="fu">percent_format</span>()) <span class="sc">+</span></span>
<span id="cb27-833"><a href="#cb27-833" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels=</span>scales<span class="sc">::</span><span class="fu">percent_format</span>())</span>
<span id="cb27-834"><a href="#cb27-834" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-835"><a href="#cb27-835" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-836"><a href="#cb27-836" aria-hidden="true" tabindex="-1"></a>loans5 <span class="sc">%&gt;%</span></span>
<span id="cb27-837"><a href="#cb27-837" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(hh_race <span class="sc">==</span> <span class="st">"american indian or alaska native"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb27-838"><a href="#cb27-838" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>native_perc, <span class="at">y=</span>percent_approval_race)) <span class="sc">+</span> </span>
<span id="cb27-839"><a href="#cb27-839" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb27-840"><a href="#cb27-840" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb27-841"><a href="#cb27-841" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.minor.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb27-842"><a href="#cb27-842" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.major.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb27-843"><a href="#cb27-843" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.minor.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb27-844"><a href="#cb27-844" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_markdown</span>(</span>
<span id="cb27-845"><a href="#cb27-845" aria-hidden="true" tabindex="-1"></a>      <span class="at">family =</span> <span class="st">"Econ Sans Cnd"</span>, </span>
<span id="cb27-846"><a href="#cb27-846" aria-hidden="true" tabindex="-1"></a>      <span class="at">size =</span> <span class="dv">10</span>, </span>
<span id="cb27-847"><a href="#cb27-847" aria-hidden="true" tabindex="-1"></a>      <span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb27-848"><a href="#cb27-848" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb27-849"><a href="#cb27-849" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size=</span><span class="dv">7</span>)) <span class="sc">+</span></span>
<span id="cb27-850"><a href="#cb27-850" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"**Chart 8.** N.Y. Counties, % Native Applied vs. % Native Approved, 2008-2017"</span>) <span class="sc">+</span></span>
<span id="cb27-851"><a href="#cb27-851" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"% of Native Applicants Approved in County"</span>) <span class="sc">+</span></span>
<span id="cb27-852"><a href="#cb27-852" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"% of Native Applicants in County"</span>) <span class="sc">+</span> </span>
<span id="cb27-853"><a href="#cb27-853" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span>lm , <span class="at">color=</span><span class="st">"red"</span>, <span class="at">fill=</span><span class="st">"#69b3a2"</span>, <span class="at">se=</span><span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb27-854"><a href="#cb27-854" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels=</span>scales<span class="sc">::</span><span class="fu">percent_format</span>()) <span class="sc">+</span></span>
<span id="cb27-855"><a href="#cb27-855" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels=</span>scales<span class="sc">::</span><span class="fu">percent_format</span>())</span>
<span id="cb27-856"><a href="#cb27-856" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb27-857"><a href="#cb27-857" aria-hidden="true" tabindex="-1"></a><span class="fu">## Conclusion</span></span>
<span id="cb27-858"><a href="#cb27-858" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-859"><a href="#cb27-859" aria-hidden="true" tabindex="-1"></a>Analyzing HMDA mortgage application data provided by the Consumer Financial Protection Bureau for New York State from 2008-2017, large and consistent differences were found for mortgage approval and denial rates between applicants of different races at the statewide level. Non-Hispanic White and Asian applicants in New York State experience the lowest rates of denials and the highest rates of approvals. Native American/Alaskan Native applicants in New York State experience the highest rates of denials and the lowest rates of approvals. Black applicants in New York State fluctuate in the middle-of-the-pack in terms of denial rates, but they have been the lowest or second lowest in terms of approval rates. </span>
<span id="cb27-860"><a href="#cb27-860" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-861"><a href="#cb27-861" aria-hidden="true" tabindex="-1"></a>Analysis at the county-level uncovered that there was a fair amount of county variation amongst non-White applicants when it came to mortgage approval rates. Non-Hispanic White applicants had relatively less county variation in approval rates than non-White applicants. County-level analysis suggests that differences between mortgage application outcomes at the state-level between races may only be concentrated in a few select counties or regions rather than a statewide phenomenon.</span>
<span id="cb27-862"><a href="#cb27-862" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-863"><a href="#cb27-863" aria-hidden="true" tabindex="-1"></a>Further analysis at the county-level failed to find evidence that the percent of a certain race of applicant had a positive effect on the the approval rate of applicant of said race. In other words, there was no evidence found to suggest that greater numbers of an applicant of a specific race in a county led to higher approval rates for said race. Then, the county-level variation in mortgage approval rates observed amongst non-White applicants is still unexplained and a topic for future research.</span>
<span id="cb27-864"><a href="#cb27-864" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-865"><a href="#cb27-865" aria-hidden="true" tabindex="-1"></a>In addition, the effect of income on the relationship between race and mortgage lending should also be considered in future research. Typically, higher incomes are positively associated with higher credit scores. Thus, it may be the case that higher incomes influence mortgage application outcomes more than race. At the county level, average income of an applicant of a specific race will be compared against the mortgage approval rates of said race. If across races, there is a strong relationship between average income and mortgage approval, then any race effect on mortgage approval observed earlier may be confounded with the effect of income.</span>
<span id="cb27-866"><a href="#cb27-866" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-867"><a href="#cb27-867" aria-hidden="true" tabindex="-1"></a><span class="fu">## Bibliography</span></span>
<span id="cb27-868"><a href="#cb27-868" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-869"><a href="#cb27-869" aria-hidden="true" tabindex="-1"></a>Cherian, Madhavi. “Race in the Mortgage Market: An Empirical Investigation Using HMDA Data.” Race, Gender &amp; Class 21, no. 1/2 (2014): 48–63. http://www.jstor.org/stable/43496959.</span>
<span id="cb27-870"><a href="#cb27-870" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-871"><a href="#cb27-871" aria-hidden="true" tabindex="-1"></a>Consumer Financial Protection Bureau. Home Mortgage Disclosure Act Modified Loan/Application Register. 2017. Distributed by Consumer Financial Protection Bureau. https://www.consumerfinance.gov/data-research/hmda/historic-data/.</span>
<span id="cb27-872"><a href="#cb27-872" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-873"><a href="#cb27-873" aria-hidden="true" tabindex="-1"></a>Consumer Financial Protection Bureau. "Mortgage Data (HMDA)." Consumer Financial Protection Bureau. Consumer Financial Protection Bureau. 2023. https://www.consumerfinance.gov/data-research/hmda/</span>
<span id="cb27-874"><a href="#cb27-874" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-875"><a href="#cb27-875" aria-hidden="true" tabindex="-1"></a>Munnell, Alicia H., Geoffrey M. B. Tootell, Lynn E. Browne, and James McEneaney. “Mortgage Lending in Boston: Interpreting HMDA Data.” The American Economic Review 86, no. 1 (1996): 25–53. http://www.jstor.org/stable/2118254.</span>
<span id="cb27-876"><a href="#cb27-876" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-877"><a href="#cb27-877" aria-hidden="true" tabindex="-1"></a>R Core Team (2022). R: A language and environment for statistical computing. R Foundation for Statistical Computing, Vienna, Austria. URL https://www.R-project.org/.</span>
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->



</body></html>