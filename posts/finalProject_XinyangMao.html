<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Xinyang Mao">
<meta name="dcterms.date" content="2023-05-12">
<meta name="description" content="Project &amp; Data Description">

<title>Final Project</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../images/DACSS_Round_Network.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

<link href="../site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet">
<script src="../site_libs/pagedtable-1.1/js/pagedtable.js"></script>


<link rel="stylesheet" href="styles.css">
<meta name="twitter:title" content="Final Project">
<meta name="twitter:description" content="Project &amp; Data Description">
<meta name="twitter:image" content="https://dacss.github.io/601_Spring_2023/posts/finalProject_XinyangMao_files/figure-html/unnamed-chunk-15-1.png">
<meta name="twitter:creator" content="@UMassDACSS">
<meta name="twitter:site" content="@UMassDACSS">
<meta name="twitter:image-height" content="960">
<meta name="twitter:image-width" content="1344">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a href="../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../images/UMass White Wordmark Horiz.png" alt="" class="navbar-logo">
    </a>
  </div>
            <div id="quarto-search" class="" title="true"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="https://github.com/DACSS" rel="" target="">
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../about.html" rel="" target="">
 <span class="menu-text">Contributors</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://umass.edu/sbs/dacss" rel="" target="">
 <span class="menu-text">DACSS</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/DACSS" rel="" target=""><i class="bi bi-github" role="img" aria-label="GitHub">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#describe-the-data-sets" id="toc-describe-the-data-sets" class="nav-link" data-scroll-target="#describe-the-data-sets">Describe the data set(s)</a>
  <ul class="collapse">
  <li><a href="#deal-with-the-na-values" id="toc-deal-with-the-na-values" class="nav-link" data-scroll-target="#deal-with-the-na-values">Deal with the NA values</a></li>
  </ul></li>
  <li><a href="#total-number-of-accidents-by-state" id="toc-total-number-of-accidents-by-state" class="nav-link" data-scroll-target="#total-number-of-accidents-by-state">Total number of accidents by state</a></li>
  <li><a href="#influencing-factors" id="toc-influencing-factors" class="nav-link" data-scroll-target="#influencing-factors">Influencing Factors</a>
  <ul class="collapse">
  <li><a href="#weather-condition-and-serverity" id="toc-weather-condition-and-serverity" class="nav-link" data-scroll-target="#weather-condition-and-serverity">Weather condition and Serverity</a></li>
  <li><a href="#visibility" id="toc-visibility" class="nav-link" data-scroll-target="#visibility">Visibility</a></li>
  <li><a href="#time-factor" id="toc-time-factor" class="nav-link" data-scroll-target="#time-factor">Time Factor</a></li>
  <li><a href="#road-condition-factor" id="toc-road-condition-factor" class="nav-link" data-scroll-target="#road-condition-factor">Road condition factor</a></li>
  </ul></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">Conclusion</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">Final Project</h1><button type="button" class="btn code-tools-button" id="quarto-code-tools-source"><i class="bi"></i> Code</button></div></div>
  <div class="quarto-categories">
    <div class="quarto-category">final_Project</div>
  </div>
  </div>

<div>
  <div class="description">
    Project &amp; Data Description
  </div>
</div>


<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Xinyang Mao </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">May 12, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">echo =</span> <span class="cn">TRUE</span>, <span class="at">warning=</span><span class="cn">FALSE</span>, <span class="at">message=</span><span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>Every year the lives of approximately 1.3 million people are cut short as a result of a road traffic crash. Between 20 and 50 million more people suffer non-fatal injuries, with many incurring a disability as a result of their injury.</p>
<p>Road traffic injuries cause considerable economic losses to individuals, their families, and to nations as a whole. These losses arise from the cost of treatment as well as lost productivity for those killed or disabled by their injuries, and for family members who need to take time off work or school to care for the injured. Road traffic crashes cost most countries 3% of their gross domestic product.</p>
<p>In 2020, a total of 35,766 fatal car accidents occurred on roadways across the United States. Another 1,593,390 crashes resulted in injuries and 3,621,681 caused property damage. That means a total of 5,250,837 collisions happened over the course of a single year.Road crashes are the single greatest annual cause of death of healthy U.S. citizens travelling abroad.</p>
<p>source: https://www.who.int/news-room/fact-sheets/detail/road-traffic-injuries https://www.forbes.com/advisor/legal/car-accident-statistics/</p>
<p>The goal of this project was to statistically analyze this data to find the states with the most accidents and to find out when accidents are likely to occur. Summarize the information obtained from the analysis to tell a general story about the occurrence of accidents in the United States and to identify the factors that influence the occurrence of accidents and the severity of accidents.</p>
</section>
<section id="describe-the-data-sets" class="level2">
<h2 class="anchored" data-anchor-id="describe-the-data-sets">Describe the data set(s)</h2>
<p>This is a countrywide car accident dataset, which covers 49 states of the USA. The accident data are collected from February 2016 to Dec 2021, using multiple APIs that provide streaming traffic incident (or event) data. These APIs broadcast traffic data captured by a variety of entities, such as the US and state departments of transportation, law enforcement agencies, traffic cameras, and traffic sensors within the road-networks. Currently, there are about 2.8 million accident records in this dataset. dataset:<code>https://www.kaggle.com/datasets/sobhanmoosavi/us-accidents</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DMwR2)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(zoo)</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages('Rmisc')</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(Rmisc)</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(mice)</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages('VIM')</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(VIM)</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(zoo)</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(reshape2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(hrbrthemes)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># import data</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"D:/Files/workspace/R/US_Accidents_Dec21_updated.csv"</span>)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["ID"],"name":[1],"type":["chr"],"align":["left"]},{"label":["Severity"],"name":[2],"type":["int"],"align":["right"]},{"label":["Start_Time"],"name":[3],"type":["chr"],"align":["left"]},{"label":["End_Time"],"name":[4],"type":["chr"],"align":["left"]},{"label":["Start_Lat"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["Start_Lng"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["End_Lat"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["End_Lng"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["Distance.mi."],"name":[9],"type":["dbl"],"align":["right"]},{"label":["Description"],"name":[10],"type":["chr"],"align":["left"]},{"label":["Number"],"name":[11],"type":["dbl"],"align":["right"]},{"label":["Street"],"name":[12],"type":["chr"],"align":["left"]},{"label":["Side"],"name":[13],"type":["chr"],"align":["left"]},{"label":["City"],"name":[14],"type":["chr"],"align":["left"]},{"label":["County"],"name":[15],"type":["chr"],"align":["left"]},{"label":["State"],"name":[16],"type":["chr"],"align":["left"]},{"label":["Zipcode"],"name":[17],"type":["chr"],"align":["left"]},{"label":["Country"],"name":[18],"type":["chr"],"align":["left"]},{"label":["Timezone"],"name":[19],"type":["chr"],"align":["left"]},{"label":["Airport_Code"],"name":[20],"type":["chr"],"align":["left"]},{"label":["Weather_Timestamp"],"name":[21],"type":["chr"],"align":["left"]},{"label":["Temperature.F."],"name":[22],"type":["dbl"],"align":["right"]},{"label":["Wind_Chill.F."],"name":[23],"type":["dbl"],"align":["right"]},{"label":["Humidity..."],"name":[24],"type":["dbl"],"align":["right"]},{"label":["Pressure.in."],"name":[25],"type":["dbl"],"align":["right"]},{"label":["Visibility.mi."],"name":[26],"type":["dbl"],"align":["right"]},{"label":["Wind_Direction"],"name":[27],"type":["chr"],"align":["left"]},{"label":["Wind_Speed.mph."],"name":[28],"type":["dbl"],"align":["right"]},{"label":["Precipitation.in."],"name":[29],"type":["dbl"],"align":["right"]},{"label":["Weather_Condition"],"name":[30],"type":["chr"],"align":["left"]},{"label":["Amenity"],"name":[31],"type":["chr"],"align":["left"]},{"label":["Bump"],"name":[32],"type":["chr"],"align":["left"]},{"label":["Crossing"],"name":[33],"type":["chr"],"align":["left"]},{"label":["Give_Way"],"name":[34],"type":["chr"],"align":["left"]},{"label":["Junction"],"name":[35],"type":["chr"],"align":["left"]},{"label":["No_Exit"],"name":[36],"type":["chr"],"align":["left"]},{"label":["Railway"],"name":[37],"type":["chr"],"align":["left"]},{"label":["Roundabout"],"name":[38],"type":["chr"],"align":["left"]},{"label":["Station"],"name":[39],"type":["chr"],"align":["left"]},{"label":["Stop"],"name":[40],"type":["chr"],"align":["left"]},{"label":["Traffic_Calming"],"name":[41],"type":["chr"],"align":["left"]},{"label":["Traffic_Signal"],"name":[42],"type":["chr"],"align":["left"]},{"label":["Turning_Loop"],"name":[43],"type":["chr"],"align":["left"]},{"label":["Sunrise_Sunset"],"name":[44],"type":["chr"],"align":["left"]},{"label":["Civil_Twilight"],"name":[45],"type":["chr"],"align":["left"]},{"label":["Nautical_Twilight"],"name":[46],"type":["chr"],"align":["left"]},{"label":["Astronomical_Twilight"],"name":[47],"type":["chr"],"align":["left"]}],"data":[{"1":"A-1","2":"3","3":"2016-02-08 00:37:08","4":"2016-02-08 06:37:08","5":"40.10891","6":"-83.09286","7":"40.11206","8":"-83.03187","9":"3.230","10":"Between Sawmill Rd/Exit 20 and OH-315/Olentangy Riv Rd/Exit 22 - Accident.","11":"NA","12":"Outerbelt E","13":"R","14":"Dublin","15":"Franklin","16":"OH","17":"43017","18":"US","19":"US/Eastern","20":"KOSU","21":"2016-02-08 00:53:00","22":"42.1","23":"36.1","24":"58","25":"29.76","26":"10","27":"SW","28":"10.4","29":"0.00","30":"Light Rain","31":"False","32":"False","33":"False","34":"False","35":"False","36":"False","37":"False","38":"False","39":"False","40":"False","41":"False","42":"False","43":"False","44":"Night","45":"Night","46":"Night","47":"Night","_rn_":"1"},{"1":"A-2","2":"2","3":"2016-02-08 05:56:20","4":"2016-02-08 11:56:20","5":"39.86542","6":"-84.06280","7":"39.86501","8":"-84.04873","9":"0.747","10":"At OH-4/OH-235/Exit 41 - Accident.","11":"NA","12":"I-70 E","13":"R","14":"Dayton","15":"Montgomery","16":"OH","17":"45424","18":"US","19":"US/Eastern","20":"KFFO","21":"2016-02-08 05:58:00","22":"36.9","23":"NA","24":"91","25":"29.68","26":"10","27":"Calm","28":"NA","29":"0.02","30":"Light Rain","31":"False","32":"False","33":"False","34":"False","35":"False","36":"False","37":"False","38":"False","39":"False","40":"False","41":"False","42":"False","43":"False","44":"Night","45":"Night","46":"Night","47":"Night","_rn_":"2"},{"1":"A-3","2":"2","3":"2016-02-08 06:15:39","4":"2016-02-08 12:15:39","5":"39.10266","6":"-84.52468","7":"39.10209","8":"-84.52396","9":"0.055","10":"At I-71/US-50/Exit 1 - Accident.","11":"NA","12":"I-75 S","13":"R","14":"Cincinnati","15":"Hamilton","16":"OH","17":"45203","18":"US","19":"US/Eastern","20":"KLUK","21":"2016-02-08 05:53:00","22":"36.0","23":"NA","24":"97","25":"29.70","26":"10","27":"Calm","28":"NA","29":"0.02","30":"Overcast","31":"False","32":"False","33":"False","34":"False","35":"True","36":"False","37":"False","38":"False","39":"False","40":"False","41":"False","42":"False","43":"False","44":"Night","45":"Night","46":"Night","47":"Day","_rn_":"3"},{"1":"A-4","2":"2","3":"2016-02-08 06:51:45","4":"2016-02-08 12:51:45","5":"41.06213","6":"-81.53784","7":"41.06217","8":"-81.53547","9":"0.123","10":"At Dart Ave/Exit 21 - Accident.","11":"NA","12":"I-77 N","13":"R","14":"Akron","15":"Summit","16":"OH","17":"44311","18":"US","19":"US/Eastern","20":"KAKR","21":"2016-02-08 06:54:00","22":"39.0","23":"NA","24":"55","25":"29.65","26":"10","27":"Calm","28":"NA","29":"NA","30":"Overcast","31":"False","32":"False","33":"False","34":"False","35":"False","36":"False","37":"False","38":"False","39":"False","40":"False","41":"False","42":"False","43":"False","44":"Night","45":"Night","46":"Day","47":"Day","_rn_":"4"},{"1":"A-5","2":"3","3":"2016-02-08 07:53:43","4":"2016-02-08 13:53:43","5":"39.17239","6":"-84.49279","7":"39.17048","8":"-84.50180","9":"0.500","10":"At Mitchell Ave/Exit 6 - Accident.","11":"NA","12":"I-75 S","13":"R","14":"Cincinnati","15":"Hamilton","16":"OH","17":"45217","18":"US","19":"US/Eastern","20":"KLUK","21":"2016-02-08 07:53:00","22":"37.0","23":"29.8","24":"93","25":"29.69","26":"10","27":"WSW","28":"10.4","29":"0.01","30":"Light Rain","31":"False","32":"False","33":"False","34":"False","35":"False","36":"False","37":"False","38":"False","39":"False","40":"False","41":"False","42":"False","43":"False","44":"Day","45":"Day","46":"Day","47":"Day","_rn_":"5"},{"1":"A-6","2":"2","3":"2016-02-08 08:16:57","4":"2016-02-08 14:16:57","5":"39.06324","6":"-84.03243","7":"39.06731","8":"-84.05851","9":"1.427","10":"At Dela Palma Rd - Accident.","11":"NA","12":"State Route 32","13":"R","14":"Williamsburg","15":"Clermont","16":"OH","17":"45176","18":"US","19":"US/Eastern","20":"KI69","21":"2016-02-08 08:16:00","22":"35.6","23":"29.2","24":"100","25":"29.66","26":"10","27":"WSW","28":"8.1","29":"NA","30":"Overcast","31":"False","32":"False","33":"False","34":"False","35":"False","36":"False","37":"False","38":"False","39":"False","40":"False","41":"False","42":"True","43":"False","44":"Day","45":"Day","46":"Day","47":"Day","_rn_":"6"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>check all of the attributes</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "ID"                    "Severity"              "Start_Time"           
 [4] "End_Time"              "Start_Lat"             "Start_Lng"            
 [7] "End_Lat"               "End_Lng"               "Distance.mi."         
[10] "Description"           "Number"                "Street"               
[13] "Side"                  "City"                  "County"               
[16] "State"                 "Zipcode"               "Country"              
[19] "Timezone"              "Airport_Code"          "Weather_Timestamp"    
[22] "Temperature.F."        "Wind_Chill.F."         "Humidity..."          
[25] "Pressure.in."          "Visibility.mi."        "Wind_Direction"       
[28] "Wind_Speed.mph."       "Precipitation.in."     "Weather_Condition"    
[31] "Amenity"               "Bump"                  "Crossing"             
[34] "Give_Way"              "Junction"              "No_Exit"              
[37] "Railway"               "Roundabout"            "Station"              
[40] "Stop"                  "Traffic_Calming"       "Traffic_Signal"       
[43] "Turning_Loop"          "Sunrise_Sunset"        "Civil_Twilight"       
[46] "Nautical_Twilight"     "Astronomical_Twilight"</code></pre>
</div>
</div>
<p>check the dimension of this dataset</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2845342      47</code></pre>
</div>
</div>
<p>Determine the number of unique elements</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(<span class="fu">unique</span>(data))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 47</code></pre>
</div>
</div>
<p>Check columns containing NA values</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colSums</span>(<span class="fu">is.na</span>(data))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                   ID              Severity            Start_Time 
                    0                     0                     0 
             End_Time             Start_Lat             Start_Lng 
                    0                     0                     0 
              End_Lat               End_Lng          Distance.mi. 
                    0                     0                     0 
          Description                Number                Street 
                    0               1743911                     0 
                 Side                  City                County 
                    0                     0                     0 
                State               Zipcode               Country 
                    0                     0                     0 
             Timezone          Airport_Code     Weather_Timestamp 
                    0                     0                     0 
       Temperature.F.         Wind_Chill.F.           Humidity... 
                69274                469643                 73092 
         Pressure.in.        Visibility.mi.        Wind_Direction 
                59200                 70546                     0 
      Wind_Speed.mph.     Precipitation.in.     Weather_Condition 
               157944                549458                     0 
              Amenity                  Bump              Crossing 
                    0                     0                     0 
             Give_Way              Junction               No_Exit 
                    0                     0                     0 
              Railway            Roundabout               Station 
                    0                     0                     0 
                 Stop       Traffic_Calming        Traffic_Signal 
                    0                     0                     0 
         Turning_Loop        Sunrise_Sunset        Civil_Twilight 
                    0                     0                     0 
    Nautical_Twilight Astronomical_Twilight 
                    0                     0 </code></pre>
</div>
</div>
<p>Show the NA value amount for each attribute sort by descending order</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>mis_col <span class="ot">&lt;-</span> <span class="fu">colSums</span>(<span class="fu">is.na</span>(data))</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>mis_col <span class="ot">&lt;-</span> <span class="fu">sort</span>(mis_col,<span class="at">decreasing  =</span> <span class="cn">TRUE</span>)</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>mis_col</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>               Number     Precipitation.in.         Wind_Chill.F. 
              1743911                549458                469643 
      Wind_Speed.mph.           Humidity...        Visibility.mi. 
               157944                 73092                 70546 
       Temperature.F.          Pressure.in.                    ID 
                69274                 59200                     0 
             Severity            Start_Time              End_Time 
                    0                     0                     0 
            Start_Lat             Start_Lng               End_Lat 
                    0                     0                     0 
              End_Lng          Distance.mi.           Description 
                    0                     0                     0 
               Street                  Side                  City 
                    0                     0                     0 
               County                 State               Zipcode 
                    0                     0                     0 
              Country              Timezone          Airport_Code 
                    0                     0                     0 
    Weather_Timestamp        Wind_Direction     Weather_Condition 
                    0                     0                     0 
              Amenity                  Bump              Crossing 
                    0                     0                     0 
             Give_Way              Junction               No_Exit 
                    0                     0                     0 
              Railway            Roundabout               Station 
                    0                     0                     0 
                 Stop       Traffic_Calming        Traffic_Signal 
                    0                     0                     0 
         Turning_Loop        Sunrise_Sunset        Civil_Twilight 
                    0                     0                     0 
    Nautical_Twilight Astronomical_Twilight 
                    0                     0 </code></pre>
</div>
</div>
<p>Select the columns which have NA value</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>mis_col <span class="ot">&lt;-</span> mis_col[mis_col<span class="sc">&gt;</span><span class="dv">0</span>]</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>mis_col</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>           Number Precipitation.in.     Wind_Chill.F.   Wind_Speed.mph. 
          1743911            549458            469643            157944 
      Humidity...    Visibility.mi.    Temperature.F.      Pressure.in. 
            73092             70546             69274             59200 </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Show the type of <code>mis_col</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(mis_col)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "numeric"</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>mis_col_df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">attributes =</span> <span class="fu">names</span>(mis_col),</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">missing_amount =</span> mis_col</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(mis_col_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "data.frame"</code></pre>
</div>
</div>
<p>Show the processed dataframe,we can use it to draw a plot to display the missing values.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>mis_col_df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["attributes"],"name":[1],"type":["chr"],"align":["left"]},{"label":["missing_amount"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"Number","2":"1743911","_rn_":"Number"},{"1":"Precipitation.in.","2":"549458","_rn_":"Precipitation.in."},{"1":"Wind_Chill.F.","2":"469643","_rn_":"Wind_Chill.F."},{"1":"Wind_Speed.mph.","2":"157944","_rn_":"Wind_Speed.mph."},{"1":"Humidity...","2":"73092","_rn_":"Humidity..."},{"1":"Visibility.mi.","2":"70546","_rn_":"Visibility.mi."},{"1":"Temperature.F.","2":"69274","_rn_":"Temperature.F."},{"1":"Pressure.in.","2":"59200","_rn_":"Pressure.in."}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Draw a bar chart to show the missing values. We can see there are 8 attributes own missing values.The attribute own most missing value is <code>Number</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the bar plot</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mis_col_df, <span class="fu">aes</span>(<span class="at">x =</span> attributes, <span class="at">y =</span> missing_amount)) <span class="sc">+</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>) <span class="sc">+</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Missing Values by Column"</span>, <span class="at">x =</span> <span class="st">"attributes"</span>, <span class="at">y =</span> <span class="st">"Number of Missing Values"</span>) <span class="sc">+</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylim</span>(<span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">2000000</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="finalProject_XinyangMao_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>First, traffic accident cases with more than 10% of the total number of missing variable values were removed, and a total of 63485 cases were removed here.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>mis_row <span class="ot">&lt;-</span> <span class="fu">rowSums</span>(<span class="fu">is.na</span>(data))<span class="sc">/</span><span class="fu">ncol</span>(data) <span class="sc">&gt;=</span><span class="fl">0.1</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>data_1 <span class="ot">&lt;-</span> data[<span class="sc">!</span>mis_row, ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colSums</span>(<span class="fu">is.na</span>(data_1))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                   ID              Severity            Start_Time 
                    0                     0                     0 
             End_Time             Start_Lat             Start_Lng 
                    0                     0                     0 
              End_Lat               End_Lng          Distance.mi. 
                    0                     0                     0 
          Description                Number                Street 
                    0               1700116                     0 
                 Side                  City                County 
                    0                     0                     0 
                State               Zipcode               Country 
                    0                     0                     0 
             Timezone          Airport_Code     Weather_Timestamp 
                    0                     0                     0 
       Temperature.F.         Wind_Chill.F.           Humidity... 
                 7754                406158                 11481 
         Pressure.in.        Visibility.mi.        Wind_Direction 
                 2820                 10728                     0 
      Wind_Speed.mph.     Precipitation.in.     Weather_Condition 
                96262                491606                     0 
              Amenity                  Bump              Crossing 
                    0                     0                     0 
             Give_Way              Junction               No_Exit 
                    0                     0                     0 
              Railway            Roundabout               Station 
                    0                     0                     0 
                 Stop       Traffic_Calming        Traffic_Signal 
                    0                     0                     0 
         Turning_Loop        Sunrise_Sunset        Civil_Twilight 
                    0                     0                     0 
    Nautical_Twilight Astronomical_Twilight 
                    0                     0 </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(data_1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2781857      47</code></pre>
</div>
</div>
<p>And then, the missing values of street number<code>Number</code>, wind chill attribute <code>Wind_Chill.F.</code>, precipitation<code>Precipitation.in.</code>,wind speed<code>Wind_Speed.mph.</code> and other attributes are too many, so these variables are removed.Then, the variables that are not related to the cause of the accident are removed.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>data_del <span class="ot">&lt;-</span> <span class="fu">subset</span>(data_1, <span class="at">select =</span> <span class="sc">-</span><span class="fu">c</span>(</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>  ID,End_Time,End_Lat,End_Lng,Distance.mi.,Description,Number,Street,Side,City,County,Zipcode,Timezone,Airport_Code,</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>  Weather_Timestamp,Temperature.F.,Wind_Chill.F.,Humidity...,Pressure.in.,Wind_Direction,Wind_Speed.mph.,</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>  Precipitation.in.,Precipitation.in.,Civil_Twilight,Nautical_Twilight,Astronomical_Twilight,Sunrise_Sunset</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>  ))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This is the data after cleaning.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(data_del)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2781857      21</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colSums</span>(<span class="fu">is.na</span>(data_del))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>         Severity        Start_Time         Start_Lat         Start_Lng 
                0                 0                 0                 0 
            State           Country    Visibility.mi. Weather_Condition 
                0                 0             10728                 0 
          Amenity              Bump          Crossing          Give_Way 
                0                 0                 0                 0 
         Junction           No_Exit           Railway        Roundabout 
                0                 0                 0                 0 
          Station              Stop   Traffic_Calming    Traffic_Signal 
                0                 0                 0                 0 
     Turning_Loop 
                0 </code></pre>
</div>
</div>
<p>Finally, the missing values of visibility<code>Visibility.mi.</code>,because its values are concentrated in the range around the mean,so I decide to use the mean interpolation method.</p>
<section id="deal-with-the-na-values" class="level3">
<h3 class="anchored" data-anchor-id="deal-with-the-na-values">Deal with the NA values</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>su_v <span class="ot">&lt;-</span> <span class="fu">summary</span>(data_del<span class="sc">$</span>Visibility.mi.)</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(su_v)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
  0.000  10.000  10.000   9.098  10.000 140.000   10728 </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Mean interpolation</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>func_mean <span class="ot">&lt;-</span> <span class="cf">function</span>(x){</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>  x[<span class="fu">is.na</span>(x)] <span class="ot">&lt;-</span> <span class="fu">mean</span>(x,<span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>data_del<span class="sc">$</span>Visibility.mi. <span class="ot">&lt;-</span> <span class="fu">sapply</span>(data_del<span class="sc">$</span>Visibility.mi.,func_mean)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write the modified data back to the original data frame</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>data_del[] <span class="ot">&lt;-</span> <span class="fu">lapply</span>(data_del, <span class="cf">function</span>(x) {</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(<span class="fu">is.numeric</span>(x)) <span class="fu">replace</span>(x, <span class="fu">is.na</span>(x), <span class="fu">mean</span>(x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="cf">else</span> x</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We can see the result of completing the missing values below.There is no longer NA value exist.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colSums</span>(<span class="fu">is.na</span>(data_del))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>         Severity        Start_Time         Start_Lat         Start_Lng 
                0                 0                 0                 0 
            State           Country    Visibility.mi. Weather_Condition 
                0                 0                 0                 0 
          Amenity              Bump          Crossing          Give_Way 
                0                 0                 0                 0 
         Junction           No_Exit           Railway        Roundabout 
                0                 0                 0                 0 
          Station              Stop   Traffic_Calming    Traffic_Signal 
                0                 0                 0                 0 
     Turning_Loop 
                0 </code></pre>
</div>
</div>
<p>Here are the columns left after I finished processing.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(data_del)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Severity"          "Start_Time"        "Start_Lat"        
 [4] "Start_Lng"         "State"             "Country"          
 [7] "Visibility.mi."    "Weather_Condition" "Amenity"          
[10] "Bump"              "Crossing"          "Give_Way"         
[13] "Junction"          "No_Exit"           "Railway"          
[16] "Roundabout"        "Station"           "Stop"             
[19] "Traffic_Calming"   "Traffic_Signal"    "Turning_Loop"     </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(data_del)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2781857      21</code></pre>
</div>
</div>
<p>Showing the overall of this dataset</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(summarytools<span class="sc">::</span><span class="fu">dfSummary</span>(data_del,</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>                        <span class="at">varnumbers =</span> <span class="cn">FALSE</span>,</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>                        <span class="at">plain.ascii  =</span> <span class="cn">FALSE</span>, </span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>                        <span class="at">style        =</span> <span class="st">"grid"</span>, </span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>                        <span class="at">graph.magnif =</span> <span class="fl">0.70</span>, </span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>                        <span class="at">valid.col    =</span> <span class="cn">FALSE</span>),</span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">method =</span> <span class="st">'render'</span>,</span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a>      <span class="at">table.classes =</span> <span class="st">'table-condensed'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="container st-container">
<h3 class="anchored">Data Frame Summary</h3>
<h4 class="anchored">data_del</h4>
<strong>Dimensions</strong>: 2781857 x 21
  <br><strong>Duplicates</strong>: 173017
<br>

<table class="table table-striped table-bordered st-table st-table-striped st-table-bordered st-multiline table-condensed table-sm small" data-quarto-postprocess="true">
<colgroup>
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
</colgroup>
<thead>
<tr class="header">
<th class="st-protect-top-border" style="text-align: center;" data-quarto-table-cell-role="th"><strong>Variable</strong></th>
<th class="st-protect-top-border" style="text-align: center;" data-quarto-table-cell-role="th"><strong>Stats / Values</strong></th>
<th class="st-protect-top-border" style="text-align: center;" data-quarto-table-cell-role="th"><strong>Freqs (% of Valid)</strong></th>
<th class="st-protect-top-border" style="text-align: center;" data-quarto-table-cell-role="th"><strong>Graph</strong></th>
<th class="st-protect-top-border" style="text-align: center;" data-quarto-table-cell-role="th"><strong>Missing</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Severity [numeric]</td>
<td style="text-align: left; padding: 8; vertical-align: middle;"><table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">Mean (sd) : 2.1 (0.5)</td>
</tr>
<tr class="even" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">min ≤ med ≤ max:</td>
</tr>
<tr class="odd" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">1 ≤ 2 ≤ 4</td>
</tr>
<tr class="even" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">IQR (CV) : 0 (0.2)</td>
</tr>
</tbody>
</table></td>
<td style="text-align: left; padding: 0; vertical-align: middle;"><table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd" style="background-color:transparent">
<td style="text-align: right; padding: 0 2px 0 7px; margin: 0; border: 0;">1</td>
<td style="text-align: left; padding: 0 2px; border: 0;">:</td>
<td style="text-align: right; padding: 0 4px 0 6px; margin: 0; border: 0;">25757</td>
<td style="text-align: left; padding: 0; border: 0;">(</td>
<td style="text-align: right; padding: 0 2px; margin: 0; border: 0;">0.9%</td>
<td style="text-align: left; padding: 0 4px 0 0; border: 0;">)</td>
</tr>
<tr class="even" style="background-color:transparent">
<td style="text-align: right; padding: 0 2px 0 7px; margin: 0; border: 0;">2</td>
<td style="text-align: left; padding: 0 2px; border: 0;">:</td>
<td style="text-align: right; padding: 0 4px 0 6px; margin: 0; border: 0;">2476945</td>
<td style="text-align: left; padding: 0; border: 0;">(</td>
<td style="text-align: right; padding: 0 2px; margin: 0; border: 0;">89.0%</td>
<td style="text-align: left; padding: 0 4px 0 0; border: 0;">)</td>
</tr>
<tr class="odd" style="background-color:transparent">
<td style="text-align: right; padding: 0 2px 0 7px; margin: 0; border: 0;">3</td>
<td style="text-align: left; padding: 0 2px; border: 0;">:</td>
<td style="text-align: right; padding: 0 4px 0 6px; margin: 0; border: 0;">151676</td>
<td style="text-align: left; padding: 0; border: 0;">(</td>
<td style="text-align: right; padding: 0 2px; margin: 0; border: 0;">5.5%</td>
<td style="text-align: left; padding: 0 4px 0 0; border: 0;">)</td>
</tr>
<tr class="even" style="background-color:transparent">
<td style="text-align: right; padding: 0 2px 0 7px; margin: 0; border: 0;">4</td>
<td style="text-align: left; padding: 0 2px; border: 0;">:</td>
<td style="text-align: right; padding: 0 4px 0 6px; margin: 0; border: 0;">127479</td>
<td style="text-align: left; padding: 0; border: 0;">(</td>
<td style="text-align: right; padding: 0 2px; margin: 0; border: 0;">4.6%</td>
<td style="text-align: left; padding: 0 4px 0 0; border: 0;">)</td>
</tr>
</tbody>
</table></td>
<td style="text-align: left; vertical-align: middle; padding: 0; background-color: transparent;"><img src="data:image/png;base64,%20iVBORw0KGgoAAAANSUhEUgAAAGoAAABJBAMAAAAnN648AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqbw8PD///+xh0SBAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5wUXAhomox/KhAAAAFFJREFUSMft00ENACAMQ1EsYGFzsPn3xgUD7QIko//+bu0YfbMJJSX1qcJQTRnWVp5IISV1RHHrvfkv+pWE8gwpqeeKWy9Cqkr/kvpNcZvv2AJQBSVhRj4PkwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wNS0yM1QwMjoyNjozOCswMDowMH7UV3QAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDUtMjNUMDI6MjY6MzgrMDA6MDAPie/IAAAAAElFTkSuQmCC" class="img-fluid" style="border:none;background-color:transparent;padding:0;max-width:max-content;"></td>
<td style="text-align: center;">0 (0.0%)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Start_Time [character]</td>
<td style="text-align: left; padding: 8; vertical-align: middle;"><table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">1. 2021-01-26 16:16:13</td>
</tr>
<tr class="even" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">2. 2021-01-26 16:17:33</td>
</tr>
<tr class="odd" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">3. 2021-02-16 06:42:43</td>
</tr>
<tr class="even" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">4. 2021-05-03 06:29:42</td>
</tr>
<tr class="odd" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">5. 2021-04-26 08:58:47</td>
</tr>
<tr class="even" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">6. 2021-11-21 18:37:51</td>
</tr>
<tr class="odd" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">7. 2021-02-16 06:43:35</td>
</tr>
<tr class="even" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">8. 2020-12-16 13:53:25</td>
</tr>
<tr class="odd" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">9. 2021-04-14 13:51:30</td>
</tr>
<tr class="even" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">10. 2021-05-03 06:30:28</td>
</tr>
<tr class="odd" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">[ 1921765 others ]</td>
</tr>
</tbody>
</table></td>
<td style="text-align: left; padding: 0; vertical-align: middle;"><table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd" style="background-color:transparent">
<td style="text-align: right; padding: 0 5px 0 7px; margin: 0; border: 0;">214</td>
<td style="text-align: left; padding: 0 2px 0 0; border: 0;">(</td>
<td style="text-align: right; padding: 0; border: 0;">0.0%</td>
<td style="text-align: left; padding: 0 4px 0 2px; border: 0;">)</td>
</tr>
<tr class="even" style="background-color:transparent">
<td style="text-align: right; padding: 0 5px 0 7px; margin: 0; border: 0;">150</td>
<td style="text-align: left; padding: 0 2px 0 0; border: 0;">(</td>
<td style="text-align: right; padding: 0; border: 0;">0.0%</td>
<td style="text-align: left; padding: 0 4px 0 2px; border: 0;">)</td>
</tr>
<tr class="odd" style="background-color:transparent">
<td style="text-align: right; padding: 0 5px 0 7px; margin: 0; border: 0;">120</td>
<td style="text-align: left; padding: 0 2px 0 0; border: 0;">(</td>
<td style="text-align: right; padding: 0; border: 0;">0.0%</td>
<td style="text-align: left; padding: 0 4px 0 2px; border: 0;">)</td>
</tr>
<tr class="even" style="background-color:transparent">
<td style="text-align: right; padding: 0 5px 0 7px; margin: 0; border: 0;">92</td>
<td style="text-align: left; padding: 0 2px 0 0; border: 0;">(</td>
<td style="text-align: right; padding: 0; border: 0;">0.0%</td>
<td style="text-align: left; padding: 0 4px 0 2px; border: 0;">)</td>
</tr>
<tr class="odd" style="background-color:transparent">
<td style="text-align: right; padding: 0 5px 0 7px; margin: 0; border: 0;">87</td>
<td style="text-align: left; padding: 0 2px 0 0; border: 0;">(</td>
<td style="text-align: right; padding: 0; border: 0;">0.0%</td>
<td style="text-align: left; padding: 0 4px 0 2px; border: 0;">)</td>
</tr>
<tr class="even" style="background-color:transparent">
<td style="text-align: right; padding: 0 5px 0 7px; margin: 0; border: 0;">84</td>
<td style="text-align: left; padding: 0 2px 0 0; border: 0;">(</td>
<td style="text-align: right; padding: 0; border: 0;">0.0%</td>
<td style="text-align: left; padding: 0 4px 0 2px; border: 0;">)</td>
</tr>
<tr class="odd" style="background-color:transparent">
<td style="text-align: right; padding: 0 5px 0 7px; margin: 0; border: 0;">79</td>
<td style="text-align: left; padding: 0 2px 0 0; border: 0;">(</td>
<td style="text-align: right; padding: 0; border: 0;">0.0%</td>
<td style="text-align: left; padding: 0 4px 0 2px; border: 0;">)</td>
</tr>
<tr class="even" style="background-color:transparent">
<td style="text-align: right; padding: 0 5px 0 7px; margin: 0; border: 0;">76</td>
<td style="text-align: left; padding: 0 2px 0 0; border: 0;">(</td>
<td style="text-align: right; padding: 0; border: 0;">0.0%</td>
<td style="text-align: left; padding: 0 4px 0 2px; border: 0;">)</td>
</tr>
<tr class="odd" style="background-color:transparent">
<td style="text-align: right; padding: 0 5px 0 7px; margin: 0; border: 0;">67</td>
<td style="text-align: left; padding: 0 2px 0 0; border: 0;">(</td>
<td style="text-align: right; padding: 0; border: 0;">0.0%</td>
<td style="text-align: left; padding: 0 4px 0 2px; border: 0;">)</td>
</tr>
<tr class="even" style="background-color:transparent">
<td style="text-align: right; padding: 0 5px 0 7px; margin: 0; border: 0;">66</td>
<td style="text-align: left; padding: 0 2px 0 0; border: 0;">(</td>
<td style="text-align: right; padding: 0; border: 0;">0.0%</td>
<td style="text-align: left; padding: 0 4px 0 2px; border: 0;">)</td>
</tr>
<tr class="odd" style="background-color:transparent">
<td style="text-align: right; padding: 0 5px 0 7px; margin: 0; border: 0;">2780822</td>
<td style="text-align: left; padding: 0 2px 0 0; border: 0;">(</td>
<td style="text-align: right; padding: 0; border: 0;">100.0%</td>
<td style="text-align: left; padding: 0 4px 0 2px; border: 0;">)</td>
</tr>
</tbody>
</table></td>
<td style="text-align: left; vertical-align: middle; padding: 0; background-color: transparent;"><img src="data:image/png;base64,%20iVBORw0KGgoAAAANSUhEUgAAAHUAAAC8BAMAAAC0zfzzAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqbw8PD///+xh0SBAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5wUXAhskVAqa6QAAAHpJREFUaN7t1bsNgDAQA9CMABvwGYH9d6OhocRECiTP/ZOsk6wrZbys8/NMLMvebECr2D/eimV7sgG1fZbtwAa0eWeWZf1ulh3ZBtT2WfYjNqD2y7Id2IDaPst2YAPavDPLsn43y45sA1rFbkGWy+7H87DsV+2bLYyUE70+3Bd2V7qFAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA1LTIzVDAyOjI3OjM2KzAwOjAwwSlHFwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNS0yM1QwMjoyNzozNiswMDowMLB0/6sAAAAASUVORK5CYII=" class="img-fluid" style="border:none;background-color:transparent;padding:0;max-width:max-content;"></td>
<td style="text-align: center;">0 (0.0%)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Start_Lat [numeric]</td>
<td style="text-align: left; padding: 8; vertical-align: middle;"><table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">Mean (sd) : 36.2 (5.4)</td>
</tr>
<tr class="even" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">min ≤ med ≤ max:</td>
</tr>
<tr class="odd" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">24.6 ≤ 36.1 ≤ 49</td>
</tr>
<tr class="even" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">IQR (CV) : 6.8 (0.1)</td>
</tr>
</tbody>
</table></td>
<td style="text-align: left; vertical-align: middle;">1073698 distinct values</td>
<td style="text-align: left; vertical-align: middle; padding: 0; background-color: transparent;"><img src="data:image/png;base64,%20iVBORw0KGgoAAAANSUhEUgAAAG0AAABPBAMAAAATslZYAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqbw8PD///+xh0SBAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5wUXAhsutN9z9wAAAM5JREFUWMPt1VEOgyAMBmCOMDnBLDeg97/boDAUtma02dQR+kbqF5Naf4wZv5amLIRa+LpxDj366aabbrouF2LGvkbNZ+d8PExXOwCdczi+A9C5dyt+mmv+FXKwdri6Rw6lzsYRahypM12bML2ufeOfOhtWZOdCShSXOpzDyjncHHXKWIXOed4BrCrn8EgXR8g5CmHGxUc5R+F2mEtLIHfpcAUX40jlclfoKPwUrnR/4tKFoHA0+Mu7fGmLXY7Er7p8+7EufImnA2Hdzfj1AGS6gYU+RkMFAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA1LTIzVDAyOjI3OjQ2KzAwOjAwy+xODgAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNS0yM1QwMjoyNzo0NiswMDowMLqx9rIAAAAASUVORK5CYII=" class="img-fluid" style="border:none;background-color:transparent;padding:0;max-width:max-content;"></td>
<td style="text-align: center;">0 (0.0%)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Start_Lng [numeric]</td>
<td style="text-align: left; padding: 8; vertical-align: middle;"><table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">Mean (sd) : -97.1 (18.3)</td>
</tr>
<tr class="even" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">min ≤ med ≤ max:</td>
</tr>
<tr class="odd" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">-124.5 ≤ -92.4 ≤ -67.1</td>
</tr>
<tr class="even" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">IQR (CV) : 37.6 (-0.2)</td>
</tr>
</tbody>
</table></td>
<td style="text-align: left; vertical-align: middle;">1099565 distinct values</td>
<td style="text-align: left; vertical-align: middle; padding: 0; background-color: transparent;"><img src="data:image/png;base64,%20iVBORw0KGgoAAAANSUhEUgAAAG0AAABPBAMAAAATslZYAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqbw8PD///+xh0SBAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5wUXAhs4QAvGpgAAAL1JREFUWMPt1mEOhSAIAGCP8J4neOEN4P53C1Fnba2E1V5z8KeZfstGYCHMH9/riLD0wUfhyJ07d+4mdxHA5gjdHbvtkaNx9HrHp6nNEYDNJXzM9V8DpSN3f3bctGwuT87vWkvXuoQa15qBwknJScqrKzs9d5xsoO54kBcNuHxTnDSfhGonk+9ym9Na5RLuHcBicomedBGMju5z9fsacSUZ1dX1I6489F6XK6u59gpy5eqpmz10tHO6+IX5YwV/1EKIdEL5VQAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wNS0yM1QwMjoyNzo1NiswMDowMAdGTpAAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDUtMjNUMDI6Mjc6NTYrMDA6MDB2G/YsAAAAAElFTkSuQmCC" class="img-fluid" style="border:none;background-color:transparent;padding:0;max-width:max-content;"></td>
<td style="text-align: center;">0 (0.0%)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">State [character]</td>
<td style="text-align: left; padding: 8; vertical-align: middle;"><table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">1. CA</td>
</tr>
<tr class="even" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">2. FL</td>
</tr>
<tr class="odd" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">3. TX</td>
</tr>
<tr class="even" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">4. OR</td>
</tr>
<tr class="odd" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">5. NY</td>
</tr>
<tr class="even" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">6. VA</td>
</tr>
<tr class="odd" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">7. PA</td>
</tr>
<tr class="even" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">8. MN</td>
</tr>
<tr class="odd" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">9. NC</td>
</tr>
<tr class="even" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">10. SC</td>
</tr>
<tr class="odd" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">[ 39 others ]</td>
</tr>
</tbody>
</table></td>
<td style="text-align: left; padding: 0; vertical-align: middle;"><table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd" style="background-color:transparent">
<td style="text-align: right; padding: 0 5px 0 7px; margin: 0; border: 0;">776883</td>
<td style="text-align: left; padding: 0 2px 0 0; border: 0;">(</td>
<td style="text-align: right; padding: 0; border: 0;">27.9%</td>
<td style="text-align: left; padding: 0 4px 0 2px; border: 0;">)</td>
</tr>
<tr class="even" style="background-color:transparent">
<td style="text-align: right; padding: 0 5px 0 7px; margin: 0; border: 0;">397558</td>
<td style="text-align: left; padding: 0 2px 0 0; border: 0;">(</td>
<td style="text-align: right; padding: 0; border: 0;">14.3%</td>
<td style="text-align: left; padding: 0 4px 0 2px; border: 0;">)</td>
</tr>
<tr class="odd" style="background-color:transparent">
<td style="text-align: right; padding: 0 5px 0 7px; margin: 0; border: 0;">146681</td>
<td style="text-align: left; padding: 0 2px 0 0; border: 0;">(</td>
<td style="text-align: right; padding: 0; border: 0;">5.3%</td>
<td style="text-align: left; padding: 0 4px 0 2px; border: 0;">)</td>
</tr>
<tr class="even" style="background-color:transparent">
<td style="text-align: right; padding: 0 5px 0 7px; margin: 0; border: 0;">124228</td>
<td style="text-align: left; padding: 0 2px 0 0; border: 0;">(</td>
<td style="text-align: right; padding: 0; border: 0;">4.5%</td>
<td style="text-align: left; padding: 0 4px 0 2px; border: 0;">)</td>
</tr>
<tr class="odd" style="background-color:transparent">
<td style="text-align: right; padding: 0 5px 0 7px; margin: 0; border: 0;">107250</td>
<td style="text-align: left; padding: 0 2px 0 0; border: 0;">(</td>
<td style="text-align: right; padding: 0; border: 0;">3.9%</td>
<td style="text-align: left; padding: 0 4px 0 2px; border: 0;">)</td>
</tr>
<tr class="even" style="background-color:transparent">
<td style="text-align: right; padding: 0 5px 0 7px; margin: 0; border: 0;">106900</td>
<td style="text-align: left; padding: 0 2px 0 0; border: 0;">(</td>
<td style="text-align: right; padding: 0; border: 0;">3.8%</td>
<td style="text-align: left; padding: 0 4px 0 2px; border: 0;">)</td>
</tr>
<tr class="odd" style="background-color:transparent">
<td style="text-align: right; padding: 0 5px 0 7px; margin: 0; border: 0;">98421</td>
<td style="text-align: left; padding: 0 2px 0 0; border: 0;">(</td>
<td style="text-align: right; padding: 0; border: 0;">3.5%</td>
<td style="text-align: left; padding: 0 4px 0 2px; border: 0;">)</td>
</tr>
<tr class="even" style="background-color:transparent">
<td style="text-align: right; padding: 0 5px 0 7px; margin: 0; border: 0;">95921</td>
<td style="text-align: left; padding: 0 2px 0 0; border: 0;">(</td>
<td style="text-align: right; padding: 0; border: 0;">3.4%</td>
<td style="text-align: left; padding: 0 4px 0 2px; border: 0;">)</td>
</tr>
<tr class="odd" style="background-color:transparent">
<td style="text-align: right; padding: 0 5px 0 7px; margin: 0; border: 0;">89946</td>
<td style="text-align: left; padding: 0 2px 0 0; border: 0;">(</td>
<td style="text-align: right; padding: 0; border: 0;">3.2%</td>
<td style="text-align: left; padding: 0 4px 0 2px; border: 0;">)</td>
</tr>
<tr class="even" style="background-color:transparent">
<td style="text-align: right; padding: 0 5px 0 7px; margin: 0; border: 0;">87608</td>
<td style="text-align: left; padding: 0 2px 0 0; border: 0;">(</td>
<td style="text-align: right; padding: 0; border: 0;">3.1%</td>
<td style="text-align: left; padding: 0 4px 0 2px; border: 0;">)</td>
</tr>
<tr class="odd" style="background-color:transparent">
<td style="text-align: right; padding: 0 5px 0 7px; margin: 0; border: 0;">750461</td>
<td style="text-align: left; padding: 0 2px 0 0; border: 0;">(</td>
<td style="text-align: right; padding: 0; border: 0;">27.0%</td>
<td style="text-align: left; padding: 0 4px 0 2px; border: 0;">)</td>
</tr>
</tbody>
</table></td>
<td style="text-align: left; vertical-align: middle; padding: 0; background-color: transparent;"><img src="data:image/png;base64,%20iVBORw0KGgoAAAANSUhEUgAAACoAAAC8BAMAAAD80iE2AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqbw8PD///+xh0SBAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5wUXAhs5Nwz2MAAAAHdJREFUWMPt18EJwCAQRFFbsASzHaz99+ZFgwuzYkAh4szxQ7LwyCUh7NtjV6vkfnptxTrRbljbo7bWa8qKKjb7qA6qvIdYZ8083wTfy+pXbIZ9qU71M+oKX1RFWf2Kzaj+H3X68qs+o65Q75faNfNHdW/FOjtWAAhODizec0vHAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA1LTIzVDAyOjI3OjU3KzAwOjAwoTFFJAAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNS0yM1QwMjoyNzo1NyswMDowMNBs/ZgAAAAASUVORK5CYII=" class="img-fluid" style="border:none;background-color:transparent;padding:0;max-width:max-content;"></td>
<td style="text-align: center;">0 (0.0%)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Country [character]</td>
<td style="text-align: left;">1. US</td>
<td style="text-align: left; padding: 0; vertical-align: middle;"><table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd" style="background-color:transparent">
<td style="text-align: right; padding: 0 5px 0 7px; margin: 0; border: 0;">2781857</td>
<td style="text-align: left; padding: 0 2px 0 0; border: 0;">(</td>
<td style="text-align: right; padding: 0; border: 0;">100.0%</td>
<td style="text-align: left; padding: 0 4px 0 2px; border: 0;">)</td>
</tr>
</tbody>
</table></td>
<td style="text-align: left; vertical-align: middle; padding: 0; background-color: transparent;"><img src="data:image/png;base64,%20iVBORw0KGgoAAAANSUhEUgAAAHUAAAAXCAQAAACfMchmAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQfnBRcCGzquBaeKAAAAYElEQVRYw+3XQQoAEBCF4Rk5nRs4oRvM9diibFDy5n272chfFFrFi/B6A0xl6onYDwXu4mZdpIqk13u7yobJ0QFmKiKmImIqIqYiYioiR6nTc9/2VvmCwv3blhwdYKYiapF5Becy9uLlAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA1LTIzVDAyOjI3OjU4KzAwOjAwV3k1zQAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNS0yM1QwMjoyNzo1OCswMDowMCYkjXEAAAAASUVORK5CYII=" class="img-fluid" style="border:none;background-color:transparent;padding:0;max-width:max-content;"></td>
<td style="text-align: center;">0 (0.0%)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Visibility.mi. [numeric]</td>
<td style="text-align: left; padding: 8; vertical-align: middle;"><table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">Mean (sd) : 9.1 (2.7)</td>
</tr>
<tr class="even" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">min ≤ med ≤ max:</td>
</tr>
<tr class="odd" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">0 ≤ 10 ≤ 140</td>
</tr>
<tr class="even" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">IQR (CV) : 0 (0.3)</td>
</tr>
</tbody>
</table></td>
<td style="text-align: left; vertical-align: middle;">76 distinct values</td>
<td style="text-align: left; vertical-align: middle; padding: 0; background-color: transparent;"><img src="data:image/png;base64,%20iVBORw0KGgoAAAANSUhEUgAAAG0AAABPBAMAAAATslZYAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqbw8PD///+xh0SBAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5wUXAhwCyUaJ0wAAAD9JREFUWMPty7ENACAIRUFGECcw3w1w/93s7KEy5F1/Zv35lDxhvHeCx+PxeDwej8fj8Xj1J9XeDt4PT0nL+rvKcP33JK2Z+wAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wNS0yM1QwMjoyODowMiswMDowMEriP2oAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDUtMjNUMDI6Mjg6MDIrMDA6MDA7v4fWAAAAAElFTkSuQmCC" class="img-fluid" style="border:none;background-color:transparent;padding:0;max-width:max-content;"></td>
<td style="text-align: center;">0 (0.0%)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Weather_Condition [character]</td>
<td style="text-align: left; padding: 8; vertical-align: middle;"><table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">1. Fair</td>
</tr>
<tr class="even" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">2. Mostly Cloudy</td>
</tr>
<tr class="odd" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">3. Cloudy</td>
</tr>
<tr class="even" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">4. Partly Cloudy</td>
</tr>
<tr class="odd" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">5. Clear</td>
</tr>
<tr class="even" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">6. Light Rain</td>
</tr>
<tr class="odd" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">7. Overcast</td>
</tr>
<tr class="even" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">8. Scattered Clouds</td>
</tr>
<tr class="odd" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">9. Light Snow</td>
</tr>
<tr class="even" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">10. Fog</td>
</tr>
<tr class="odd" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">[ 117 others ]</td>
</tr>
</tbody>
</table></td>
<td style="text-align: left; padding: 0; vertical-align: middle;"><table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd" style="background-color:transparent">
<td style="text-align: right; padding: 0 5px 0 7px; margin: 0; border: 0;">1106000</td>
<td style="text-align: left; padding: 0 2px 0 0; border: 0;">(</td>
<td style="text-align: right; padding: 0; border: 0;">39.8%</td>
<td style="text-align: left; padding: 0 4px 0 2px; border: 0;">)</td>
</tr>
<tr class="even" style="background-color:transparent">
<td style="text-align: right; padding: 0 5px 0 7px; margin: 0; border: 0;">363559</td>
<td style="text-align: left; padding: 0 2px 0 0; border: 0;">(</td>
<td style="text-align: right; padding: 0; border: 0;">13.1%</td>
<td style="text-align: left; padding: 0 4px 0 2px; border: 0;">)</td>
</tr>
<tr class="odd" style="background-color:transparent">
<td style="text-align: right; padding: 0 5px 0 7px; margin: 0; border: 0;">348388</td>
<td style="text-align: left; padding: 0 2px 0 0; border: 0;">(</td>
<td style="text-align: right; padding: 0; border: 0;">12.5%</td>
<td style="text-align: left; padding: 0 4px 0 2px; border: 0;">)</td>
</tr>
<tr class="even" style="background-color:transparent">
<td style="text-align: right; padding: 0 5px 0 7px; margin: 0; border: 0;">249557</td>
<td style="text-align: left; padding: 0 2px 0 0; border: 0;">(</td>
<td style="text-align: right; padding: 0; border: 0;">9.0%</td>
<td style="text-align: left; padding: 0 4px 0 2px; border: 0;">)</td>
</tr>
<tr class="odd" style="background-color:transparent">
<td style="text-align: right; padding: 0 5px 0 7px; margin: 0; border: 0;">173016</td>
<td style="text-align: left; padding: 0 2px 0 0; border: 0;">(</td>
<td style="text-align: right; padding: 0; border: 0;">6.2%</td>
<td style="text-align: left; padding: 0 4px 0 2px; border: 0;">)</td>
</tr>
<tr class="even" style="background-color:transparent">
<td style="text-align: right; padding: 0 5px 0 7px; margin: 0; border: 0;">128308</td>
<td style="text-align: left; padding: 0 2px 0 0; border: 0;">(</td>
<td style="text-align: right; padding: 0; border: 0;">4.6%</td>
<td style="text-align: left; padding: 0 4px 0 2px; border: 0;">)</td>
</tr>
<tr class="odd" style="background-color:transparent">
<td style="text-align: right; padding: 0 5px 0 7px; margin: 0; border: 0;">84543</td>
<td style="text-align: left; padding: 0 2px 0 0; border: 0;">(</td>
<td style="text-align: right; padding: 0; border: 0;">3.0%</td>
<td style="text-align: left; padding: 0 4px 0 2px; border: 0;">)</td>
</tr>
<tr class="even" style="background-color:transparent">
<td style="text-align: right; padding: 0 5px 0 7px; margin: 0; border: 0;">44919</td>
<td style="text-align: left; padding: 0 2px 0 0; border: 0;">(</td>
<td style="text-align: right; padding: 0; border: 0;">1.6%</td>
<td style="text-align: left; padding: 0 4px 0 2px; border: 0;">)</td>
</tr>
<tr class="odd" style="background-color:transparent">
<td style="text-align: right; padding: 0 5px 0 7px; margin: 0; border: 0;">43700</td>
<td style="text-align: left; padding: 0 2px 0 0; border: 0;">(</td>
<td style="text-align: right; padding: 0; border: 0;">1.6%</td>
<td style="text-align: left; padding: 0 4px 0 2px; border: 0;">)</td>
</tr>
<tr class="even" style="background-color:transparent">
<td style="text-align: right; padding: 0 5px 0 7px; margin: 0; border: 0;">41173</td>
<td style="text-align: left; padding: 0 2px 0 0; border: 0;">(</td>
<td style="text-align: right; padding: 0; border: 0;">1.5%</td>
<td style="text-align: left; padding: 0 4px 0 2px; border: 0;">)</td>
</tr>
<tr class="odd" style="background-color:transparent">
<td style="text-align: right; padding: 0 5px 0 7px; margin: 0; border: 0;">198694</td>
<td style="text-align: left; padding: 0 2px 0 0; border: 0;">(</td>
<td style="text-align: right; padding: 0; border: 0;">7.1%</td>
<td style="text-align: left; padding: 0 4px 0 2px; border: 0;">)</td>
</tr>
</tbody>
</table></td>
<td style="text-align: left; vertical-align: middle; padding: 0; background-color: transparent;"><img src="data:image/png;base64,%20iVBORw0KGgoAAAANSUhEUgAAADYAAAC8BAMAAADBQEBQAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqbw8PD///+xh0SBAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5wUXAhwDvkG5RQAAAJVJREFUWMPt1tEJgDAMBNCukBFsN4j776ZgEcX0LFFDhbvfh7Hm/GhK8clWqpX5GqW5De1arHRYnWLadhalBRjqgd3+27zdGk+d3qe0EEM9oP5uup1atp6FFmSoB7HS123TyvUvoz0wtGvUETJr5H4WpUUZ6kHEZ5k2vMkHM2lxJk4b6RtotonTrCv04X6mtPcM7ToyC4g8VVHzakNdAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA1LTIzVDAyOjI4OjAzKzAwOjAw7JU03gAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNS0yM1QwMjoyODowMyswMDowMJ3IjGIAAAAASUVORK5CYII=" class="img-fluid" style="border:none;background-color:transparent;padding:0;max-width:max-content;"></td>
<td style="text-align: center;">0 (0.0%)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Amenity [character]</td>
<td style="text-align: left; padding: 8; vertical-align: middle;"><table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">1. False</td>
</tr>
<tr class="even" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">2. True</td>
</tr>
</tbody>
</table></td>
<td style="text-align: left; padding: 0; vertical-align: middle;"><table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd" style="background-color:transparent">
<td style="text-align: right; padding: 0 5px 0 7px; margin: 0; border: 0;">2754429</td>
<td style="text-align: left; padding: 0 2px 0 0; border: 0;">(</td>
<td style="text-align: right; padding: 0; border: 0;">99.0%</td>
<td style="text-align: left; padding: 0 4px 0 2px; border: 0;">)</td>
</tr>
<tr class="even" style="background-color:transparent">
<td style="text-align: right; padding: 0 5px 0 7px; margin: 0; border: 0;">27428</td>
<td style="text-align: left; padding: 0 2px 0 0; border: 0;">(</td>
<td style="text-align: right; padding: 0; border: 0;">1.0%</td>
<td style="text-align: left; padding: 0 4px 0 2px; border: 0;">)</td>
</tr>
</tbody>
</table></td>
<td style="text-align: left; vertical-align: middle; padding: 0; background-color: transparent;"><img src="data:image/png;base64,%20iVBORw0KGgoAAAANSUhEUgAAAHQAAAAnBAMAAAAsrnFNAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqbw8PD///+xh0SBAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5wUXAhwFVyIccAAAADFJREFUSMdjYBhZQIkMANWqbEwyMBrVOqp1MGmlIPkLkgEGVKvSqNZRraNaydA6UgAA96/E94vSlWgAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDUtMjNUMDI6Mjg6MDUrMDA6MDCPRQHkAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTA1LTIzVDAyOjI4OjA1KzAwOjAw/hi5WAAAAABJRU5ErkJggg==" class="img-fluid" style="border:none;background-color:transparent;padding:0;max-width:max-content;"></td>
<td style="text-align: center;">0 (0.0%)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Bump [character]</td>
<td style="text-align: left; padding: 8; vertical-align: middle;"><table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">1. False</td>
</tr>
<tr class="even" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">2. True</td>
</tr>
</tbody>
</table></td>
<td style="text-align: left; padding: 0; vertical-align: middle;"><table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd" style="background-color:transparent">
<td style="text-align: right; padding: 0 5px 0 7px; margin: 0; border: 0;">2780847</td>
<td style="text-align: left; padding: 0 2px 0 0; border: 0;">(</td>
<td style="text-align: right; padding: 0; border: 0;">100.0%</td>
<td style="text-align: left; padding: 0 4px 0 2px; border: 0;">)</td>
</tr>
<tr class="even" style="background-color:transparent">
<td style="text-align: right; padding: 0 5px 0 7px; margin: 0; border: 0;">1010</td>
<td style="text-align: left; padding: 0 2px 0 0; border: 0;">(</td>
<td style="text-align: right; padding: 0; border: 0;">0.0%</td>
<td style="text-align: left; padding: 0 4px 0 2px; border: 0;">)</td>
</tr>
</tbody>
</table></td>
<td style="text-align: left; vertical-align: middle; padding: 0; background-color: transparent;"><img src="data:image/png;base64,%20iVBORw0KGgoAAAANSUhEUgAAAHUAAAAnBAMAAADDbBpzAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqbw8PD///+xh0SBAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5wUXAhwGzitNygAAADJJREFUSMdjYBh5QIkMoADVq2xMOhjVO6p3sOqlJC8IkgEEBliv4qjeUb2jeinWO5IAAMFEx8WJLtveAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA1LTIzVDAyOjI4OjA2KzAwOjAwvq0beQAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNS0yM1QwMjoyODowNiswMDowMM/wo8UAAAAASUVORK5CYII=" class="img-fluid" style="border:none;background-color:transparent;padding:0;max-width:max-content;"></td>
<td style="text-align: center;">0 (0.0%)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Crossing [character]</td>
<td style="text-align: left; padding: 8; vertical-align: middle;"><table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">1. False</td>
</tr>
<tr class="even" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">2. True</td>
</tr>
</tbody>
</table></td>
<td style="text-align: left; padding: 0; vertical-align: middle;"><table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd" style="background-color:transparent">
<td style="text-align: right; padding: 0 5px 0 7px; margin: 0; border: 0;">2583887</td>
<td style="text-align: left; padding: 0 2px 0 0; border: 0;">(</td>
<td style="text-align: right; padding: 0; border: 0;">92.9%</td>
<td style="text-align: left; padding: 0 4px 0 2px; border: 0;">)</td>
</tr>
<tr class="even" style="background-color:transparent">
<td style="text-align: right; padding: 0 5px 0 7px; margin: 0; border: 0;">197970</td>
<td style="text-align: left; padding: 0 2px 0 0; border: 0;">(</td>
<td style="text-align: right; padding: 0; border: 0;">7.1%</td>
<td style="text-align: left; padding: 0 4px 0 2px; border: 0;">)</td>
</tr>
</tbody>
</table></td>
<td style="text-align: left; vertical-align: middle; padding: 0; background-color: transparent;"><img src="data:image/png;base64,%20iVBORw0KGgoAAAANSUhEUgAAAG4AAAAnBAMAAAAcImBsAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqbw8PD///+xh0SBAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5wUXAhwHuSx9XAAAADlJREFUSMdjYBj+QIlUANWnbEwaMBrVN6qPjvrITdeCpIIB0gdyMjn6gOFpNKpvVN9g1Uduuh7OAAAAnb7KIuGxOgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wNS0yM1QwMjoyODowNyswMDowMBjaEM0AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDUtMjNUMDI6Mjg6MDcrMDA6MDBph6hxAAAAAElFTkSuQmCC" class="img-fluid" style="border:none;background-color:transparent;padding:0;max-width:max-content;"></td>
<td style="text-align: center;">0 (0.0%)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Give_Way [character]</td>
<td style="text-align: left; padding: 8; vertical-align: middle;"><table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">1. False</td>
</tr>
<tr class="even" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">2. True</td>
</tr>
</tbody>
</table></td>
<td style="text-align: left; padding: 0; vertical-align: middle;"><table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd" style="background-color:transparent">
<td style="text-align: right; padding: 0 5px 0 7px; margin: 0; border: 0;">2775172</td>
<td style="text-align: left; padding: 0 2px 0 0; border: 0;">(</td>
<td style="text-align: right; padding: 0; border: 0;">99.8%</td>
<td style="text-align: left; padding: 0 4px 0 2px; border: 0;">)</td>
</tr>
<tr class="even" style="background-color:transparent">
<td style="text-align: right; padding: 0 5px 0 7px; margin: 0; border: 0;">6685</td>
<td style="text-align: left; padding: 0 2px 0 0; border: 0;">(</td>
<td style="text-align: right; padding: 0; border: 0;">0.2%</td>
<td style="text-align: left; padding: 0 4px 0 2px; border: 0;">)</td>
</tr>
</tbody>
</table></td>
<td style="text-align: left; vertical-align: middle; padding: 0; background-color: transparent;"><img src="data:image/png;base64,%20iVBORw0KGgoAAAANSUhEUgAAAHUAAAAnBAMAAADDbBpzAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqbw8PD///+xh0SBAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5wUXAhwIKZNgzQAAADJJREFUSMdjYBh5QIkMoADVq2xMOhjVO6p3sOqlJC8IkgEEBliv4qjeUb2jeinWO5IAAMFEx8WJLtveAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA1LTIzVDAyOjI4OjA4KzAwOjAw7pJgJAAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNS0yM1QwMjoyODowOCswMDowMJ/P2JgAAAAASUVORK5CYII=" class="img-fluid" style="border:none;background-color:transparent;padding:0;max-width:max-content;"></td>
<td style="text-align: center;">0 (0.0%)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Junction [character]</td>
<td style="text-align: left; padding: 8; vertical-align: middle;"><table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">1. False</td>
</tr>
<tr class="even" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">2. True</td>
</tr>
</tbody>
</table></td>
<td style="text-align: left; padding: 0; vertical-align: middle;"><table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd" style="background-color:transparent">
<td style="text-align: right; padding: 0 5px 0 7px; margin: 0; border: 0;">2498606</td>
<td style="text-align: left; padding: 0 2px 0 0; border: 0;">(</td>
<td style="text-align: right; padding: 0; border: 0;">89.8%</td>
<td style="text-align: left; padding: 0 4px 0 2px; border: 0;">)</td>
</tr>
<tr class="even" style="background-color:transparent">
<td style="text-align: right; padding: 0 5px 0 7px; margin: 0; border: 0;">283251</td>
<td style="text-align: left; padding: 0 2px 0 0; border: 0;">(</td>
<td style="text-align: right; padding: 0; border: 0;">10.2%</td>
<td style="text-align: left; padding: 0 4px 0 2px; border: 0;">)</td>
</tr>
</tbody>
</table></td>
<td style="text-align: left; vertical-align: middle; padding: 0; background-color: transparent;"><img src="data:image/png;base64,%20iVBORw0KGgoAAAANSUhEUgAAAGsAAAAnBAMAAAD6C6soAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqbw8PD///+xh0SBAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5wUXAhwJXpRQWwAAADpJREFUSMdjYBjeQIk0oADVpmxMEhjVNqqN5trITMqCpAGBAdEGdrEiydrAITmqbVTbINJGZlIergAADga8uqILPV0AAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDUtMjNUMDI6Mjg6MDkrMDA6MDBI5WuQAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTA1LTIzVDAyOjI4OjA5KzAwOjAwObjTLAAAAABJRU5ErkJggg==" class="img-fluid" style="border:none;background-color:transparent;padding:0;max-width:max-content;"></td>
<td style="text-align: center;">0 (0.0%)</td>
</tr>
<tr class="even">
<td style="text-align: left;">No_Exit [character]</td>
<td style="text-align: left; padding: 8; vertical-align: middle;"><table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">1. False</td>
</tr>
<tr class="even" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">2. True</td>
</tr>
</tbody>
</table></td>
<td style="text-align: left; padding: 0; vertical-align: middle;"><table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd" style="background-color:transparent">
<td style="text-align: right; padding: 0 5px 0 7px; margin: 0; border: 0;">2777611</td>
<td style="text-align: left; padding: 0 2px 0 0; border: 0;">(</td>
<td style="text-align: right; padding: 0; border: 0;">99.8%</td>
<td style="text-align: left; padding: 0 4px 0 2px; border: 0;">)</td>
</tr>
<tr class="even" style="background-color:transparent">
<td style="text-align: right; padding: 0 5px 0 7px; margin: 0; border: 0;">4246</td>
<td style="text-align: left; padding: 0 2px 0 0; border: 0;">(</td>
<td style="text-align: right; padding: 0; border: 0;">0.2%</td>
<td style="text-align: left; padding: 0 4px 0 2px; border: 0;">)</td>
</tr>
</tbody>
</table></td>
<td style="text-align: left; vertical-align: middle; padding: 0; background-color: transparent;"><img src="data:image/png;base64,%20iVBORw0KGgoAAAANSUhEUgAAAHUAAAAnBAMAAADDbBpzAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqbw8PD///+xh0SBAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5wUXAhwLsJoxdwAAADJJREFUSMdjYBh5QIkMoADVq2xMOhjVO6p3sOqlJC8IkgEEBliv4qjeUb2jeinWO5IAAMFEx8WJLtveAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA1LTIzVDAyOjI4OjExKzAwOjAwt6AlaQAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNS0yM1QwMjoyODoxMSswMDowMMb9ndUAAAAASUVORK5CYII=" class="img-fluid" style="border:none;background-color:transparent;padding:0;max-width:max-content;"></td>
<td style="text-align: center;">0 (0.0%)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Railway [character]</td>
<td style="text-align: left; padding: 8; vertical-align: middle;"><table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">1. False</td>
</tr>
<tr class="even" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">2. True</td>
</tr>
</tbody>
</table></td>
<td style="text-align: left; padding: 0; vertical-align: middle;"><table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd" style="background-color:transparent">
<td style="text-align: right; padding: 0 5px 0 7px; margin: 0; border: 0;">2759944</td>
<td style="text-align: left; padding: 0 2px 0 0; border: 0;">(</td>
<td style="text-align: right; padding: 0; border: 0;">99.2%</td>
<td style="text-align: left; padding: 0 4px 0 2px; border: 0;">)</td>
</tr>
<tr class="even" style="background-color:transparent">
<td style="text-align: right; padding: 0 5px 0 7px; margin: 0; border: 0;">21913</td>
<td style="text-align: left; padding: 0 2px 0 0; border: 0;">(</td>
<td style="text-align: right; padding: 0; border: 0;">0.8%</td>
<td style="text-align: left; padding: 0 4px 0 2px; border: 0;">)</td>
</tr>
</tbody>
</table></td>
<td style="text-align: left; vertical-align: middle; padding: 0; background-color: transparent;"><img src="data:image/png;base64,%20iVBORw0KGgoAAAANSUhEUgAAAHQAAAAnBAMAAAAsrnFNAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqbw8PD///+xh0SBAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5wUXAhwMLv6k1AAAADFJREFUSMdjYBhZQIkMANWqbEwyMBrVOqp1MGmlIPkLkgEGVKvSqNZRraNaydA6UgAA96/E94vSlWgAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDUtMjNUMDI6Mjg6MTIrMDA6MDCGSD/0AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTA1LTIzVDAyOjI4OjEyKzAwOjAw9xWHSAAAAABJRU5ErkJggg==" class="img-fluid" style="border:none;background-color:transparent;padding:0;max-width:max-content;"></td>
<td style="text-align: center;">0 (0.0%)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Roundabout [character]</td>
<td style="text-align: left; padding: 8; vertical-align: middle;"><table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">1. False</td>
</tr>
<tr class="even" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">2. True</td>
</tr>
</tbody>
</table></td>
<td style="text-align: left; padding: 0; vertical-align: middle;"><table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd" style="background-color:transparent">
<td style="text-align: right; padding: 0 5px 0 7px; margin: 0; border: 0;">2781735</td>
<td style="text-align: left; padding: 0 2px 0 0; border: 0;">(</td>
<td style="text-align: right; padding: 0; border: 0;">100.0%</td>
<td style="text-align: left; padding: 0 4px 0 2px; border: 0;">)</td>
</tr>
<tr class="even" style="background-color:transparent">
<td style="text-align: right; padding: 0 5px 0 7px; margin: 0; border: 0;">122</td>
<td style="text-align: left; padding: 0 2px 0 0; border: 0;">(</td>
<td style="text-align: right; padding: 0; border: 0;">0.0%</td>
<td style="text-align: left; padding: 0 4px 0 2px; border: 0;">)</td>
</tr>
</tbody>
</table></td>
<td style="text-align: left; vertical-align: middle; padding: 0; background-color: transparent;"><img src="data:image/png;base64,%20iVBORw0KGgoAAAANSUhEUgAAAHUAAAAnBAMAAADDbBpzAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqbw8PD///+xh0SBAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5wUXAhwNWfmUQgAAADJJREFUSMdjYBh5QIkMoADVq2xMOhjVO6p3sOqlJC8IkgEEBliv4qjeUb2jeinWO5IAAMFEx8WJLtveAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA1LTIzVDAyOjI4OjEzKzAwOjAwID80QAAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNS0yM1QwMjoyODoxMyswMDowMFFijPwAAAAASUVORK5CYII=" class="img-fluid" style="border:none;background-color:transparent;padding:0;max-width:max-content;"></td>
<td style="text-align: center;">0 (0.0%)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Station [character]</td>
<td style="text-align: left; padding: 8; vertical-align: middle;"><table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">1. False</td>
</tr>
<tr class="even" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">2. True</td>
</tr>
</tbody>
</table></td>
<td style="text-align: left; padding: 0; vertical-align: middle;"><table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd" style="background-color:transparent">
<td style="text-align: right; padding: 0 5px 0 7px; margin: 0; border: 0;">2714811</td>
<td style="text-align: left; padding: 0 2px 0 0; border: 0;">(</td>
<td style="text-align: right; padding: 0; border: 0;">97.6%</td>
<td style="text-align: left; padding: 0 4px 0 2px; border: 0;">)</td>
</tr>
<tr class="even" style="background-color:transparent">
<td style="text-align: right; padding: 0 5px 0 7px; margin: 0; border: 0;">67046</td>
<td style="text-align: left; padding: 0 2px 0 0; border: 0;">(</td>
<td style="text-align: right; padding: 0; border: 0;">2.4%</td>
<td style="text-align: left; padding: 0 4px 0 2px; border: 0;">)</td>
</tr>
</tbody>
</table></td>
<td style="text-align: left; vertical-align: middle; padding: 0; background-color: transparent;"><img src="data:image/png;base64,%20iVBORw0KGgoAAAANSUhEUgAAAHMAAAAnBAMAAADOcmo0AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqbw8PD///+xh0SBAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5wUXAhwOwPDF+AAAADhJREFUSMdjYBhZQIl0oADVqmxMMhjVOqp1UGmlIPkLkg4EBlSrkiLZWpVHtY5qHeJaKUj+IwUAAL9ixPY598haAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA1LTIzVDAyOjI4OjE0KzAwOjAw5ZgKzgAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNS0yM1QwMjoyODoxNCswMDowMJTFsnIAAAAASUVORK5CYII=" class="img-fluid" style="border:none;background-color:transparent;padding:0;max-width:max-content;"></td>
<td style="text-align: center;">0 (0.0%)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Stop [character]</td>
<td style="text-align: left; padding: 8; vertical-align: middle;"><table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">1. False</td>
</tr>
<tr class="even" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">2. True</td>
</tr>
</tbody>
</table></td>
<td style="text-align: left; padding: 0; vertical-align: middle;"><table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd" style="background-color:transparent">
<td style="text-align: right; padding: 0 5px 0 7px; margin: 0; border: 0;">2732572</td>
<td style="text-align: left; padding: 0 2px 0 0; border: 0;">(</td>
<td style="text-align: right; padding: 0; border: 0;">98.2%</td>
<td style="text-align: left; padding: 0 4px 0 2px; border: 0;">)</td>
</tr>
<tr class="even" style="background-color:transparent">
<td style="text-align: right; padding: 0 5px 0 7px; margin: 0; border: 0;">49285</td>
<td style="text-align: left; padding: 0 2px 0 0; border: 0;">(</td>
<td style="text-align: right; padding: 0; border: 0;">1.8%</td>
<td style="text-align: left; padding: 0 4px 0 2px; border: 0;">)</td>
</tr>
</tbody>
</table></td>
<td style="text-align: left; vertical-align: middle; padding: 0; background-color: transparent;"><img src="data:image/png;base64,%20iVBORw0KGgoAAAANSUhEUgAAAHMAAAAnBAMAAADOcmo0AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqbw8PD///+xh0SBAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5wUXAhwPt/f1bgAAADhJREFUSMdjYBhZQIl0oADVqmxMMhjVOqp1UGmlIPkLkg4EBlSrkiLZWpVHtY5qHeJaKUj+IwUAAL9ixPY598haAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA1LTIzVDAyOjI4OjE1KzAwOjAwQ+8BegAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNS0yM1QwMjoyODoxNSswMDowMDKyucYAAAAASUVORK5CYII=" class="img-fluid" style="border:none;background-color:transparent;padding:0;max-width:max-content;"></td>
<td style="text-align: center;">0 (0.0%)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Traffic_Calming [character]</td>
<td style="text-align: left; padding: 8; vertical-align: middle;"><table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">1. False</td>
</tr>
<tr class="even" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">2. True</td>
</tr>
</tbody>
</table></td>
<td style="text-align: left; padding: 0; vertical-align: middle;"><table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd" style="background-color:transparent">
<td style="text-align: right; padding: 0 5px 0 7px; margin: 0; border: 0;">2780171</td>
<td style="text-align: left; padding: 0 2px 0 0; border: 0;">(</td>
<td style="text-align: right; padding: 0; border: 0;">99.9%</td>
<td style="text-align: left; padding: 0 4px 0 2px; border: 0;">)</td>
</tr>
<tr class="even" style="background-color:transparent">
<td style="text-align: right; padding: 0 5px 0 7px; margin: 0; border: 0;">1686</td>
<td style="text-align: left; padding: 0 2px 0 0; border: 0;">(</td>
<td style="text-align: right; padding: 0; border: 0;">0.1%</td>
<td style="text-align: left; padding: 0 4px 0 2px; border: 0;">)</td>
</tr>
</tbody>
</table></td>
<td style="text-align: left; vertical-align: middle; padding: 0; background-color: transparent;"><img src="data:image/png;base64,%20iVBORw0KGgoAAAANSUhEUgAAAHUAAAAnBAMAAADDbBpzAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqbw8PD///+xh0SBAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5wUXAhwQOv/4mwAAADJJREFUSMdjYBh5QIkMoADVq2xMOhjVO6p3sOqlJC8IkgEEBliv4qjeUb2jeinWO5IAAMFEx8WJLtveAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA1LTIzVDAyOjI4OjE2KzAwOjAwcgcb5wAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNS0yM1QwMjoyODoxNiswMDowMANao1sAAAAASUVORK5CYII=" class="img-fluid" style="border:none;background-color:transparent;padding:0;max-width:max-content;"></td>
<td style="text-align: center;">0 (0.0%)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Traffic_Signal [character]</td>
<td style="text-align: left; padding: 8; vertical-align: middle;"><table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">1. False</td>
</tr>
<tr class="even" style="background-color:transparent">
<td style="text-align: left; padding: 0; margin: 0; border: 0;">2. True</td>
</tr>
</tbody>
</table></td>
<td style="text-align: left; padding: 0; vertical-align: middle;"><table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd" style="background-color:transparent">
<td style="text-align: right; padding: 0 5px 0 7px; margin: 0; border: 0;">2520456</td>
<td style="text-align: left; padding: 0 2px 0 0; border: 0;">(</td>
<td style="text-align: right; padding: 0; border: 0;">90.6%</td>
<td style="text-align: left; padding: 0 4px 0 2px; border: 0;">)</td>
</tr>
<tr class="even" style="background-color:transparent">
<td style="text-align: right; padding: 0 5px 0 7px; margin: 0; border: 0;">261401</td>
<td style="text-align: left; padding: 0 2px 0 0; border: 0;">(</td>
<td style="text-align: right; padding: 0; border: 0;">9.4%</td>
<td style="text-align: left; padding: 0 4px 0 2px; border: 0;">)</td>
</tr>
</tbody>
</table></td>
<td style="text-align: left; vertical-align: middle; padding: 0; background-color: transparent;"><img src="data:image/png;base64,%20iVBORw0KGgoAAAANSUhEUgAAAGsAAAAnBAMAAAD6C6soAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqbw8PD///+xh0SBAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5wUXAhwRTfjIDQAAADpJREFUSMdjYBjeQIk0oADVpmxMEhjVNqqN5trITMqCpAGBAdEGdrEiydrAITmqbVTbINJGZlIergAADga8uqILPV0AAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDUtMjNUMDI6Mjg6MTcrMDA6MDDUcBBTAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTA1LTIzVDAyOjI4OjE3KzAwOjAwpS2o7wAAAABJRU5ErkJggg==" class="img-fluid" style="border:none;background-color:transparent;padding:0;max-width:max-content;"></td>
<td style="text-align: center;">0 (0.0%)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Turning_Loop [character]</td>
<td style="text-align: left;">1. False</td>
<td style="text-align: left; padding: 0; vertical-align: middle;"><table data-quarto-postprocess="true" class="table table-sm table-striped small">
<tbody>
<tr class="odd" style="background-color:transparent">
<td style="text-align: right; padding: 0 5px 0 7px; margin: 0; border: 0;">2781857</td>
<td style="text-align: left; padding: 0 2px 0 0; border: 0;">(</td>
<td style="text-align: right; padding: 0; border: 0;">100.0%</td>
<td style="text-align: left; padding: 0 4px 0 2px; border: 0;">)</td>
</tr>
</tbody>
</table></td>
<td style="text-align: left; vertical-align: middle; padding: 0; background-color: transparent;"><img src="data:image/png;base64,%20iVBORw0KGgoAAAANSUhEUgAAAHUAAAAXCAQAAACfMchmAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQfnBRcCHBLU8Zm3AAAAYElEQVRYw+3XQQoAEBCF4Rk5nRs4oRvM9diibFDy5n272chfFFrFi/B6A0xl6onYDwXu4mZdpIqk13u7yobJ0QFmKiKmImIqIqYiYioiR6nTc9/2VvmCwv3blhwdYKYiapF5Becy9uLlAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA1LTIzVDAyOjI4OjE4KzAwOjAwIjhgugAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNS0yM1QwMjoyODoxOCswMDowMFNl2AYAAAAASUVORK5CYII=" class="img-fluid" style="border:none;background-color:transparent;padding:0;max-width:max-content;"></td>
<td style="text-align: center;">0 (0.0%)</td>
</tr>
</tbody>
</table>

<p>Generated by <a href="https://github.com/dcomtois/summarytools">summarytools</a> 1.0.1 (<a href="https://www.r-project.org/">R</a> version 4.2.2)<br>2023-05-22</p>
</div>
</div>
</div>
<p>There are 21 attributes and 2781857 rows,it’s a really large size dataset. The attributes I’ll use in this project are:</p>
<p>Severity:Shows the severity of the accident, a number between 1 and 4, where 1 indicates the least impact on traffic. Start_Time:Shows start time of the accident in local time zone. Start_Lat:Shows latitude in GPS coordinate of the start point.<br>
Start_Lng:Shows longitude in GPS coordinate of the start point. State:Shows the state in address field.<br>
Country:Shows the country in address field.<br>
Visibility.mi.:Shows visibility (in miles). Weather_Condition:Shows the weather condition (rain, snow, thunderstorm, fog, etc.) Amenity:A POI annotation which indicates presence of amenity in a nearby location<br>
Bump:A POI annotation which indicates presence of speed bump or hump in a nearby location.<br>
Crossing:A POI annotation which indicates presence of crossing in a nearby location.<br>
Give_Way:A POI annotation which indicates presence of give_way in a nearby location. Junction:A POI annotation which indicates presence of junction in a nearby location.<br>
No_Exit:A POI annotation which indicates presence of no_exit in a nearby location.<br>
Railway:A POI annotation which indicates presence of railway in a nearby location.<br>
Roundabout:A POI annotation which indicates presence of roundabout in a nearby location. Station:A POI annotation which indicates presence of station in a nearby location.<br>
Stop:A POI annotation which indicates presence of stop in a nearby location.<br>
Traffic_Calming:A POI annotation which indicates presence of traffic_calming in a nearby location.<br>
Traffic_Signal:A POI annotation which indicates presence of traffic_signal in a nearby location. Turning_Loop:A POI annotation which indicates presence of turning_loop in a nearby location.</p>
</section>
</section>
<section id="total-number-of-accidents-by-state" class="level2">
<h2 class="anchored" data-anchor-id="total-number-of-accidents-by-state">Total number of accidents by state</h2>
<p>The total number of accidents by state for the period 2016-2021:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>data_state <span class="ot">&lt;-</span> data_del <span class="sc">%&gt;%</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(State) <span class="sc">%&gt;%</span></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">summarize</span>(<span class="at">count =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>data_state <span class="ot">&lt;-</span> data[<span class="fu">order</span>(data_state<span class="sc">$</span>count, <span class="at">decreasing =</span> <span class="cn">TRUE</span>), ]</span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a>data_state</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["ID"],"name":[1],"type":["chr"],"align":["left"]},{"label":["Severity"],"name":[2],"type":["int"],"align":["right"]},{"label":["Start_Time"],"name":[3],"type":["chr"],"align":["left"]},{"label":["End_Time"],"name":[4],"type":["chr"],"align":["left"]},{"label":["Start_Lat"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["Start_Lng"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["End_Lat"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["End_Lng"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["Distance.mi."],"name":[9],"type":["dbl"],"align":["right"]},{"label":["Description"],"name":[10],"type":["chr"],"align":["left"]},{"label":["Number"],"name":[11],"type":["dbl"],"align":["right"]},{"label":["Street"],"name":[12],"type":["chr"],"align":["left"]},{"label":["Side"],"name":[13],"type":["chr"],"align":["left"]},{"label":["City"],"name":[14],"type":["chr"],"align":["left"]},{"label":["County"],"name":[15],"type":["chr"],"align":["left"]},{"label":["State"],"name":[16],"type":["chr"],"align":["left"]},{"label":["Zipcode"],"name":[17],"type":["chr"],"align":["left"]},{"label":["Country"],"name":[18],"type":["chr"],"align":["left"]},{"label":["Timezone"],"name":[19],"type":["chr"],"align":["left"]},{"label":["Airport_Code"],"name":[20],"type":["chr"],"align":["left"]},{"label":["Weather_Timestamp"],"name":[21],"type":["chr"],"align":["left"]},{"label":["Temperature.F."],"name":[22],"type":["dbl"],"align":["right"]},{"label":["Wind_Chill.F."],"name":[23],"type":["dbl"],"align":["right"]},{"label":["Humidity..."],"name":[24],"type":["dbl"],"align":["right"]},{"label":["Pressure.in."],"name":[25],"type":["dbl"],"align":["right"]},{"label":["Visibility.mi."],"name":[26],"type":["dbl"],"align":["right"]},{"label":["Wind_Direction"],"name":[27],"type":["chr"],"align":["left"]},{"label":["Wind_Speed.mph."],"name":[28],"type":["dbl"],"align":["right"]},{"label":["Precipitation.in."],"name":[29],"type":["dbl"],"align":["right"]},{"label":["Weather_Condition"],"name":[30],"type":["chr"],"align":["left"]},{"label":["Amenity"],"name":[31],"type":["chr"],"align":["left"]},{"label":["Bump"],"name":[32],"type":["chr"],"align":["left"]},{"label":["Crossing"],"name":[33],"type":["chr"],"align":["left"]},{"label":["Give_Way"],"name":[34],"type":["chr"],"align":["left"]},{"label":["Junction"],"name":[35],"type":["chr"],"align":["left"]},{"label":["No_Exit"],"name":[36],"type":["chr"],"align":["left"]},{"label":["Railway"],"name":[37],"type":["chr"],"align":["left"]},{"label":["Roundabout"],"name":[38],"type":["chr"],"align":["left"]},{"label":["Station"],"name":[39],"type":["chr"],"align":["left"]},{"label":["Stop"],"name":[40],"type":["chr"],"align":["left"]},{"label":["Traffic_Calming"],"name":[41],"type":["chr"],"align":["left"]},{"label":["Traffic_Signal"],"name":[42],"type":["chr"],"align":["left"]},{"label":["Turning_Loop"],"name":[43],"type":["chr"],"align":["left"]},{"label":["Sunrise_Sunset"],"name":[44],"type":["chr"],"align":["left"]},{"label":["Civil_Twilight"],"name":[45],"type":["chr"],"align":["left"]},{"label":["Nautical_Twilight"],"name":[46],"type":["chr"],"align":["left"]},{"label":["Astronomical_Twilight"],"name":[47],"type":["chr"],"align":["left"]}],"data":[{"1":"A-4","2":"2","3":"2016-02-08 06:51:45","4":"2016-02-08 12:51:45","5":"41.06213","6":"-81.53784","7":"41.06217","8":"-81.53547","9":"0.123","10":"At Dart Ave/Exit 21 - Accident.","11":"NA","12":"I-77 N","13":"R","14":"Akron","15":"Summit","16":"OH","17":"44311","18":"US","19":"US/Eastern","20":"KAKR","21":"2016-02-08 06:54:00","22":"39.0","23":"NA","24":"55","25":"29.65","26":"10.0","27":"Calm","28":"NA","29":"NA","30":"Overcast","31":"False","32":"False","33":"False","34":"False","35":"False","36":"False","37":"False","38":"False","39":"False","40":"False","41":"False","42":"False","43":"False","44":"Night","45":"Night","46":"Day","47":"Day","_rn_":"4"},{"1":"A-9","2":"2","3":"2016-02-08 14:19:57","4":"2016-02-08 20:19:57","5":"40.70225","6":"-84.07589","7":"40.69911","8":"-84.08429","9":"0.491","10":"At OH-65/Exit 122 - Accident.","11":"NA","12":"E Hanthorn Rd","13":"R","14":"Lima","15":"Allen","16":"OH","17":"45806","18":"US","19":"US/Eastern","20":"KAOH","21":"2016-02-08 13:53:00","22":"39.0","23":"31.8","24":"70","25":"29.59","26":"10.0","27":"WNW","28":"11.5","29":"NA","30":"Overcast","31":"False","32":"False","33":"False","34":"False","35":"False","36":"False","37":"False","38":"False","39":"False","40":"False","41":"False","42":"False","43":"False","44":"Day","45":"Day","46":"Day","47":"Day","_rn_":"9"},{"1":"A-42","2":"2","3":"2016-02-09 17:13:58","4":"2016-02-09 23:13:58","5":"41.06180","6":"-81.54608","7":"41.06193","8":"-81.54149","9":"0.239","10":"At OH-59/Exit 21 - Accident.","11":"NA","12":"I-76 E","13":"R","14":"Akron","15":"Summit","16":"OH","17":"44307","18":"US","19":"US/Eastern","20":"KAKR","21":"2016-02-09 17:13:00","22":"28.9","23":"20.4","24":"82","25":"29.62","26":"2.5","27":"SW","28":"9.2","29":"0.00","30":"Light Snow","31":"False","32":"False","33":"False","34":"False","35":"False","36":"False","37":"False","38":"False","39":"False","40":"False","41":"False","42":"False","43":"False","44":"Day","45":"Day","46":"Day","47":"Day","_rn_":"42"},{"1":"A-36","2":"3","3":"2016-02-09 10:07:49","4":"2016-02-09 16:07:49","5":"38.27401","6":"-85.74844","7":"38.28558","8":"-85.75518","9":"0.879","10":"Between US-31/IN-62 and Stansifer Ave/Exit 1 - Accident.","11":"NA","12":"I-65 S","13":"R","14":"Jeffersonville","15":"Clark","16":"IN","17":"47130","18":"US","19":"US/Eastern","20":"KLOU","21":"2016-02-09 09:53:00","22":"23.0","23":"11.1","24":"74","25":"29.87","26":"10.0","27":"West","28":"12.7","29":"NA","30":"Overcast","31":"False","32":"False","33":"False","34":"False","35":"False","36":"False","37":"False","38":"False","39":"False","40":"False","41":"False","42":"False","43":"False","44":"Day","45":"Day","46":"Day","47":"Day","_rn_":"36"},{"1":"A-33","2":"3","3":"2016-02-09 08:02:55","4":"2016-02-09 14:02:55","5":"39.26750","6":"-81.49929","7":"39.26867","8":"-81.49909","9":"0.082","10":"At US-50/Exit 176 - Accident.","11":"NA","12":"US-50 E","13":"R","14":"Parkersburg","15":"Wood","16":"WV","17":"26104","18":"US","19":"US/Eastern","20":"KPKB","21":"2016-02-09 07:53:00","22":"24.1","23":"13.7","24":"88","25":"29.72","26":"1.0","27":"WSW","28":"10.4","29":"0.02","30":"Light Snow","31":"False","32":"False","33":"False","34":"False","35":"False","36":"False","37":"False","38":"False","39":"False","40":"False","41":"False","42":"False","43":"False","44":"Day","45":"Day","46":"Day","47":"Day","_rn_":"33"},{"1":"A-44","2":"4","3":"2016-02-09 18:20:58","4":"2016-02-10 00:20:58","5":"40.35429","6":"-85.14993","7":"40.45112","8":"-85.15048","9":"6.690","10":"Closed between IN-67 and IN-26 - Road closed due to accident.","11":"473","12":"N Meridian St","13":"R","14":"Redkey","15":"Jay","16":"IN","17":"47373-9430","18":"US","19":"US/Eastern","20":"KMIE","21":"2016-02-09 18:20:00","22":"19.9","23":"7.3","24":"81","25":"29.85","26":"2.0","27":"WNW","28":"12.7","29":"0.00","30":"Light Snow","31":"False","32":"False","33":"False","34":"False","35":"False","36":"False","37":"False","38":"False","39":"False","40":"False","41":"False","42":"False","43":"False","44":"Night","45":"Day","46":"Day","47":"Day","_rn_":"44"},{"1":"A-37","2":"2","3":"2016-02-09 11:09:49","4":"2016-02-09 17:09:49","5":"41.95677","6":"-83.67214","7":"41.95939","8":"-83.67235","9":"0.181","10":"At M-50/Exit 17 - Accident.","11":"NA","12":"US-23 N","13":"R","14":"Dundee","15":"Monroe","16":"MI","17":"48131","18":"US","19":"US/Eastern","20":"KTTF","21":"2016-02-09 11:15:00","22":"31.8","23":"22.3","24":"84","25":"29.60","26":"2.5","27":"WNW","28":"12.7","29":"NA","30":"Light Snow","31":"False","32":"False","33":"False","34":"False","35":"False","36":"False","37":"False","38":"False","39":"False","40":"False","41":"False","42":"False","43":"False","44":"Day","45":"Day","46":"Day","47":"Day","_rn_":"37"},{"1":"A-22","2":"3","3":"2016-02-08 21:30:31","4":"2016-02-09 03:30:31","5":"39.03810","6":"-84.59243","7":"39.03475","8":"-84.60007","9":"0.471","10":"At I-275/Exit 185 - Accident.","11":"NA","12":"I-75 S","13":"R","14":"Ft Mitchell","15":"Kenton","16":"KY","17":"41017","18":"US","19":"US/Eastern","20":"KCVG","21":"2016-02-08 21:15:00","22":"26.6","23":"15.2","24":"80","25":"29.73","26":"3.0","27":"West","28":"13.8","29":"0.00","30":"Light Snow","31":"False","32":"False","33":"False","34":"False","35":"False","36":"False","37":"False","38":"False","39":"False","40":"False","41":"False","42":"False","43":"False","44":"Night","45":"Night","46":"Night","47":"Night","_rn_":"22"},{"1":"A-26","2":"2","3":"2016-02-09 07:18:10","4":"2016-02-09 13:18:10","5":"39.30732","6":"-85.95982","7":"39.30457","8":"-85.96284","9":"0.249","10":"At US-31/Exit 76 - Accident.","11":"NA","12":"I-65 S","13":"R","14":"Edinburgh","15":"Bartholomew","16":"IN","17":"46124","18":"US","19":"US/Eastern","20":"K1II","21":"2016-02-09 06:50:00","22":"19.0","23":"9.0","24":"100","25":"29.05","26":"2.0","27":"W","28":"9.0","29":"NA","30":"Cloudy","31":"False","32":"False","33":"False","34":"False","35":"False","36":"False","37":"False","38":"False","39":"False","40":"False","41":"False","42":"False","43":"False","44":"Night","45":"Day","46":"Day","47":"Day","_rn_":"26"},{"1":"A-39","2":"2","3":"2016-02-09 12:31:08","4":"2016-02-09 18:31:08","5":"40.48781","6":"-80.00944","7":"40.48614","8":"-80.00901","9":"0.118","10":"At Venture St/Exit 10 - Accident.","11":"NA","12":"US-19 Trk S","13":"R","14":"Pittsburgh","15":"Allegheny","16":"PA","17":"15214","18":"US","19":"US/Eastern","20":"KAGC","21":"2016-02-09 12:53:00","22":"28.9","23":"18.2","24":"82","25":"29.61","26":"1.0","27":"SW","28":"13.8","29":"0.00","30":"Light Snow","31":"False","32":"False","33":"False","34":"False","35":"False","36":"False","37":"False","38":"False","39":"False","40":"False","41":"False","42":"False","43":"False","44":"Day","45":"Day","46":"Day","47":"Day","_rn_":"39"},{"1":"A-19","2":"3","3":"2016-02-08 20:13:22","4":"2016-02-09 02:13:22","5":"40.02664","6":"-82.99440","7":"40.01228","8":"-82.99218","9":"0.999","10":"Between Weber Rd/Exit 113 and Hudson St/Exit 112 - Accident.","11":"NA","12":"North Fwy S","13":"R","14":"Columbus","15":"Franklin","16":"OH","17":"43224","18":"US","19":"US/Eastern","20":"KCMH","21":"2016-02-08 20:12:00","22":"33.8","23":"27.0","24":"100","25":"29.63","26":"1.0","27":"West","28":"8.1","29":"0.00","30":"Light Snow","31":"False","32":"False","33":"False","34":"False","35":"False","36":"False","37":"False","38":"False","39":"False","40":"False","41":"False","42":"False","43":"False","44":"Night","45":"Night","46":"Night","47":"Night","_rn_":"19"},{"1":"A-3","2":"2","3":"2016-02-08 06:15:39","4":"2016-02-08 12:15:39","5":"39.10266","6":"-84.52468","7":"39.10209","8":"-84.52396","9":"0.055","10":"At I-71/US-50/Exit 1 - Accident.","11":"NA","12":"I-75 S","13":"R","14":"Cincinnati","15":"Hamilton","16":"OH","17":"45203","18":"US","19":"US/Eastern","20":"KLUK","21":"2016-02-08 05:53:00","22":"36.0","23":"NA","24":"97","25":"29.70","26":"10.0","27":"Calm","28":"NA","29":"0.02","30":"Overcast","31":"False","32":"False","33":"False","34":"False","35":"True","36":"False","37":"False","38":"False","39":"False","40":"False","41":"False","42":"False","43":"False","44":"Night","45":"Night","46":"Night","47":"Day","_rn_":"3"},{"1":"A-41","2":"2","3":"2016-02-09 17:12:40","4":"2016-02-09 23:12:40","5":"41.47461","6":"-81.71182","7":"41.47023","8":"-81.74188","9":"1.585","10":"Between 41st St/Exit 169 and OH-10/Lorain Ave/Exit 167 - Accident.","11":"NA","12":"Northwest Fwy W","13":"R","14":"Cleveland","15":"Cuyahoga","16":"OH","17":"44113","18":"US","19":"US/Eastern","20":"KBKL","21":"2016-02-09 17:13:00","22":"30.9","23":"18.7","24":"92","25":"29.62","26":"1.0","27":"West","28":"19.6","29":"0.00","30":"Light Snow","31":"False","32":"False","33":"False","34":"False","35":"False","36":"False","37":"False","38":"False","39":"False","40":"False","41":"False","42":"False","43":"False","44":"Day","45":"Day","46":"Day","47":"Day","_rn_":"41"},{"1":"A-30","2":"3","3":"2016-02-09 07:48:40","4":"2016-02-09 13:48:40","5":"39.36380","6":"-85.51659","7":"39.45279","8":"-85.62800","9":"8.554","10":"Between US-421/Exit 132 and US-421/Exit 123 - Accident.","11":"NA","12":"I-74 W","13":"R","14":"Greensburg","15":"Decatur","16":"IN","17":"47240","18":"US","19":"US/Eastern","20":"KBAK","21":"2016-02-09 06:50:00","22":"19.4","23":"8.6","24":"100","25":"29.78","26":"2.0","27":"West","28":"9.2","29":"NA","30":"Light Snow","31":"False","32":"False","33":"False","34":"False","35":"False","36":"False","37":"False","38":"False","39":"False","40":"False","41":"False","42":"False","43":"False","44":"Day","45":"Day","46":"Day","47":"Day","_rn_":"30"},{"1":"A-13","2":"2","3":"2016-02-08 17:27:39","4":"2016-02-08 23:27:39","5":"41.47390","6":"-81.70423","7":"41.47388","8":"-81.70559","9":"0.070","10":"At US-42/Exit 170 - Accident.","11":"NA","12":"I-90 E","13":"R","14":"Cleveland","15":"Cuyahoga","16":"OH","17":"44113","18":"US","19":"US/Eastern","20":"KBKL","21":"2016-02-08 17:36:00","22":"33.1","23":"24.4","24":"96","25":"29.59","26":"1.8","27":"West","28":"11.5","29":"0.00","30":"Light Snow","31":"False","32":"False","33":"False","34":"False","35":"False","36":"False","37":"False","38":"False","39":"False","40":"False","41":"False","42":"False","43":"False","44":"Day","45":"Day","46":"Day","47":"Day","_rn_":"13"},{"1":"A-17","2":"3","3":"2016-02-08 19:47:42","4":"2016-02-09 01:47:42","5":"39.97241","6":"-82.84695","7":"39.98529","8":"-82.85667","9":"1.028","10":"At OH-16/Broad St/Exit 39 - Accident.","11":"NA","12":"Outerbelt N","13":"R","14":"Columbus","15":"Franklin","16":"OH","17":"43213","18":"US","19":"US/Eastern","20":"KCMH","21":"2016-02-08 19:51:00","22":"34.0","23":"NA","24":"100","25":"29.65","26":"6.0","27":"Calm","28":"NA","29":"0.07","30":"Overcast","31":"False","32":"False","33":"False","34":"False","35":"False","36":"False","37":"False","38":"False","39":"False","40":"False","41":"False","42":"False","43":"False","44":"Night","45":"Night","46":"Night","47":"Night","_rn_":"17"},{"1":"A-43","2":"4","3":"2016-02-09 18:20:58","4":"2016-02-10 00:20:58","5":"40.45112","6":"-85.15048","7":"40.35429","8":"-85.14993","9":"6.690","10":"Closed between IN-26 and IN-67 - Road closed due to accident.","11":"9001","12":"W State Road 26","13":"R","14":"Dunkirk","15":"Jay","16":"IN","17":"47336","18":"US","19":"US/Eastern","20":"KMIE","21":"2016-02-09 18:20:00","22":"19.9","23":"7.3","24":"81","25":"29.85","26":"2.0","27":"WNW","28":"12.7","29":"0.00","30":"Light Snow","31":"False","32":"False","33":"False","34":"False","35":"False","36":"False","37":"False","38":"False","39":"False","40":"False","41":"False","42":"False","43":"False","44":"Night","45":"Day","46":"Day","47":"Day","_rn_":"43"},{"1":"A-21","2":"2","3":"2016-02-08 21:10:10","4":"2016-02-09 03:10:10","5":"40.99613","6":"-85.26613","7":"40.98982","8":"-85.26986","9":"0.477","10":"At Fort Wayne - Accident.","11":"NA","12":"US-33 S","13":"R","14":"Roanoke","15":"Allen","16":"IN","17":"46783","18":"US","19":"US/Eastern","20":"KFWA","21":"2016-02-08 20:54:00","22":"28.0","23":"16.1","24":"88","25":"29.71","26":"8.0","27":"West","28":"16.1","29":"0.00","30":"Light Snow","31":"False","32":"False","33":"False","34":"False","35":"False","36":"False","37":"False","38":"False","39":"False","40":"False","41":"False","42":"False","43":"False","44":"Night","45":"Night","46":"Night","47":"Night","_rn_":"21"},{"1":"A-10","2":"2","3":"2016-02-08 15:16:43","4":"2016-02-08 21:16:43","5":"40.10931","6":"-82.96849","7":"40.11078","8":"-82.98400","9":"0.826","10":"At I-71/Exit 26 - Accident.","11":"NA","12":"Outerbelt W","13":"R","14":"Westerville","15":"Franklin","16":"OH","17":"43081","18":"US","19":"US/Eastern","20":"KCMH","21":"2016-02-08 15:12:00","22":"32.0","23":"28.7","24":"100","25":"29.59","26":"0.5","27":"West","28":"3.5","29":"0.05","30":"Snow","31":"False","32":"False","33":"False","34":"False","35":"False","36":"False","37":"False","38":"False","39":"False","40":"False","41":"False","42":"False","43":"False","44":"Day","45":"Day","46":"Day","47":"Day","_rn_":"10"},{"1":"A-46","2":"4","3":"2016-02-09 22:37:48","4":"2016-02-10 04:37:48","5":"39.74408","6":"-85.13749","7":"39.75855","8":"-85.13715","9":"1.000","10":"Closed between Bentonville Rd and Lindsey Rd - Road closed due to accident.","11":"6114","12":"S State Road 1","13":"L","14":"Milton","15":"Wayne","16":"IN","17":"47357","18":"US","19":"US/Eastern","20":"KAID","21":"2016-02-09 15:45:00","22":"23.0","23":"11.7","24":"80","25":"29.79","26":"3.0","27":"WNW","28":"11.5","29":"NA","30":"Light Snow","31":"False","32":"False","33":"False","34":"False","35":"False","36":"False","37":"False","38":"False","39":"False","40":"False","41":"False","42":"False","43":"False","44":"Night","45":"Night","46":"Night","47":"Night","_rn_":"46"},{"1":"A-6","2":"2","3":"2016-02-08 08:16:57","4":"2016-02-08 14:16:57","5":"39.06324","6":"-84.03243","7":"39.06731","8":"-84.05851","9":"1.427","10":"At Dela Palma Rd - Accident.","11":"NA","12":"State Route 32","13":"R","14":"Williamsburg","15":"Clermont","16":"OH","17":"45176","18":"US","19":"US/Eastern","20":"KI69","21":"2016-02-08 08:16:00","22":"35.6","23":"29.2","24":"100","25":"29.66","26":"10.0","27":"WSW","28":"8.1","29":"NA","30":"Overcast","31":"False","32":"False","33":"False","34":"False","35":"False","36":"False","37":"False","38":"False","39":"False","40":"False","41":"False","42":"True","43":"False","44":"Day","45":"Day","46":"Day","47":"Day","_rn_":"6"},{"1":"A-23","2":"2","3":"2016-02-09 05:54:01","4":"2016-02-09 11:54:01","5":"40.03386","6":"-82.99601","7":"40.02246","8":"-82.99515","9":"0.789","10":"Between Broadway/Exit 114 and Weber Rd/Exit 113 - Accident.","11":"NA","12":"North Fwy N","13":"R","14":"Columbus","15":"Franklin","16":"OH","17":"43224","18":"US","19":"US/Eastern","20":"KCMH","21":"2016-02-09 05:51:00","22":"25.0","23":"15.5","24":"88","25":"29.65","26":"1.0","27":"SW","28":"9.2","29":"0.02","30":"Light Snow","31":"False","32":"False","33":"False","34":"False","35":"False","36":"False","37":"False","38":"False","39":"False","40":"False","41":"False","42":"False","43":"False","44":"Night","45":"Night","46":"Night","47":"Night","_rn_":"23"},{"1":"A-5","2":"3","3":"2016-02-08 07:53:43","4":"2016-02-08 13:53:43","5":"39.17239","6":"-84.49279","7":"39.17048","8":"-84.50180","9":"0.500","10":"At Mitchell Ave/Exit 6 - Accident.","11":"NA","12":"I-75 S","13":"R","14":"Cincinnati","15":"Hamilton","16":"OH","17":"45217","18":"US","19":"US/Eastern","20":"KLUK","21":"2016-02-08 07:53:00","22":"37.0","23":"29.8","24":"93","25":"29.69","26":"10.0","27":"WSW","28":"10.4","29":"0.01","30":"Light Rain","31":"False","32":"False","33":"False","34":"False","35":"False","36":"False","37":"False","38":"False","39":"False","40":"False","41":"False","42":"False","43":"False","44":"Day","45":"Day","46":"Day","47":"Day","_rn_":"5"},{"1":"A-34","2":"2","3":"2016-02-09 08:18:58","4":"2016-02-09 14:18:58","5":"39.86025","6":"-85.96623","7":"39.86025","8":"-85.96623","9":"0.000","10":"At High Timber Dr - Accident.","11":"5800","12":"Long Lake Ln","13":"L","14":"Indianapolis","15":"Marion","16":"IN","17":"46235-6127","18":"US","19":"US/Eastern","20":"KMQJ","21":"2016-02-09 08:14:00","22":"19.4","23":"5.0","24":"86","25":"29.76","26":"5.0","27":"WNW","28":"16.1","29":"NA","30":"Overcast","31":"False","32":"False","33":"False","34":"False","35":"False","36":"False","37":"False","38":"False","39":"False","40":"False","41":"False","42":"False","43":"False","44":"Day","45":"Day","46":"Day","47":"Day","_rn_":"34"},{"1":"A-14","2":"2","3":"2016-02-08 17:30:18","4":"2016-02-08 23:30:18","5":"39.58224","6":"-83.67781","7":"39.60301","8":"-83.63732","9":"2.590","10":"Between OH-72/Exit 58 and US-35/Exit 65 - Accident.","11":"NA","12":"I-71 N","13":"R","14":"Jamestown","15":"Greene","16":"OH","17":"45335","18":"US","19":"US/Eastern","20":"KSGH","21":"2016-02-08 17:28:00","22":"33.8","23":"28.6","24":"93","25":"29.64","26":"1.0","27":"West","28":"5.8","29":"0.01","30":"Light Snow","31":"False","32":"False","33":"False","34":"False","35":"False","36":"False","37":"False","38":"False","39":"False","40":"False","41":"False","42":"False","43":"False","44":"Day","45":"Day","46":"Day","47":"Day","_rn_":"14"},{"1":"A-1","2":"3","3":"2016-02-08 00:37:08","4":"2016-02-08 06:37:08","5":"40.10891","6":"-83.09286","7":"40.11206","8":"-83.03187","9":"3.230","10":"Between Sawmill Rd/Exit 20 and OH-315/Olentangy Riv Rd/Exit 22 - Accident.","11":"NA","12":"Outerbelt E","13":"R","14":"Dublin","15":"Franklin","16":"OH","17":"43017","18":"US","19":"US/Eastern","20":"KOSU","21":"2016-02-08 00:53:00","22":"42.1","23":"36.1","24":"58","25":"29.76","26":"10.0","27":"SW","28":"10.4","29":"0.00","30":"Light Rain","31":"False","32":"False","33":"False","34":"False","35":"False","36":"False","37":"False","38":"False","39":"False","40":"False","41":"False","42":"False","43":"False","44":"Night","45":"Night","46":"Night","47":"Night","_rn_":"1"},{"1":"A-25","2":"2","3":"2016-02-09 06:46:32","4":"2016-02-09 12:46:32","5":"39.15267","6":"-84.53950","7":"39.14745","8":"-84.53923","9":"0.361","10":"At I-74/US-52/US-27/Exit 4 - Accident.","11":"NA","12":"I-75 S","13":"R","14":"Cincinnati","15":"Hamilton","16":"OH","17":"45223","18":"US","19":"US/Eastern","20":"KLUK","21":"2016-02-09 06:53:00","22":"21.0","23":"9.3","24":"88","25":"29.78","26":"1.5","27":"WSW","28":"11.5","29":"0.01","30":"Light Snow","31":"False","32":"False","33":"False","34":"False","35":"False","36":"False","37":"False","38":"False","39":"False","40":"False","41":"False","42":"False","43":"False","44":"Night","45":"Night","46":"Day","47":"Day","_rn_":"25"},{"1":"A-2","2":"2","3":"2016-02-08 05:56:20","4":"2016-02-08 11:56:20","5":"39.86542","6":"-84.06280","7":"39.86501","8":"-84.04873","9":"0.747","10":"At OH-4/OH-235/Exit 41 - Accident.","11":"NA","12":"I-70 E","13":"R","14":"Dayton","15":"Montgomery","16":"OH","17":"45424","18":"US","19":"US/Eastern","20":"KFFO","21":"2016-02-08 05:58:00","22":"36.9","23":"NA","24":"91","25":"29.68","26":"10.0","27":"Calm","28":"NA","29":"0.02","30":"Light Rain","31":"False","32":"False","33":"False","34":"False","35":"False","36":"False","37":"False","38":"False","39":"False","40":"False","41":"False","42":"False","43":"False","44":"Night","45":"Night","46":"Night","47":"Night","_rn_":"2"},{"1":"A-11","2":"2","3":"2016-02-08 15:43:50","4":"2016-02-08 21:43:50","5":"39.19288","6":"-84.47723","7":"39.19615","8":"-84.47335","9":"0.307","10":"At OH-4/Paddock Rd/Exit 9 - Accident.","11":"NA","12":"I-75 N","13":"R","14":"Cincinnati","15":"Hamilton","16":"OH","17":"45216","18":"US","19":"US/Eastern","20":"KLUK","21":"2016-02-08 15:47:00","22":"33.8","23":"29.6","24":"100","25":"29.66","26":"3.0","27":"NNW","28":"4.6","29":"0.03","30":"Light Snow","31":"False","32":"False","33":"False","34":"False","35":"False","36":"False","37":"False","38":"False","39":"False","40":"False","41":"False","42":"False","43":"False","44":"Day","45":"Day","46":"Day","47":"Day","_rn_":"11"},{"1":"A-7","2":"2","3":"2016-02-08 08:15:41","4":"2016-02-08 14:15:41","5":"39.77565","6":"-84.18603","7":"39.77275","8":"-84.18805","9":"0.227","10":"At OH-4/Exit 54 - Accident.","11":"NA","12":"I-75 S","13":"R","14":"Dayton","15":"Montgomery","16":"OH","17":"45404","18":"US","19":"US/Eastern","20":"KFFO","21":"2016-02-08 08:18:00","22":"33.8","23":"NA","24":"100","25":"29.63","26":"3.0","27":"SW","28":"2.3","29":"NA","30":"Mostly Cloudy","31":"False","32":"False","33":"False","34":"False","35":"False","36":"False","37":"False","38":"False","39":"False","40":"False","41":"False","42":"False","43":"False","44":"Day","45":"Day","46":"Day","47":"Day","_rn_":"7"},{"1":"A-35","2":"2","3":"2016-02-09 09:07:19","4":"2016-02-09 15:07:19","5":"41.95677","6":"-83.67214","7":"41.95939","8":"-83.67235","9":"0.181","10":"At M-50/Exit 17 - Accident.","11":"NA","12":"US-23 N","13":"R","14":"Dundee","15":"Monroe","16":"MI","17":"48131","18":"US","19":"US/Eastern","20":"KTTF","21":"2016-02-09 09:14:00","22":"30.2","23":"22.6","24":"93","25":"29.58","26":"1.2","27":"West","28":"8.1","29":"NA","30":"Light Snow","31":"False","32":"False","33":"False","34":"False","35":"False","36":"False","37":"False","38":"False","39":"False","40":"False","41":"False","42":"False","43":"False","44":"Day","45":"Day","46":"Day","47":"Day","_rn_":"35"},{"1":"A-12","2":"2","3":"2016-02-08 16:50:57","4":"2016-02-08 22:50:57","5":"39.13877","6":"-84.53394","7":"39.13977","8":"-84.53430","9":"0.072","10":"At US-52/Hopple St/Exit 3 - Accident.","11":"NA","12":"Hopple St","13":"R","14":"Cincinnati","15":"Hamilton","16":"OH","17":"45225","18":"US","19":"US/Eastern","20":"KLUK","21":"2016-02-08 16:53:00","22":"35.1","23":"32.2","24":"96","25":"29.69","26":"10.0","27":"South","28":"3.5","29":"NA","30":"Overcast","31":"False","32":"False","33":"True","34":"False","35":"False","36":"False","37":"False","38":"False","39":"False","40":"False","41":"False","42":"True","43":"False","44":"Day","45":"Day","46":"Day","47":"Day","_rn_":"12"},{"1":"A-47","2":"4","3":"2016-02-10 06:17:32","4":"2016-02-10 12:17:32","5":"39.96515","6":"-83.02050","7":"39.97660","8":"-83.02107","9":"0.792","10":"Closed between US-33/Dublin Rd and Goodale St - Road closed due to accident.","11":"NA","12":"W Innerbelt N","13":"R","14":"Columbus","15":"Franklin","16":"OH","17":"43215","18":"US","19":"US/Eastern","20":"KCMH","21":"2016-02-10 06:19:00","22":"15.8","23":"2.7","24":"73","25":"29.87","26":"4.0","27":"WSW","28":"11.5","29":"0.00","30":"Light Snow","31":"False","32":"False","33":"False","34":"False","35":"False","36":"False","37":"False","38":"False","39":"False","40":"False","41":"False","42":"False","43":"False","44":"Night","45":"Night","46":"Night","47":"Day","_rn_":"47"},{"1":"A-15","2":"3","3":"2016-02-08 18:11:11","4":"2016-02-09 00:11:11","5":"40.15178","6":"-81.31264","7":"40.15175","8":"-81.31268","9":"0.004","10":"At Shipley Rd - Accident.","11":"48999","12":"Titus Rd","13":"R","14":"Freeport","15":"Guernsey","16":"OH","17":"43973","18":"US","19":"US/Eastern","20":"KPHD","21":"2016-02-08 18:23:00","22":"33.1","23":"NA","24":"92","25":"29.62","26":"10.0","27":"Calm","28":"NA","29":"NA","30":"Mostly Cloudy","31":"False","32":"False","33":"False","34":"False","35":"False","36":"False","37":"False","38":"False","39":"False","40":"False","41":"False","42":"False","43":"False","44":"Night","45":"Day","46":"Day","47":"Day","_rn_":"15"},{"1":"A-48","2":"4","3":"2016-02-10 06:18:49","4":"2016-02-10 12:18:49","5":"40.72813","6":"-84.78965","7":"40.74559","8":"-84.78962","9":"1.206","10":"Closed between Willshire and US-33/Rockford Rd - Road closed due to accident.","11":"12998","12":"State Route 49","13":"R","14":"Willshire","15":"Van Wert","16":"OH","17":"45898-9523","18":"US","19":"US/Eastern","20":"KFWA","21":"2016-02-10 05:54:00","22":"17.1","23":"0.6","24":"77","25":"29.91","26":"2.5","27":"West","28":"19.6","29":"0.01","30":"Light Snow","31":"False","32":"False","33":"False","34":"False","35":"False","36":"False","37":"False","38":"False","39":"False","40":"False","41":"False","42":"False","43":"False","44":"Night","45":"Night","46":"Night","47":"Day","_rn_":"48"},{"1":"A-16","2":"3","3":"2016-02-08 18:11:11","4":"2016-02-09 00:11:11","5":"40.15175","6":"-81.31268","7":"40.15178","8":"-81.31264","9":"0.004","10":"At Titus Rd - Accident.","11":"22549","12":"Cadiz Rd","13":"L","14":"Freeport","15":"Harrison","16":"OH","17":"43973-8626","18":"US","19":"US/Eastern","20":"KPHD","21":"2016-02-08 18:23:00","22":"33.1","23":"NA","24":"92","25":"29.62","26":"10.0","27":"Calm","28":"NA","29":"NA","30":"Mostly Cloudy","31":"False","32":"False","33":"False","34":"False","35":"False","36":"False","37":"False","38":"False","39":"False","40":"False","41":"False","42":"False","43":"False","44":"Night","45":"Day","46":"Day","47":"Day","_rn_":"16"},{"1":"A-18","2":"2","3":"2016-02-08 19:47:42","4":"2016-02-09 01:47:42","5":"39.98380","6":"-82.85657","7":"39.97250","8":"-82.84746","9":"0.918","10":"At I-270 - Accident.","11":"NA","12":"Outerbelt S","13":"R","14":"Columbus","15":"Franklin","16":"OH","17":"43213","18":"US","19":"US/Eastern","20":"KCMH","21":"2016-02-08 19:51:00","22":"34.0","23":"NA","24":"100","25":"29.65","26":"6.0","27":"Calm","28":"NA","29":"0.07","30":"Overcast","31":"False","32":"False","33":"False","34":"False","35":"False","36":"False","37":"False","38":"False","39":"False","40":"False","41":"False","42":"False","43":"False","44":"Night","45":"Night","46":"Night","47":"Night","_rn_":"18"},{"1":"A-32","2":"2","3":"2016-02-09 08:00:16","4":"2016-02-09 14:00:16","5":"39.75067","6":"-84.14148","7":"39.74883","8":"-84.13402","9":"0.416","10":"At Smithville Rd - Accident.","11":"NA","12":"US-35 E","13":"R","14":"Dayton","15":"Montgomery","16":"OH","17":"45410","18":"US","19":"US/Eastern","20":"KFFO","21":"2016-02-09 07:58:00","22":"22.5","23":"12.4","24":"90","25":"29.73","26":"1.2","27":"SW","28":"9.2","29":"0.00","30":"Light Snow","31":"False","32":"False","33":"False","34":"False","35":"False","36":"False","37":"False","38":"False","39":"False","40":"False","41":"False","42":"False","43":"False","44":"Day","45":"Day","46":"Day","47":"Day","_rn_":"32"},{"1":"A-24","2":"2","3":"2016-02-09 06:10:59","4":"2016-02-09 12:10:59","5":"39.85798","6":"-84.28181","7":"39.86441","8":"-84.21554","9":"3.543","10":"Between OH-48/Exit 29 and Dayton Intl Airport Rd/Exit 32 - Accident.","11":"NA","12":"I-70 E","13":"R","14":"Dayton","15":"Montgomery","16":"OH","17":"45415","18":"US","19":"US/Eastern","20":"KDAY","21":"2016-02-09 06:03:00","22":"23.0","23":"10.1","24":"88","25":"29.66","26":"2.0","27":"West","28":"15.0","29":"0.00","30":"Light Snow","31":"False","32":"False","33":"False","34":"False","35":"False","36":"False","37":"False","38":"False","39":"False","40":"False","41":"False","42":"False","43":"False","44":"Night","45":"Night","46":"Night","47":"Day","_rn_":"24"},{"1":"A-8","2":"2","3":"2016-02-08 11:51:46","4":"2016-02-08 17:51:46","5":"41.37531","6":"-81.82017","7":"41.36786","8":"-81.82174","9":"0.521","10":"At Bagley Rd/Exit 235 - Accident.","11":"NA","12":"I-71 S","13":"R","14":"Cleveland","15":"Cuyahoga","16":"OH","17":"44130","18":"US","19":"US/Eastern","20":"KCLE","21":"2016-02-08 11:51:00","22":"33.1","23":"30.0","24":"92","25":"29.63","26":"0.5","27":"SW","28":"3.5","29":"0.08","30":"Snow","31":"False","32":"False","33":"False","34":"False","35":"True","36":"False","37":"False","38":"False","39":"False","40":"False","41":"False","42":"False","43":"False","44":"Day","45":"Day","46":"Day","47":"Day","_rn_":"8"},{"1":"A-38","2":"2","3":"2016-02-09 11:28:49","4":"2016-02-09 17:28:49","5":"40.52225","6":"-80.06666","7":"40.52830","8":"-80.07188","9":"0.500","10":"At Camp Horne Rd/Exit 15 - Accident.","11":"NA","12":"I-279 N","13":"R","14":"Pittsburgh","15":"Allegheny","16":"PA","17":"15237","18":"US","19":"US/Eastern","20":"KPIT","21":"2016-02-09 11:12:00","22":"30.0","23":"20.0","24":"88","25":"29.56","26":"1.5","27":"West","28":"12.7","29":"0.00","30":"Light Snow","31":"False","32":"False","33":"False","34":"False","35":"False","36":"False","37":"False","38":"False","39":"False","40":"False","41":"False","42":"False","43":"False","44":"Day","45":"Day","46":"Day","47":"Day","_rn_":"38"},{"1":"A-29","2":"3","3":"2016-02-09 07:44:49","4":"2016-02-09 13:44:49","5":"39.58595","6":"-85.82518","7":"39.58444","8":"-85.82301","9":"0.156","10":"At Fairland Rd/400/Exit 109 - Accident.","11":"NA","12":"US-421 S","13":"R","14":"Shelbyville","15":"Shelby","16":"IN","17":"46176","18":"US","19":"US/Eastern","20":"KGEZ","21":"2016-02-09 07:41:00","22":"21.9","23":"9.8","24":"82","25":"29.75","26":"1.5","27":"West","28":"12.7","29":"0.00","30":"Light Snow","31":"False","32":"False","33":"False","34":"False","35":"False","36":"False","37":"False","38":"False","39":"False","40":"False","41":"False","42":"False","43":"False","44":"Day","45":"Day","46":"Day","47":"Day","_rn_":"29"},{"1":"A-28","2":"2","3":"2016-02-09 07:25:40","4":"2016-02-09 13:25:40","5":"39.97643","6":"-83.12306","7":"39.97609","8":"-83.11068","9":"0.656","10":"At I-270/Exit 93 - Accident.","11":"NA","12":"I-70 E","13":"R","14":"Columbus","15":"Franklin","16":"OH","17":"43228","18":"US","19":"US/Eastern","20":"KTZR","21":"2016-02-09 07:20:00","22":"21.2","23":"8.3","24":"93","25":"29.66","26":"1.5","27":"WSW","28":"13.8","29":"NA","30":"Light Snow","31":"False","32":"False","33":"False","34":"False","35":"False","36":"False","37":"False","38":"False","39":"False","40":"False","41":"False","42":"False","43":"False","44":"Night","45":"Day","46":"Day","47":"Day","_rn_":"28"},{"1":"A-31","2":"3","3":"2016-02-09 07:48:40","4":"2016-02-09 13:48:40","5":"39.45132","6":"-85.62516","7":"39.36277","8":"-85.51655","9":"8.429","10":"Between US-421/Exit 123 and US-421/Exit 132 - Accident.","11":"NA","12":"US-421 S","13":"R","14":"Saint Paul","15":"Decatur","16":"IN","17":"47272","18":"US","19":"US/Eastern","20":"KGEZ","21":"2016-02-09 07:48:00","22":"21.2","23":"8.9","24":"86","25":"29.75","26":"3.0","27":"West","28":"12.7","29":"0.00","30":"Light Snow","31":"False","32":"False","33":"False","34":"False","35":"False","36":"False","37":"False","38":"False","39":"False","40":"False","41":"False","42":"False","43":"False","44":"Day","45":"Day","46":"Day","47":"Day","_rn_":"31"},{"1":"A-20","2":"4","3":"2016-02-08 21:00:17","4":"2016-02-09 03:00:17","5":"41.67936","6":"-83.57304","7":"41.66612","8":"-83.56633","9":"0.978","10":"Closed between I-475/Exit 204 and US-24/Detroit Ave/Exit 203 - Road closed due to accident.","11":"NA","12":"I-75 S","13":"R","14":"Toledo","15":"Lucas","16":"OH","17":"43610","18":"US","19":"US/Eastern","20":"KDUH","21":"2016-02-08 20:55:00","22":"33.4","23":"26.6","24":"79","25":"29.62","26":"10.0","27":"West","28":"8.1","29":"NA","30":"Overcast","31":"False","32":"False","33":"False","34":"False","35":"False","36":"False","37":"False","38":"False","39":"False","40":"False","41":"False","42":"False","43":"False","44":"Night","45":"Night","46":"Night","47":"Night","_rn_":"20"},{"1":"A-27","2":"4","3":"2016-02-09 07:28:15","4":"2016-02-09 13:28:15","5":"39.77572","6":"-84.04815","7":"39.76485","8":"-84.09274","9":"2.484","10":"Closed between OH-844/Fairfield Rd/Exit 17 and Colonel Glenn Hwy/Exit 15 - Road closed due to accident.","11":"NA","12":"I-675 S","13":"R","14":"Fairborn","15":"Greene","16":"OH","17":"45324","18":"US","19":"US/Eastern","20":"KFFO","21":"2016-02-09 07:08:00","22":"23.0","23":"12.4","24":"86","25":"29.68","26":"1.5","27":"SW","28":"10.4","29":"NA","30":"Light Snow","31":"False","32":"False","33":"False","34":"False","35":"False","36":"False","37":"False","38":"False","39":"False","40":"False","41":"False","42":"False","43":"False","44":"Night","45":"Day","46":"Day","47":"Day","_rn_":"27"},{"1":"A-49","2":"2","3":"2016-02-10 06:29:48","4":"2016-02-10 12:29:48","5":"39.85223","6":"-85.25847","7":"39.85227","8":"-85.26282","9":"0.231","10":"At Wilbur Wright Rd/Exit 131 - Accident.","11":"NA","12":"I-70 W","13":"R","14":"Straughn","15":"Henry","16":"IN","17":"47387","18":"US","19":"US/Eastern","20":"KAID","21":"2016-02-10 08:46:00","22":"12.2","23":"-1.8","24":"85","25":"29.97","26":"2.0","27":"West","28":"11.5","29":"NA","30":"Light Snow","31":"False","32":"False","33":"False","34":"False","35":"False","36":"False","37":"False","38":"False","39":"False","40":"False","41":"False","42":"False","43":"False","44":"Night","45":"Night","46":"Night","47":"Day","_rn_":"49"},{"1":"A-45","2":"4","3":"2016-02-09 22:37:48","4":"2016-02-10 04:37:48","5":"39.75855","6":"-85.13715","7":"39.74408","8":"-85.13749","9":"1.000","10":"Closed between Lindsey Rd and Bentonville Rd - Road closed due to accident.","11":"5149","12":"S State Road 1","13":"R","14":"Milton","15":"Wayne","16":"IN","17":"47357-9741","18":"US","19":"US/Eastern","20":"KAID","21":"2016-02-09 15:45:00","22":"23.0","23":"11.7","24":"80","25":"29.79","26":"3.0","27":"WNW","28":"11.5","29":"NA","30":"Light Snow","31":"False","32":"False","33":"False","34":"False","35":"False","36":"False","37":"False","38":"False","39":"False","40":"False","41":"False","42":"False","43":"False","44":"Night","45":"Night","46":"Night","47":"Night","_rn_":"45"},{"1":"A-40","2":"4","3":"2016-02-09 15:33:59","4":"2016-02-09 21:33:59","5":"40.15630","6":"-83.01843","7":"40.15332","8":"-83.01821","9":"0.206","10":"Closed at Gold Meadow Dr - Road closed due to accident.","11":"9219","12":"Columbus Pike","13":"L","14":"Lewis Center","15":"Delaware","16":"OH","17":"43035-9415","18":"US","19":"US/Eastern","20":"KDLZ","21":"2016-02-09 15:36:00","22":"26.6","23":"16.8","24":"86","25":"29.68","26":"2.0","27":"West","28":"10.4","29":"NA","30":"Light Snow","31":"False","32":"False","33":"False","34":"False","35":"False","36":"False","37":"False","38":"False","39":"False","40":"False","41":"False","42":"False","43":"False","44":"Day","45":"Day","46":"Day","47":"Day","_rn_":"40"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>We can see the three states with the highest number of traffic accidents are CA,FL and TX. CA is the largest state in the United States, prosperity must be accompanied by the development of traffic, and at the same time the number of traffic accidents will also increase.</p>
<p>The table doesn’t seem intuitive enough, so let’s draw it as a map.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co"># draw accident map</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages('maps')</span></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages('ggmap')</span></span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(maps)</span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggmap)</span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a>m <span class="ot">&lt;-</span> <span class="fu">borders</span>(<span class="st">"state"</span>,<span class="at">colour =</span> <span class="st">"gray50"</span>,<span class="at">fill=</span><span class="st">"white"</span>)</span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a>df2 <span class="ot">&lt;-</span> data_del <span class="sc">%&gt;%</span> <span class="fu">select</span>(Start_Lat,Start_Lng)  </span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a>point <span class="ot">&lt;-</span> df2[<span class="fu">sample</span>(<span class="fu">nrow</span>(df2),<span class="dv">3000</span>),]</span>
<span id="cb47-9"><a href="#cb47-9" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(point,<span class="fu">aes</span>(<span class="at">x=</span>Start_Lng,<span class="at">y=</span>Start_Lat)) <span class="sc">+</span> m </span>
<span id="cb47-10"><a href="#cb47-10" aria-hidden="true" tabindex="-1"></a>p1 <span class="sc">+</span> <span class="fu">geom_point</span>(<span class="at">color=</span><span class="st">'red'</span>,<span class="at">alpha=</span>.<span class="dv">6</span>) <span class="sc">+</span> </span>
<span id="cb47-11"><a href="#cb47-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">'U.S. Traffic Accident Map'</span>)<span class="sc">+</span> </span>
<span id="cb47-12"><a href="#cb47-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="finalProject_XinyangMao_files/figure-html/unnamed-chunk-31-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The raw data includes data for the five-year period 2016-2021, with the six-year accident totals shown in the table below:</p>
<p>I use year() to process the <code>Start_Time</code> attribute let it switch as a new attribute <code>year</code> to show the data depend on year.Then group them to show the result.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>data_del<span class="sc">$</span>year <span class="ot">&lt;-</span> <span class="fu">year</span>(data_del<span class="sc">$</span>Start_Time)</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(data_del<span class="sc">$</span>year)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
   2016    2020    2021    2020    2021    2021 </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(data_del)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Severity"          "Start_Time"        "Start_Lat"        
 [4] "Start_Lng"         "State"             "Country"          
 [7] "Visibility.mi."    "Weather_Condition" "Amenity"          
[10] "Bump"              "Crossing"          "Give_Way"         
[13] "Junction"          "No_Exit"           "Railway"          
[16] "Roundabout"        "Station"           "Stop"             
[19] "Traffic_Calming"   "Traffic_Signal"    "Turning_Loop"     
[22] "year"             </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>data_year <span class="ot">&lt;-</span> data_del <span class="sc">%&gt;%</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year) <span class="sc">%&gt;%</span></span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">summarize</span>(<span class="at">count =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a>data_year</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["year"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["count"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"2016","2":"119100"},{"1":"2017","2":"159609"},{"1":"2018","2":"158477"},{"1":"2019","2":"252191"},{"1":"2020","2":"609165"},{"1":"2021","2":"1483315"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Because this dataset is so large,so I will only choose 1 year of data to do the analysis.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>data_2020 <span class="ot">&lt;-</span> data_del[data_del<span class="sc">$</span>year <span class="sc">==</span> <span class="dv">2020</span>, ]</span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(data_2020)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["Severity"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["Start_Time"],"name":[2],"type":["chr"],"align":["left"]},{"label":["Start_Lat"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["Start_Lng"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["State"],"name":[5],"type":["chr"],"align":["left"]},{"label":["Country"],"name":[6],"type":["chr"],"align":["left"]},{"label":["Visibility.mi."],"name":[7],"type":["dbl"],"align":["right"]},{"label":["Weather_Condition"],"name":[8],"type":["chr"],"align":["left"]},{"label":["Amenity"],"name":[9],"type":["chr"],"align":["left"]},{"label":["Bump"],"name":[10],"type":["chr"],"align":["left"]},{"label":["Crossing"],"name":[11],"type":["chr"],"align":["left"]},{"label":["Give_Way"],"name":[12],"type":["chr"],"align":["left"]},{"label":["Junction"],"name":[13],"type":["chr"],"align":["left"]},{"label":["No_Exit"],"name":[14],"type":["chr"],"align":["left"]},{"label":["Railway"],"name":[15],"type":["chr"],"align":["left"]},{"label":["Roundabout"],"name":[16],"type":["chr"],"align":["left"]},{"label":["Station"],"name":[17],"type":["chr"],"align":["left"]},{"label":["Stop"],"name":[18],"type":["chr"],"align":["left"]},{"label":["Traffic_Calming"],"name":[19],"type":["chr"],"align":["left"]},{"label":["Traffic_Signal"],"name":[20],"type":["chr"],"align":["left"]},{"label":["Turning_Loop"],"name":[21],"type":["chr"],"align":["left"]},{"label":["year"],"name":[22],"type":["dbl"],"align":["right"]}],"data":[{"1":"2","2":"2020-12-30 22:58:00","3":"39.77517","4":"-75.48044","5":"DE","6":"US","7":"10","8":"Cloudy","9":"False","10":"False","11":"False","12":"False","13":"False","14":"False","15":"False","16":"False","17":"False","18":"False","19":"False","20":"False","21":"False","22":"2020","_rn_":"232631"},{"1":"2","2":"2020-10-13 19:19:34.000000000","3":"44.72520","4":"-122.18558","5":"OR","6":"US","7":"10","8":"Cloudy","9":"False","10":"False","11":"False","12":"False","13":"False","14":"False","15":"False","16":"False","17":"False","18":"False","19":"False","20":"False","21":"False","22":"2020","_rn_":"246925"},{"1":"2","2":"2020-05-23 09:23:48.000000000","3":"44.87513","4":"-121.42801","5":"OR","6":"US","7":"10","8":"Fair","9":"False","10":"False","11":"False","12":"False","13":"False","14":"False","15":"False","16":"False","17":"False","18":"False","19":"False","20":"False","21":"False","22":"2020","_rn_":"247120"},{"1":"2","2":"2020-10-13 19:19:34","3":"44.70491","4":"-122.23190","5":"OR","6":"US","7":"10","8":"Cloudy","9":"False","10":"False","11":"False","12":"False","13":"False","14":"False","15":"False","16":"False","17":"False","18":"False","19":"False","20":"False","21":"False","22":"2020","_rn_":"250561"},{"1":"2","2":"2020-12-30 22:58:00","3":"39.78312","4":"-75.47313","5":"DE","6":"US","7":"10","8":"Cloudy","9":"False","10":"False","11":"False","12":"False","13":"False","14":"False","15":"False","16":"False","17":"False","18":"False","19":"False","20":"False","21":"False","22":"2020","_rn_":"279133"},{"1":"2","2":"2020-10-13 19:19:34","3":"44.75471","4":"-122.39845","5":"OR","6":"US","7":"10","8":"Cloudy","9":"False","10":"False","11":"False","12":"False","13":"False","14":"False","15":"False","16":"False","17":"False","18":"False","19":"False","20":"False","21":"False","22":"2020","_rn_":"297792"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(data_2020)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Severity"          "Start_Time"        "Start_Lat"        
 [4] "Start_Lng"         "State"             "Country"          
 [7] "Visibility.mi."    "Weather_Condition" "Amenity"          
[10] "Bump"              "Crossing"          "Give_Way"         
[13] "Junction"          "No_Exit"           "Railway"          
[16] "Roundabout"        "Station"           "Stop"             
[19] "Traffic_Calming"   "Traffic_Signal"    "Turning_Loop"     
[22] "year"             </code></pre>
</div>
</div>
</section>
<section id="influencing-factors" class="level2">
<h2 class="anchored" data-anchor-id="influencing-factors">Influencing Factors</h2>
<section id="weather-condition-and-serverity" class="level3">
<h3 class="anchored" data-anchor-id="weather-condition-and-serverity">Weather condition and Serverity</h3>
<p>First let’s focus on the relationship between the weather and the severity of the accidents.</p>
<p>The <code>Weather_Condition</code> and <code>Severity</code> variables in the data is presented for analysis. Transfer the data type of these 2 variables into factor type for the analisis later.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>data_2020<span class="sc">$</span>Severity <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(data_2020<span class="sc">$</span>Severity)</span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>data_2020<span class="sc">$</span>Weather_Condition <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(data_2020<span class="sc">$</span>Weather_Condition)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Display all types of weather in the dataset.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(data_2020<span class="sc">$</span>Weather_Condition)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
                                             Blowing Dust 
                        2668                           41 
        Blowing Dust / Windy                 Blowing Snow 
                          55                           65 
        Blowing Snow / Windy                       Cloudy 
                          53                       101362 
              Cloudy / Windy                Drifting Snow 
                        2147                            1 
                     Drizzle              Drizzle / Windy 
                         417                            3 
             Drizzle and Fog                         Fair 
                          27                       283711 
                Fair / Windy                          Fog 
                        4467                        10772 
                 Fog / Windy             Freezing Drizzle 
                          49                            1 
               Freezing Rain                         Haze 
                           5                         6895 
                Haze / Windy                Heavy Drizzle 
                         179                           26 
                  Heavy Rain           Heavy Rain / Windy 
                        2731                          201 
           Heavy Rain Shower                   Heavy Snow 
                           3                          261 
          Heavy Snow / Windy                Heavy T-Storm 
                          83                          471 
       Heavy T-Storm / Windy                Light Drizzle 
                          44                         1820 
       Light Drizzle / Windy       Light Freezing Drizzle 
                          42                           22 
         Light Freezing Rain  Light Freezing Rain / Windy 
                          35                            9 
                  Light Rain           Light Rain / Windy 
                       31658                         1227 
           Light Rain Shower    Light Rain Shower / Windy 
                          57                            6 
     Light Rain with Thunder                  Light Sleet 
                         712                           11 
         Light Sleet / Windy                   Light Snow 
                           2                         7442 
          Light Snow / Windy         Light Snow and Sleet 
                         711                            2 
Light Snow and Sleet / Windy            Light Snow Shower 
                           3                            2 
                        Mist                 Mist / Windy 
                         176                            1 
               Mostly Cloudy        Mostly Cloudy / Windy 
                       78764                         2557 
           N/A Precipitation                  Partial Fog 
                         254                           14 
               Partly Cloudy        Partly Cloudy / Windy 
                       50521                         1415 
              Patches of Fog       Patches of Fog / Windy 
                         236                            4 
                        Rain                 Rain / Windy 
                        7862                          300 
                 Rain Shower    Sand / Dust Whirls Nearby 
                          11                            1 
                 Shallow Fog      Showers in the Vicinity 
                         246                          143 
                       Sleet                Sleet / Windy 
                          12                            1 
                       Smoke                Smoke / Windy 
                        1785                           24 
                        Snow                 Snow / Windy 
                         860                          175 
              Snow and Sleet       Snow and Sleet / Windy 
                          10                            9 
             Squalls / Windy                      T-Storm 
                          12                         1000 
             T-Storm / Windy                      Thunder 
                          41                          679 
             Thunder / Windy Thunder / Wintry Mix / Windy 
                          24                            2 
            Thunder and Hail      Thunder in the Vicinity 
                           1                          754 
             Widespread Dust                   Wintry Mix 
                          11                          738 
          Wintry Mix / Windy 
                          23 </code></pre>
</div>
</div>
<p>We can see the first one is blank,so we need to select valid weather type to analyze.Now we can see the count number of blank value be 0,it won’t affect the result anymore.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>data_weather <span class="ot">&lt;-</span> data_2020[data_2020<span class="sc">$</span>Weather_Condition <span class="sc">!=</span><span class="st">""</span>, ]</span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(data_weather<span class="sc">$</span>Weather_Condition)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
                                             Blowing Dust 
                           0                           41 
        Blowing Dust / Windy                 Blowing Snow 
                          55                           65 
        Blowing Snow / Windy                       Cloudy 
                          53                       101362 
              Cloudy / Windy                Drifting Snow 
                        2147                            1 
                     Drizzle              Drizzle / Windy 
                         417                            3 
             Drizzle and Fog                         Fair 
                          27                       283711 
                Fair / Windy                          Fog 
                        4467                        10772 
                 Fog / Windy             Freezing Drizzle 
                          49                            1 
               Freezing Rain                         Haze 
                           5                         6895 
                Haze / Windy                Heavy Drizzle 
                         179                           26 
                  Heavy Rain           Heavy Rain / Windy 
                        2731                          201 
           Heavy Rain Shower                   Heavy Snow 
                           3                          261 
          Heavy Snow / Windy                Heavy T-Storm 
                          83                          471 
       Heavy T-Storm / Windy                Light Drizzle 
                          44                         1820 
       Light Drizzle / Windy       Light Freezing Drizzle 
                          42                           22 
         Light Freezing Rain  Light Freezing Rain / Windy 
                          35                            9 
                  Light Rain           Light Rain / Windy 
                       31658                         1227 
           Light Rain Shower    Light Rain Shower / Windy 
                          57                            6 
     Light Rain with Thunder                  Light Sleet 
                         712                           11 
         Light Sleet / Windy                   Light Snow 
                           2                         7442 
          Light Snow / Windy         Light Snow and Sleet 
                         711                            2 
Light Snow and Sleet / Windy            Light Snow Shower 
                           3                            2 
                        Mist                 Mist / Windy 
                         176                            1 
               Mostly Cloudy        Mostly Cloudy / Windy 
                       78764                         2557 
           N/A Precipitation                  Partial Fog 
                         254                           14 
               Partly Cloudy        Partly Cloudy / Windy 
                       50521                         1415 
              Patches of Fog       Patches of Fog / Windy 
                         236                            4 
                        Rain                 Rain / Windy 
                        7862                          300 
                 Rain Shower    Sand / Dust Whirls Nearby 
                          11                            1 
                 Shallow Fog      Showers in the Vicinity 
                         246                          143 
                       Sleet                Sleet / Windy 
                          12                            1 
                       Smoke                Smoke / Windy 
                        1785                           24 
                        Snow                 Snow / Windy 
                         860                          175 
              Snow and Sleet       Snow and Sleet / Windy 
                          10                            9 
             Squalls / Windy                      T-Storm 
                          12                         1000 
             T-Storm / Windy                      Thunder 
                          41                          679 
             Thunder / Windy Thunder / Wintry Mix / Windy 
                          24                            2 
            Thunder and Hail      Thunder in the Vicinity 
                           1                          754 
             Widespread Dust                   Wintry Mix 
                          11                          738 
          Wintry Mix / Windy 
                          23 </code></pre>
</div>
</div>
<p>Count the number of weather conditions by category and select the 20 most common types of weather</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>weather <span class="ot">&lt;-</span> data_weather <span class="sc">%&gt;%</span></span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Weather_Condition) <span class="sc">%&gt;%</span></span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">summarize</span>(<span class="at">count =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>weather <span class="ot">&lt;-</span> <span class="fu">arrange</span>(weather,<span class="fu">desc</span>(count))</span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="at">n=</span><span class="dv">20</span>,weather)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 78 × 2
   Weather_Condition        count
   &lt;fct&gt;                    &lt;int&gt;
 1 Fair                    283711
 2 Cloudy                  101362
 3 Mostly Cloudy            78764
 4 Partly Cloudy            50521
 5 Light Rain               31658
 6 Fog                      10772
 7 Rain                      7862
 8 Light Snow                7442
 9 Haze                      6895
10 Fair / Windy              4467
11 Heavy Rain                2731
12 Mostly Cloudy / Windy     2557
13 Cloudy / Windy            2147
14 Light Drizzle             1820
15 Smoke                     1785
16 Partly Cloudy / Windy     1415
17 Light Rain / Windy        1227
18 T-Storm                   1000
19 Snow                       860
20 Thunder in the Vicinity    754
# … with 58 more rows</code></pre>
</div>
</div>
<p>Count the number of cases by weather conditions, and select the cases with a number greater than 2000.Now just 13 weather type left.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>weather <span class="ot">&lt;-</span> <span class="fu">filter</span>(weather,count <span class="sc">&gt;</span> <span class="dv">2000</span>)</span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>weather_13 <span class="ot">&lt;-</span> weather<span class="sc">$</span>Weather_Condition</span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a>weather_13</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] Fair                  Cloudy                Mostly Cloudy        
 [4] Partly Cloudy         Light Rain            Fog                  
 [7] Rain                  Light Snow            Haze                 
[10] Fair / Windy          Heavy Rain            Mostly Cloudy / Windy
[13] Cloudy / Windy       
79 Levels:  Blowing Dust Blowing Dust / Windy ... Wintry Mix / Windy</code></pre>
</div>
</div>
<p>Extract the data from these 20 columns. <code>%in%</code> use to check if elements in the vector or set.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>df_weather_1 <span class="ot">&lt;-</span> <span class="fu">filter</span>(data_weather,Weather_Condition <span class="sc">%in%</span> weather_13)</span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>df_weather <span class="ot">&lt;-</span> <span class="fu">subset</span>(df_weather_1,<span class="at">select=</span><span class="fu">c</span>(Weather_Condition,Severity))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Draw a bar plot to show the result:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df_weather, <span class="fu">aes</span>(<span class="at">x=</span>Weather_Condition, <span class="at">fill =</span> Severity)) <span class="sc">+</span> </span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">'fill'</span>) <span class="sc">+</span> </span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">'Weather'</span>, <span class="at">y =</span> <span class="st">'Severity'</span>) <span class="sc">+</span> </span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="finalProject_XinyangMao_files/figure-html/unnamed-chunk-44-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>From the above chart, we can see that the most accidents occur in the weather conditions are mostly clouds, windy, snow or rain.The impact of light snow on the accident is relatively large and more likely to cause serious traffic accidents.</p>
<p>Next,I would like to know about each of these four different levels of traffic accidents:</p>
<p>Group the data according to the <code>Severity</code> and count the times</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>weather_count <span class="ot">&lt;-</span> df_weather <span class="sc">%&gt;%</span></span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Severity) <span class="sc">%&gt;%</span></span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">summarize</span>(<span class="at">count =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb68-4"><a href="#cb68-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>I’d like use the count result as a attribute,so join th count result as a new column.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>df_weather <span class="ot">&lt;-</span> <span class="fu">left_join</span>(df_weather, weather_count, <span class="at">by =</span> <span class="st">"Severity"</span>)</span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(df_weather)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Weather_Condition" "Severity"          "count"            </code></pre>
</div>
</div>
<p>Plot</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df_weather, <span class="fu">aes</span>(<span class="at">x=</span>Weather_Condition, <span class="at">y=</span> count)) <span class="sc">+</span> </span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat=</span><span class="st">"identity"</span>) <span class="sc">+</span> </span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">'Weather'</span>, <span class="at">y =</span> <span class="st">'Severity'</span>) <span class="sc">+</span> </span>
<span id="cb71-4"><a href="#cb71-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb71-5"><a href="#cb71-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb71-6"><a href="#cb71-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>Severity, <span class="at">ncol =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="finalProject_XinyangMao_files/figure-html/unnamed-chunk-47-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>We can see that severity equal to 2 has the highest number of accidents, far exceeding the other 3 severity type accidents. Among the accidents of class 2, the majority of accidents occurred in fair,cloudy,mostly cloudy,partly cloudy and light rain.</p>
<p>This is an unintended consequence of the fact that the number of crashes in FAIR weather is much higher than in other weather.</p>
</section>
<section id="visibility" class="level3">
<h3 class="anchored" data-anchor-id="visibility">Visibility</h3>
<p>Explore the impact on accident occurrence at different visibility levels</p>
<p>After the previous processing, there are no more missing values in this column.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>data_vis <span class="ot">&lt;-</span> <span class="fu">subset</span>(data_2020,<span class="at">select=</span><span class="fu">c</span>(Visibility.mi.,Severity))</span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(<span class="fu">is.na</span>(data_vis<span class="sc">$</span>Visibility.mi.))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0</code></pre>
</div>
</div>
<p>Draw a Density graph to show the density of accidents at different visibility levels.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data_vis,<span class="fu">aes</span>(<span class="at">x=</span>Visibility.mi.)) <span class="sc">+</span></span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">fill=</span><span class="st">"#69b3a2"</span>, <span class="at">color=</span><span class="st">"#e9ecef"</span>, <span class="at">alpha=</span><span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="st">"The density of accidents at different visibility levels"</span>) <span class="sc">+</span></span>
<span id="cb74-4"><a href="#cb74-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_ipsum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="finalProject_XinyangMao_files/figure-html/unnamed-chunk-49-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Through the analysis we can find that almost all traffic accidents occur in the visibility between 0 and 12.5, and are concentrated in the visibility of 10.</p>
<p>So I believe low visibility is the time when accidents are at their peak. Low visibility will lead to limited visibility for vehicles and pedestrians and not enough time to respond to emergencies, thus leading to accidents.</p>
<p>Next let’s take a look at the distribution of accidents with different levels of severity and visibility.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data_vis,<span class="fu">aes</span>(<span class="at">x=</span>Visibility.mi.)) <span class="sc">+</span></span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">fill=</span><span class="st">"#69b3a2"</span>, <span class="at">color=</span><span class="st">"#e9ecef"</span>, <span class="at">alpha=</span><span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="st">"The density of accidents of different levels at different visibility levels"</span>) <span class="sc">+</span></span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_ipsum</span>() <span class="sc">+</span></span>
<span id="cb75-5"><a href="#cb75-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span>Severity, <span class="at">ncol =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="finalProject_XinyangMao_files/figure-html/unnamed-chunk-50-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The graph above shows that all four severity levels of crashes are concentrated at low visibility, although a non-negligible number of accidents with a severity level of 2 occur at below average visibility.</p>
<p>And it’s interesting that the number of accidents in this situation is higher than the number of accidents with the highest severity.</p>
<p>I think it may be that drivers reduce their speed and drive more cautiously when visibility is below average, so even if accidents do occur they are not particularly serious.</p>
</section>
<section id="time-factor" class="level3">
<h3 class="anchored" data-anchor-id="time-factor">Time Factor</h3>
<p>Next I will analyze the relationship between accidents and time factors, where I will analyze them in terms of months and hours respectively.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="co"># adjust date format</span></span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a>data_time <span class="ot">&lt;-</span> data_del</span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a>data_time<span class="sc">$</span>Start_Time <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(data_time<span class="sc">$</span>Start_Time)</span>
<span id="cb76-4"><a href="#cb76-4" aria-hidden="true" tabindex="-1"></a>data_time<span class="sc">$</span>month <span class="ot">&lt;-</span> <span class="fu">month</span>(data_time<span class="sc">$</span>Start_Time)</span>
<span id="cb76-5"><a href="#cb76-5" aria-hidden="true" tabindex="-1"></a>data_time<span class="sc">$</span>hour <span class="ot">&lt;-</span> <span class="fu">hour</span>(data_time<span class="sc">$</span>Start_Time)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(data_time<span class="sc">$</span>month)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2 2 2 2 2 2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(data_time<span class="sc">$</span>hour)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0 5 6 6 7 8</code></pre>
</div>
</div>
<p>Group by month</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Month</span></span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a>df_month <span class="ot">&lt;-</span> data_time <span class="sc">%&gt;%</span></span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(month) <span class="sc">%&gt;%</span></span>
<span id="cb81-4"><a href="#cb81-4" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">summarize</span>(<span class="at">mon_count =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb81-5"><a href="#cb81-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Group by hour</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="co"># hour</span></span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a>df_hour <span class="ot">&lt;-</span> data_time <span class="sc">%&gt;%</span></span>
<span id="cb82-3"><a href="#cb82-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(hour) <span class="sc">%&gt;%</span></span>
<span id="cb82-4"><a href="#cb82-4" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">summarize</span>(<span class="at">hour_count =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb82-5"><a href="#cb82-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Join <code>mon_count</code> and <code>hour_count</code> variables into data_time according the 2 common attributes: <code>month</code> and <code>hour</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a>data_time <span class="ot">&lt;-</span> <span class="fu">left_join</span>(data_time,df_month,<span class="at">by =</span><span class="st">"month"</span>)</span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a>data_time <span class="ot">&lt;-</span> <span class="fu">left_join</span>(data_time,df_hour,<span class="at">by =</span> <span class="st">"hour"</span>)</span>
<span id="cb83-3"><a href="#cb83-3" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(data_time)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Severity"          "Start_Time"        "Start_Lat"        
 [4] "Start_Lng"         "State"             "Country"          
 [7] "Visibility.mi."    "Weather_Condition" "Amenity"          
[10] "Bump"              "Crossing"          "Give_Way"         
[13] "Junction"          "No_Exit"           "Railway"          
[16] "Roundabout"        "Station"           "Stop"             
[19] "Traffic_Calming"   "Traffic_Signal"    "Turning_Loop"     
[22] "year"              "month"             "hour"             
[25] "mon_count"         "hour_count"       </code></pre>
</div>
</div>
<p>Draw a line graph to show the number of Car Accidents by Month</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Number of car accidents by month</span></span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a><span class="co"># create a vector of month names</span></span>
<span id="cb85-3"><a href="#cb85-3" aria-hidden="true" tabindex="-1"></a>month_names <span class="ot">&lt;-</span> month.abb</span>
<span id="cb85-4"><a href="#cb85-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-5"><a href="#cb85-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data_time, <span class="fu">aes</span>(<span class="at">x=</span>month, <span class="at">y=</span>mon_count)) <span class="sc">+</span></span>
<span id="cb85-6"><a href="#cb85-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>( <span class="at">color=</span><span class="st">"grey"</span>) <span class="sc">+</span></span>
<span id="cb85-7"><a href="#cb85-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">shape=</span><span class="dv">21</span>, <span class="at">color=</span><span class="st">"black"</span>, <span class="at">fill=</span><span class="st">"#69b3a2"</span>, <span class="at">size=</span><span class="dv">6</span>) <span class="sc">+</span></span>
<span id="cb85-8"><a href="#cb85-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">12</span>, <span class="at">labels =</span> month_names) <span class="sc">+</span></span>
<span id="cb85-9"><a href="#cb85-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Month"</span>, <span class="at">y =</span> <span class="st">"Number of Accidents"</span>) <span class="sc">+</span></span>
<span id="cb85-10"><a href="#cb85-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Number of Car Accidents by Month"</span>) <span class="sc">+</span></span>
<span id="cb85-11"><a href="#cb85-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_ipsum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="finalProject_XinyangMao_files/figure-html/unnamed-chunk-56-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>As can be seen from the graph above, the number of accidents in the United States during 2016-2021 is significantly less in the first half of the year than in the second half of the year, and the number of accidents peaks in December.</p>
<p>Then let’s look at hours.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Number of car accidents by hour</span></span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a><span class="co"># create a vector of hour</span></span>
<span id="cb86-3"><a href="#cb86-3" aria-hidden="true" tabindex="-1"></a>hour_names <span class="ot">&lt;-</span> <span class="dv">0</span><span class="sc">:</span><span class="dv">23</span></span>
<span id="cb86-4"><a href="#cb86-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb86-5"><a href="#cb86-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data_time, <span class="fu">aes</span>(<span class="at">x=</span>hour, <span class="at">y=</span>hour_count)) <span class="sc">+</span></span>
<span id="cb86-6"><a href="#cb86-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>( <span class="at">color=</span><span class="st">"grey"</span>) <span class="sc">+</span></span>
<span id="cb86-7"><a href="#cb86-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">shape=</span><span class="dv">21</span>, <span class="at">color=</span><span class="st">"black"</span>, <span class="at">fill=</span><span class="st">"#69b3a2"</span>, <span class="at">size=</span><span class="dv">6</span>) <span class="sc">+</span></span>
<span id="cb86-8"><a href="#cb86-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> hour_names, <span class="at">labels =</span> hour_names) <span class="sc">+</span></span>
<span id="cb86-9"><a href="#cb86-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Hour"</span>, <span class="at">y =</span> <span class="st">"Number of Accidents"</span>) <span class="sc">+</span></span>
<span id="cb86-10"><a href="#cb86-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Number of Car Accidents by Hour"</span>) <span class="sc">+</span></span>
<span id="cb86-11"><a href="#cb86-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_ipsum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="finalProject_XinyangMao_files/figure-html/unnamed-chunk-57-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>From the above chart, it can be seen that the two peak periods of accidents occurring in a day are between 6-9 am and 2-6 pm, which is related to people’s daily life, such as people will focus on commuting to and from work and school during these two periods.</p>
</section>
<section id="road-condition-factor" class="level3">
<h3 class="anchored" data-anchor-id="road-condition-factor">Road condition factor</h3>
<p>For the influence of environmental factors such as road conditions on the occurrence of accidents, we select several logical variables to explore and draw a stacked bar chart of environmental factors as follows:</p>
<p>Select environmental factors.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a>df_road <span class="ot">&lt;-</span> <span class="fu">subset</span>(data_del,<span class="at">select =</span> <span class="fu">c</span>(Amenity,Bump,Crossing,Give_Way,Junction,No_Exit,Railway,Roundabout,Station,Stop,Traffic_Calming,Traffic_Signal,Turning_Loop))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>environment factors:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(df_road)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Amenity"         "Bump"            "Crossing"        "Give_Way"       
 [5] "Junction"        "No_Exit"         "Railway"         "Roundabout"     
 [9] "Station"         "Stop"            "Traffic_Calming" "Traffic_Signal" 
[13] "Turning_Loop"   </code></pre>
</div>
</div>
<p>Use rbind() and colSums() to calculate the column sums of <code>True</code> and <code>False</code> then use cbind() to create new columns for later plot.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a>df_road <span class="ot">&lt;-</span> <span class="fu">rbind</span>(<span class="fu">colSums</span>(df_road<span class="sc">==</span><span class="st">'True'</span>),<span class="fu">colSums</span>(df_road<span class="sc">==</span><span class="st">'False'</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cbind</span>(<span class="at">Boolean=</span><span class="fu">c</span>(<span class="st">'True'</span>,<span class="st">'False'</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb90-3"><a href="#cb90-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data.frame</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df_road)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["Amenity"],"name":[1],"type":["chr"],"align":["left"]},{"label":["Bump"],"name":[2],"type":["chr"],"align":["left"]},{"label":["Crossing"],"name":[3],"type":["chr"],"align":["left"]},{"label":["Give_Way"],"name":[4],"type":["chr"],"align":["left"]},{"label":["Junction"],"name":[5],"type":["chr"],"align":["left"]},{"label":["No_Exit"],"name":[6],"type":["chr"],"align":["left"]},{"label":["Railway"],"name":[7],"type":["chr"],"align":["left"]},{"label":["Roundabout"],"name":[8],"type":["chr"],"align":["left"]},{"label":["Station"],"name":[9],"type":["chr"],"align":["left"]},{"label":["Stop"],"name":[10],"type":["chr"],"align":["left"]},{"label":["Traffic_Calming"],"name":[11],"type":["chr"],"align":["left"]},{"label":["Traffic_Signal"],"name":[12],"type":["chr"],"align":["left"]},{"label":["Turning_Loop"],"name":[13],"type":["chr"],"align":["left"]},{"label":["Boolean"],"name":[14],"type":["chr"],"align":["left"]}],"data":[{"1":"27428","2":"1010","3":"197970","4":"6685","5":"283251","6":"4246","7":"21913","8":"122","9":"67046","10":"49285","11":"1686","12":"261401","13":"0","14":"True","_rn_":"1"},{"1":"2754429","2":"2780847","3":"2583887","4":"2775172","5":"2498606","6":"2777611","7":"2759944","8":"2781735","9":"2714811","10":"2732572","11":"2780171","12":"2520456","13":"2781857","14":"False","_rn_":"2"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>The melt() function is applied to df_road to reshape it from a wide format to a long format.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a>data_env <span class="ot">&lt;-</span> <span class="fu">melt</span>(df_road,</span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a>                <span class="at">id.vars =</span> <span class="st">'Boolean'</span>,</span>
<span id="cb92-3"><a href="#cb92-3" aria-hidden="true" tabindex="-1"></a>                <span class="at">variable.name =</span> <span class="st">'Conditions'</span>,</span>
<span id="cb92-4"><a href="#cb92-4" aria-hidden="true" tabindex="-1"></a>                <span class="at">value.name =</span> <span class="st">'Accidents'</span></span>
<span id="cb92-5"><a href="#cb92-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb92-6"><a href="#cb92-6" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(data_env)  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   26 obs. of  3 variables:
 $ Boolean   : chr  "True" "False" "True" "False" ...
 $ Conditions: Factor w/ 13 levels "Amenity","Bump",..: 1 1 2 2 3 3 4 4 5 5 ...
 $ Accidents : chr  "27428" "2754429" "1010" "2780847" ...</code></pre>
</div>
</div>
<p><code>Accidents</code> is character type data, converted to numeric type</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a>data_env<span class="sc">$</span>Accidents <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(data_env<span class="sc">$</span>Accidents)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Calculate the percentage</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a>env_plot <span class="ot">&lt;-</span> <span class="fu">ddply</span>(data_env,<span class="st">'Conditions'</span>,transform,</span>
<span id="cb95-2"><a href="#cb95-2" aria-hidden="true" tabindex="-1"></a>            <span class="at">percent_num =</span> Accidents<span class="sc">/</span><span class="fu">sum</span>(Accidents)<span class="sc">*</span><span class="dv">100</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(env_plot,<span class="fu">aes</span>(<span class="at">x=</span>Conditions,<span class="at">y=</span>percent_num,<span class="at">fill=</span>Boolean)) <span class="sc">+</span></span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">'identity'</span>,<span class="at">color=</span><span class="st">'black'</span>)<span class="sc">+</span> </span>
<span id="cb96-3"><a href="#cb96-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="dv">11</span>)<span class="sc">+</span></span>
<span id="cb96-4"><a href="#cb96-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label=</span><span class="fu">paste</span>(<span class="fu">round</span>(percent_num),<span class="st">"%"</span>),<span class="at">vjust=</span><span class="sc">-</span><span class="fl">0.3</span>))<span class="sc">+</span></span>
<span id="cb96-5"><a href="#cb96-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">'Environmental factors stacking bar chart'</span>)<span class="sc">+</span> </span>
<span id="cb96-6"><a href="#cb96-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="finalProject_XinyangMao_files/figure-html/unnamed-chunk-65-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>As can be seen from the above chart, traffic accidents mainly occur at crossing,Junction,Traffic_Signal and other places. These places are often more complex road conditions, traffic flow and human flow are relatively large, prone to traffic accidents. Especially crossroads, four directions of the car gathered here, compared to the ordinary road, the probability of collision greatly increased.</p>
</section>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">Conclusion</h2>
<p>The state with the highest number of traffic accidents in the United States is California, and the number of traffic accidents is increasing every year.</p>
<p>The main factors that affect traffic accidents are weather, visibility, road conditions, and travel time. The better the weather, the low visibility and the worse the road conditions, the more frequent the accidents; The travel time is related to people’s life style. Therefore, the more developed the economy of each city, the more dense the traffic, the more accidents occur. When we go out, we need to pay attention to the road conditions, pay attention to vehicles and pedestrians at intersections, turn signs, etc.</p>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<p>https://rpubs.com/billantem/651903 https://towardsdatascience.com/usa-accidents-data-analysis-d130843cde02</p>
<p>Moosavi, Sobhan, Mohammad Hossein Samavatian, Srinivasan Parthasarathy, and Rajiv Ramnath. “A Countrywide Traffic Accident Dataset.”, 2019.</p>
<p>Moosavi, Sobhan, Mohammad Hossein Samavatian, Srinivasan Parthasarathy, Radu Teodorescu, and Rajiv Ramnath. “Accident Risk Prediction based on Heterogeneous Sparse Data: New Dataset and Insights.” In proceedings of the 27th ACM SIGSPATIAL International Conference on Advances in Geographic Information Systems, ACM, 2019</p>


<!-- -->

</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<script src="https://giscus.app/client.js" data-repo="DACSS/601_Spring_2023" data-repo-id="R_kgDOI4JcJA" data-category="Announcements" data-category-id="" data-mapping="title" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="light" data-lang="en" crossorigin="anonymous" async="">
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb97" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "Final Project"</span></span>
<span id="cb97-3"><a href="#cb97-3" aria-hidden="true" tabindex="-1"></a><span class="an">author:</span><span class="co"> "Xinyang Mao"</span></span>
<span id="cb97-4"><a href="#cb97-4" aria-hidden="true" tabindex="-1"></a><span class="an">description:</span><span class="co"> "Project &amp; Data Description"</span></span>
<span id="cb97-5"><a href="#cb97-5" aria-hidden="true" tabindex="-1"></a><span class="an">date:</span><span class="co"> "05/12/2023"</span></span>
<span id="cb97-6"><a href="#cb97-6" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span></span>
<span id="cb97-7"><a href="#cb97-7" aria-hidden="true" tabindex="-1"></a><span class="co">  html:</span></span>
<span id="cb97-8"><a href="#cb97-8" aria-hidden="true" tabindex="-1"></a><span class="co">    df-print: paged</span></span>
<span id="cb97-9"><a href="#cb97-9" aria-hidden="true" tabindex="-1"></a><span class="co">    toc: true</span></span>
<span id="cb97-10"><a href="#cb97-10" aria-hidden="true" tabindex="-1"></a><span class="co">    code-copy: true</span></span>
<span id="cb97-11"><a href="#cb97-11" aria-hidden="true" tabindex="-1"></a><span class="co">    code-tools: true</span></span>
<span id="cb97-12"><a href="#cb97-12" aria-hidden="true" tabindex="-1"></a><span class="co">    css: styles.css</span></span>
<span id="cb97-13"><a href="#cb97-13" aria-hidden="true" tabindex="-1"></a><span class="an">categories:</span></span>
<span id="cb97-14"><a href="#cb97-14" aria-hidden="true" tabindex="-1"></a><span class="co">  - final_Project</span></span>
<span id="cb97-15"><a href="#cb97-15" aria-hidden="true" tabindex="-1"></a><span class="an">editor_options:</span><span class="co"> </span></span>
<span id="cb97-16"><a href="#cb97-16" aria-hidden="true" tabindex="-1"></a><span class="co">  chunk_output_type: console</span></span>
<span id="cb97-17"><a href="#cb97-17" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb97-18"><a href="#cb97-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-19"><a href="#cb97-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-22"><a href="#cb97-22" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb97-23"><a href="#cb97-23" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: setup</span></span>
<span id="cb97-24"><a href="#cb97-24" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb97-25"><a href="#cb97-25" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb97-26"><a href="#cb97-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-27"><a href="#cb97-27" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb97-28"><a href="#cb97-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-29"><a href="#cb97-29" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">echo =</span> <span class="cn">TRUE</span>, <span class="at">warning=</span><span class="cn">FALSE</span>, <span class="at">message=</span><span class="cn">FALSE</span>)</span>
<span id="cb97-30"><a href="#cb97-30" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb97-31"><a href="#cb97-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-32"><a href="#cb97-32" aria-hidden="true" tabindex="-1"></a><span class="fu">## Introduction</span></span>
<span id="cb97-33"><a href="#cb97-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-34"><a href="#cb97-34" aria-hidden="true" tabindex="-1"></a>Every year the lives of approximately 1.3 million people are cut short as a result of a road traffic crash. Between 20 and 50 million more people suffer non-fatal injuries, with many incurring a disability as a result of their injury.</span>
<span id="cb97-35"><a href="#cb97-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-36"><a href="#cb97-36" aria-hidden="true" tabindex="-1"></a>Road traffic injuries cause considerable economic losses to individuals, their families, and to nations as a whole. These losses arise from the cost of treatment as well as lost productivity for those killed or disabled by their injuries, and for family members who need to take time off work or school to care for the injured. Road traffic crashes cost most countries 3% of their gross domestic product.</span>
<span id="cb97-37"><a href="#cb97-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-38"><a href="#cb97-38" aria-hidden="true" tabindex="-1"></a>In 2020, a total of 35,766 fatal car accidents occurred on roadways across the United States. Another 1,593,390 crashes resulted in injuries and 3,621,681 caused property damage. That means a total of 5,250,837 collisions happened over the course of a single year.Road crashes are the single greatest annual cause of death of healthy U.S. citizens travelling abroad.</span>
<span id="cb97-39"><a href="#cb97-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-40"><a href="#cb97-40" aria-hidden="true" tabindex="-1"></a>source:</span>
<span id="cb97-41"><a href="#cb97-41" aria-hidden="true" tabindex="-1"></a>https://www.who.int/news-room/fact-sheets/detail/road-traffic-injuries</span>
<span id="cb97-42"><a href="#cb97-42" aria-hidden="true" tabindex="-1"></a>https://www.forbes.com/advisor/legal/car-accident-statistics/</span>
<span id="cb97-43"><a href="#cb97-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-44"><a href="#cb97-44" aria-hidden="true" tabindex="-1"></a>The goal of this project was to statistically analyze this data to find the states with the most accidents and to find out when accidents are likely to occur. Summarize the information obtained from the analysis to tell a general story about the occurrence of accidents in the United States and to identify the factors that influence the occurrence of accidents and the severity of accidents.</span>
<span id="cb97-45"><a href="#cb97-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-46"><a href="#cb97-46" aria-hidden="true" tabindex="-1"></a><span class="fu">## Describe the data set(s)</span></span>
<span id="cb97-47"><a href="#cb97-47" aria-hidden="true" tabindex="-1"></a>This is a countrywide car accident dataset, which covers 49 states of the USA. The accident data are collected from February 2016 to Dec 2021, using multiple APIs that provide streaming traffic incident (or event) data. These APIs broadcast traffic data captured by a variety of entities, such as the US and state departments of transportation, law enforcement agencies, traffic cameras, and traffic sensors within the road-networks. Currently, there are about 2.8 million accident records in this dataset. dataset:<span class="in">`https://www.kaggle.com/datasets/sobhanmoosavi/us-accidents`</span></span>
<span id="cb97-48"><a href="#cb97-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-49"><a href="#cb97-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-52"><a href="#cb97-52" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb97-53"><a href="#cb97-53" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb97-54"><a href="#cb97-54" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DMwR2)</span>
<span id="cb97-55"><a href="#cb97-55" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb97-56"><a href="#cb97-56" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(zoo)</span>
<span id="cb97-57"><a href="#cb97-57" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages('Rmisc')</span></span>
<span id="cb97-58"><a href="#cb97-58" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(Rmisc)</span>
<span id="cb97-59"><a href="#cb97-59" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(mice)</span>
<span id="cb97-60"><a href="#cb97-60" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages('VIM')</span></span>
<span id="cb97-61"><a href="#cb97-61" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(VIM)</span>
<span id="cb97-62"><a href="#cb97-62" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(zoo)</span>
<span id="cb97-63"><a href="#cb97-63" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(reshape2)</span>
<span id="cb97-64"><a href="#cb97-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-65"><a href="#cb97-65" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb97-68"><a href="#cb97-68" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb97-69"><a href="#cb97-69" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(hrbrthemes)</span>
<span id="cb97-70"><a href="#cb97-70" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb97-73"><a href="#cb97-73" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb97-74"><a href="#cb97-74" aria-hidden="true" tabindex="-1"></a><span class="co"># import data</span></span>
<span id="cb97-75"><a href="#cb97-75" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"D:/Files/workspace/R/US_Accidents_Dec21_updated.csv"</span>)</span>
<span id="cb97-76"><a href="#cb97-76" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(data)</span>
<span id="cb97-77"><a href="#cb97-77" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb97-78"><a href="#cb97-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-79"><a href="#cb97-79" aria-hidden="true" tabindex="-1"></a>check all of the attributes</span>
<span id="cb97-82"><a href="#cb97-82" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb97-83"><a href="#cb97-83" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(data)</span>
<span id="cb97-84"><a href="#cb97-84" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb97-85"><a href="#cb97-85" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-86"><a href="#cb97-86" aria-hidden="true" tabindex="-1"></a>check the dimension of this dataset</span>
<span id="cb97-89"><a href="#cb97-89" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb97-90"><a href="#cb97-90" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(data)</span>
<span id="cb97-91"><a href="#cb97-91" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb97-92"><a href="#cb97-92" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-93"><a href="#cb97-93" aria-hidden="true" tabindex="-1"></a>Determine the number of unique elements</span>
<span id="cb97-96"><a href="#cb97-96" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb97-97"><a href="#cb97-97" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(<span class="fu">unique</span>(data))</span>
<span id="cb97-98"><a href="#cb97-98" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb97-99"><a href="#cb97-99" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-100"><a href="#cb97-100" aria-hidden="true" tabindex="-1"></a>Check columns containing NA values</span>
<span id="cb97-103"><a href="#cb97-103" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb97-104"><a href="#cb97-104" aria-hidden="true" tabindex="-1"></a><span class="fu">colSums</span>(<span class="fu">is.na</span>(data))</span>
<span id="cb97-105"><a href="#cb97-105" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb97-106"><a href="#cb97-106" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-107"><a href="#cb97-107" aria-hidden="true" tabindex="-1"></a>Show the NA value amount for each attribute sort by descending order</span>
<span id="cb97-110"><a href="#cb97-110" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb97-111"><a href="#cb97-111" aria-hidden="true" tabindex="-1"></a>mis_col <span class="ot">&lt;-</span> <span class="fu">colSums</span>(<span class="fu">is.na</span>(data))</span>
<span id="cb97-112"><a href="#cb97-112" aria-hidden="true" tabindex="-1"></a>mis_col <span class="ot">&lt;-</span> <span class="fu">sort</span>(mis_col,<span class="at">decreasing  =</span> <span class="cn">TRUE</span>)</span>
<span id="cb97-113"><a href="#cb97-113" aria-hidden="true" tabindex="-1"></a>mis_col</span>
<span id="cb97-114"><a href="#cb97-114" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb97-115"><a href="#cb97-115" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-116"><a href="#cb97-116" aria-hidden="true" tabindex="-1"></a>Select the columns which have NA value</span>
<span id="cb97-119"><a href="#cb97-119" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb97-120"><a href="#cb97-120" aria-hidden="true" tabindex="-1"></a>mis_col <span class="ot">&lt;-</span> mis_col[mis_col<span class="sc">&gt;</span><span class="dv">0</span>]</span>
<span id="cb97-121"><a href="#cb97-121" aria-hidden="true" tabindex="-1"></a>mis_col</span>
<span id="cb97-122"><a href="#cb97-122" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb97-123"><a href="#cb97-123" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-124"><a href="#cb97-124" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-127"><a href="#cb97-127" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb97-128"><a href="#cb97-128" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb97-129"><a href="#cb97-129" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb97-130"><a href="#cb97-130" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-131"><a href="#cb97-131" aria-hidden="true" tabindex="-1"></a>Show the type of <span class="in">`mis_col`</span></span>
<span id="cb97-134"><a href="#cb97-134" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb97-135"><a href="#cb97-135" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(mis_col)</span>
<span id="cb97-136"><a href="#cb97-136" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb97-139"><a href="#cb97-139" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb97-140"><a href="#cb97-140" aria-hidden="true" tabindex="-1"></a>mis_col_df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb97-141"><a href="#cb97-141" aria-hidden="true" tabindex="-1"></a>  <span class="at">attributes =</span> <span class="fu">names</span>(mis_col),</span>
<span id="cb97-142"><a href="#cb97-142" aria-hidden="true" tabindex="-1"></a>  <span class="at">missing_amount =</span> mis_col</span>
<span id="cb97-143"><a href="#cb97-143" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb97-144"><a href="#cb97-144" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(mis_col_df)</span>
<span id="cb97-145"><a href="#cb97-145" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb97-146"><a href="#cb97-146" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-147"><a href="#cb97-147" aria-hidden="true" tabindex="-1"></a>Show the processed dataframe,we can use it to draw a plot to display the missing values.</span>
<span id="cb97-150"><a href="#cb97-150" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb97-151"><a href="#cb97-151" aria-hidden="true" tabindex="-1"></a>mis_col_df</span>
<span id="cb97-152"><a href="#cb97-152" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb97-153"><a href="#cb97-153" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-154"><a href="#cb97-154" aria-hidden="true" tabindex="-1"></a>Draw a bar chart to show the missing values. We can see there are 8 attributes own missing values.The attribute own most missing value is <span class="in">`Number`</span>.</span>
<span id="cb97-157"><a href="#cb97-157" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb97-158"><a href="#cb97-158" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the bar plot</span></span>
<span id="cb97-159"><a href="#cb97-159" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mis_col_df, <span class="fu">aes</span>(<span class="at">x =</span> attributes, <span class="at">y =</span> missing_amount)) <span class="sc">+</span></span>
<span id="cb97-160"><a href="#cb97-160" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>) <span class="sc">+</span></span>
<span id="cb97-161"><a href="#cb97-161" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Missing Values by Column"</span>, <span class="at">x =</span> <span class="st">"attributes"</span>, <span class="at">y =</span> <span class="st">"Number of Missing Values"</span>) <span class="sc">+</span></span>
<span id="cb97-162"><a href="#cb97-162" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb97-163"><a href="#cb97-163" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylim</span>(<span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">2000000</span>))</span>
<span id="cb97-164"><a href="#cb97-164" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb97-165"><a href="#cb97-165" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-166"><a href="#cb97-166" aria-hidden="true" tabindex="-1"></a>First, traffic accident cases with more than 10% of the total number of missing variable values were removed, and a total of 63485 cases were removed here.</span>
<span id="cb97-169"><a href="#cb97-169" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb97-170"><a href="#cb97-170" aria-hidden="true" tabindex="-1"></a>mis_row <span class="ot">&lt;-</span> <span class="fu">rowSums</span>(<span class="fu">is.na</span>(data))<span class="sc">/</span><span class="fu">ncol</span>(data) <span class="sc">&gt;=</span><span class="fl">0.1</span></span>
<span id="cb97-171"><a href="#cb97-171" aria-hidden="true" tabindex="-1"></a>data_1 <span class="ot">&lt;-</span> data[<span class="sc">!</span>mis_row, ]</span>
<span id="cb97-172"><a href="#cb97-172" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb97-173"><a href="#cb97-173" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-176"><a href="#cb97-176" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb97-177"><a href="#cb97-177" aria-hidden="true" tabindex="-1"></a><span class="fu">colSums</span>(<span class="fu">is.na</span>(data_1))</span>
<span id="cb97-178"><a href="#cb97-178" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb97-179"><a href="#cb97-179" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-182"><a href="#cb97-182" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb97-183"><a href="#cb97-183" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(data_1)</span>
<span id="cb97-184"><a href="#cb97-184" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb97-185"><a href="#cb97-185" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-186"><a href="#cb97-186" aria-hidden="true" tabindex="-1"></a>And then, the missing values of street number<span class="in">`Number`</span>, wind chill attribute <span class="in">`Wind_Chill.F.`</span>, precipitation<span class="in">`Precipitation.in.`</span>,wind speed<span class="in">`Wind_Speed.mph.`</span> and other attributes are too many, so these variables are removed.Then, the variables that are not related to the cause of the accident are removed.</span>
<span id="cb97-189"><a href="#cb97-189" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb97-190"><a href="#cb97-190" aria-hidden="true" tabindex="-1"></a>data_del <span class="ot">&lt;-</span> <span class="fu">subset</span>(data_1, <span class="at">select =</span> <span class="sc">-</span><span class="fu">c</span>(</span>
<span id="cb97-191"><a href="#cb97-191" aria-hidden="true" tabindex="-1"></a>  ID,End_Time,End_Lat,End_Lng,Distance.mi.,Description,Number,Street,Side,City,County,Zipcode,Timezone,Airport_Code,</span>
<span id="cb97-192"><a href="#cb97-192" aria-hidden="true" tabindex="-1"></a>  Weather_Timestamp,Temperature.F.,Wind_Chill.F.,Humidity...,Pressure.in.,Wind_Direction,Wind_Speed.mph.,</span>
<span id="cb97-193"><a href="#cb97-193" aria-hidden="true" tabindex="-1"></a>  Precipitation.in.,Precipitation.in.,Civil_Twilight,Nautical_Twilight,Astronomical_Twilight,Sunrise_Sunset</span>
<span id="cb97-194"><a href="#cb97-194" aria-hidden="true" tabindex="-1"></a>  ))</span>
<span id="cb97-195"><a href="#cb97-195" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-196"><a href="#cb97-196" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb97-197"><a href="#cb97-197" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-198"><a href="#cb97-198" aria-hidden="true" tabindex="-1"></a>This is the data after cleaning.</span>
<span id="cb97-201"><a href="#cb97-201" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb97-202"><a href="#cb97-202" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(data_del)</span>
<span id="cb97-203"><a href="#cb97-203" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb97-206"><a href="#cb97-206" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb97-207"><a href="#cb97-207" aria-hidden="true" tabindex="-1"></a><span class="fu">colSums</span>(<span class="fu">is.na</span>(data_del))</span>
<span id="cb97-208"><a href="#cb97-208" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb97-209"><a href="#cb97-209" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-210"><a href="#cb97-210" aria-hidden="true" tabindex="-1"></a>Finally, the missing values of visibility<span class="in">`Visibility.mi.`</span>,because its values are concentrated in the range around the mean,so I decide to use the mean interpolation method.</span>
<span id="cb97-211"><a href="#cb97-211" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-212"><a href="#cb97-212" aria-hidden="true" tabindex="-1"></a><span class="fu">### Deal with the NA values</span></span>
<span id="cb97-213"><a href="#cb97-213" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-216"><a href="#cb97-216" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb97-217"><a href="#cb97-217" aria-hidden="true" tabindex="-1"></a>su_v <span class="ot">&lt;-</span> <span class="fu">summary</span>(data_del<span class="sc">$</span>Visibility.mi.)</span>
<span id="cb97-218"><a href="#cb97-218" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(su_v)</span>
<span id="cb97-219"><a href="#cb97-219" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb97-222"><a href="#cb97-222" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb97-223"><a href="#cb97-223" aria-hidden="true" tabindex="-1"></a><span class="co">#Mean interpolation</span></span>
<span id="cb97-224"><a href="#cb97-224" aria-hidden="true" tabindex="-1"></a>func_mean <span class="ot">&lt;-</span> <span class="cf">function</span>(x){</span>
<span id="cb97-225"><a href="#cb97-225" aria-hidden="true" tabindex="-1"></a>  x[<span class="fu">is.na</span>(x)] <span class="ot">&lt;-</span> <span class="fu">mean</span>(x,<span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb97-226"><a href="#cb97-226" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb97-227"><a href="#cb97-227" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb97-230"><a href="#cb97-230" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb97-231"><a href="#cb97-231" aria-hidden="true" tabindex="-1"></a>data_del<span class="sc">$</span>Visibility.mi. <span class="ot">&lt;-</span> <span class="fu">sapply</span>(data_del<span class="sc">$</span>Visibility.mi.,func_mean)</span>
<span id="cb97-232"><a href="#cb97-232" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb97-233"><a href="#cb97-233" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-236"><a href="#cb97-236" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb97-237"><a href="#cb97-237" aria-hidden="true" tabindex="-1"></a><span class="co"># Write the modified data back to the original data frame</span></span>
<span id="cb97-238"><a href="#cb97-238" aria-hidden="true" tabindex="-1"></a>data_del[] <span class="ot">&lt;-</span> <span class="fu">lapply</span>(data_del, <span class="cf">function</span>(x) {</span>
<span id="cb97-239"><a href="#cb97-239" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(<span class="fu">is.numeric</span>(x)) <span class="fu">replace</span>(x, <span class="fu">is.na</span>(x), <span class="fu">mean</span>(x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="cf">else</span> x</span>
<span id="cb97-240"><a href="#cb97-240" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb97-241"><a href="#cb97-241" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb97-242"><a href="#cb97-242" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-243"><a href="#cb97-243" aria-hidden="true" tabindex="-1"></a>We can see the result of completing the missing values below.There is no longer NA value exist.</span>
<span id="cb97-246"><a href="#cb97-246" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb97-247"><a href="#cb97-247" aria-hidden="true" tabindex="-1"></a><span class="fu">colSums</span>(<span class="fu">is.na</span>(data_del))</span>
<span id="cb97-248"><a href="#cb97-248" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb97-249"><a href="#cb97-249" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-250"><a href="#cb97-250" aria-hidden="true" tabindex="-1"></a>Here are the columns left after I finished processing.</span>
<span id="cb97-253"><a href="#cb97-253" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb97-254"><a href="#cb97-254" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(data_del)</span>
<span id="cb97-255"><a href="#cb97-255" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb97-256"><a href="#cb97-256" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-259"><a href="#cb97-259" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb97-260"><a href="#cb97-260" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(data_del)</span>
<span id="cb97-261"><a href="#cb97-261" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb97-262"><a href="#cb97-262" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-263"><a href="#cb97-263" aria-hidden="true" tabindex="-1"></a>Showing the overall of this dataset</span>
<span id="cb97-266"><a href="#cb97-266" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb97-267"><a href="#cb97-267" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(summarytools<span class="sc">::</span><span class="fu">dfSummary</span>(data_del,</span>
<span id="cb97-268"><a href="#cb97-268" aria-hidden="true" tabindex="-1"></a>                        <span class="at">varnumbers =</span> <span class="cn">FALSE</span>,</span>
<span id="cb97-269"><a href="#cb97-269" aria-hidden="true" tabindex="-1"></a>                        <span class="at">plain.ascii  =</span> <span class="cn">FALSE</span>, </span>
<span id="cb97-270"><a href="#cb97-270" aria-hidden="true" tabindex="-1"></a>                        <span class="at">style        =</span> <span class="st">"grid"</span>, </span>
<span id="cb97-271"><a href="#cb97-271" aria-hidden="true" tabindex="-1"></a>                        <span class="at">graph.magnif =</span> <span class="fl">0.70</span>, </span>
<span id="cb97-272"><a href="#cb97-272" aria-hidden="true" tabindex="-1"></a>                        <span class="at">valid.col    =</span> <span class="cn">FALSE</span>),</span>
<span id="cb97-273"><a href="#cb97-273" aria-hidden="true" tabindex="-1"></a>      <span class="at">method =</span> <span class="st">'render'</span>,</span>
<span id="cb97-274"><a href="#cb97-274" aria-hidden="true" tabindex="-1"></a>      <span class="at">table.classes =</span> <span class="st">'table-condensed'</span>)</span>
<span id="cb97-275"><a href="#cb97-275" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb97-276"><a href="#cb97-276" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-277"><a href="#cb97-277" aria-hidden="true" tabindex="-1"></a>There are 21 attributes and 2781857 rows,it's a really large size dataset.</span>
<span id="cb97-278"><a href="#cb97-278" aria-hidden="true" tabindex="-1"></a>The attributes I'll use in this project are:</span>
<span id="cb97-279"><a href="#cb97-279" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-280"><a href="#cb97-280" aria-hidden="true" tabindex="-1"></a>Severity:Shows the severity of the accident, a number between 1 and 4, where 1 indicates the least impact on traffic.</span>
<span id="cb97-281"><a href="#cb97-281" aria-hidden="true" tabindex="-1"></a>Start_Time:Shows start time of the accident in local time zone.</span>
<span id="cb97-282"><a href="#cb97-282" aria-hidden="true" tabindex="-1"></a>Start_Lat:Shows latitude in GPS coordinate of the start point.         </span>
<span id="cb97-283"><a href="#cb97-283" aria-hidden="true" tabindex="-1"></a>Start_Lng:Shows longitude in GPS coordinate of the start point. </span>
<span id="cb97-284"><a href="#cb97-284" aria-hidden="true" tabindex="-1"></a>State:Shows the state in address field.           </span>
<span id="cb97-285"><a href="#cb97-285" aria-hidden="true" tabindex="-1"></a>Country:Shows the country in address field.    </span>
<span id="cb97-286"><a href="#cb97-286" aria-hidden="true" tabindex="-1"></a>Visibility.mi.:Shows visibility (in miles).</span>
<span id="cb97-287"><a href="#cb97-287" aria-hidden="true" tabindex="-1"></a>Weather_Condition:Shows the weather condition (rain, snow, thunderstorm, fog, etc.)</span>
<span id="cb97-288"><a href="#cb97-288" aria-hidden="true" tabindex="-1"></a>Amenity:A POI annotation which indicates presence of amenity in a nearby location              </span>
<span id="cb97-289"><a href="#cb97-289" aria-hidden="true" tabindex="-1"></a>Bump:A POI annotation which indicates presence of speed bump or hump in a nearby location.          </span>
<span id="cb97-290"><a href="#cb97-290" aria-hidden="true" tabindex="-1"></a>Crossing:A POI annotation which indicates presence of crossing in a nearby location.          </span>
<span id="cb97-291"><a href="#cb97-291" aria-hidden="true" tabindex="-1"></a>Give_Way:A POI annotation which indicates presence of give_way in a nearby location. </span>
<span id="cb97-292"><a href="#cb97-292" aria-hidden="true" tabindex="-1"></a>Junction:A POI annotation which indicates presence of junction in a nearby location.           </span>
<span id="cb97-293"><a href="#cb97-293" aria-hidden="true" tabindex="-1"></a>No_Exit:A POI annotation which indicates presence of no_exit in a nearby location.           </span>
<span id="cb97-294"><a href="#cb97-294" aria-hidden="true" tabindex="-1"></a>Railway:A POI annotation which indicates presence of railway in a nearby location.        </span>
<span id="cb97-295"><a href="#cb97-295" aria-hidden="true" tabindex="-1"></a>Roundabout:A POI annotation which indicates presence of roundabout in a nearby location. </span>
<span id="cb97-296"><a href="#cb97-296" aria-hidden="true" tabindex="-1"></a>Station:A POI annotation which indicates presence of station in a nearby location.              </span>
<span id="cb97-297"><a href="#cb97-297" aria-hidden="true" tabindex="-1"></a>Stop:A POI annotation which indicates presence of stop in a nearby location.   </span>
<span id="cb97-298"><a href="#cb97-298" aria-hidden="true" tabindex="-1"></a>Traffic_Calming:A POI annotation which indicates presence of traffic_calming in a nearby location.    </span>
<span id="cb97-299"><a href="#cb97-299" aria-hidden="true" tabindex="-1"></a>Traffic_Signal:A POI annotation which indicates presence of traffic_signal in a nearby location. </span>
<span id="cb97-300"><a href="#cb97-300" aria-hidden="true" tabindex="-1"></a>Turning_Loop:A POI annotation which indicates presence of turning_loop in a nearby location.    </span>
<span id="cb97-301"><a href="#cb97-301" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-302"><a href="#cb97-302" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-303"><a href="#cb97-303" aria-hidden="true" tabindex="-1"></a><span class="fu">## Total number of accidents by state</span></span>
<span id="cb97-304"><a href="#cb97-304" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-305"><a href="#cb97-305" aria-hidden="true" tabindex="-1"></a>The total number of accidents by state for the period 2016-2021:</span>
<span id="cb97-308"><a href="#cb97-308" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb97-309"><a href="#cb97-309" aria-hidden="true" tabindex="-1"></a>data_state <span class="ot">&lt;-</span> data_del <span class="sc">%&gt;%</span></span>
<span id="cb97-310"><a href="#cb97-310" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(State) <span class="sc">%&gt;%</span></span>
<span id="cb97-311"><a href="#cb97-311" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">summarize</span>(<span class="at">count =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb97-312"><a href="#cb97-312" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb97-313"><a href="#cb97-313" aria-hidden="true" tabindex="-1"></a>data_state <span class="ot">&lt;-</span> data[<span class="fu">order</span>(data_state<span class="sc">$</span>count, <span class="at">decreasing =</span> <span class="cn">TRUE</span>), ]</span>
<span id="cb97-314"><a href="#cb97-314" aria-hidden="true" tabindex="-1"></a>data_state</span>
<span id="cb97-315"><a href="#cb97-315" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb97-316"><a href="#cb97-316" aria-hidden="true" tabindex="-1"></a>We can see the three states with the highest number of traffic accidents are CA,FL and TX. </span>
<span id="cb97-317"><a href="#cb97-317" aria-hidden="true" tabindex="-1"></a>CA is the largest state in the United States, prosperity must be accompanied by the development of traffic, and at the same time the number of traffic accidents will also increase.</span>
<span id="cb97-318"><a href="#cb97-318" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-319"><a href="#cb97-319" aria-hidden="true" tabindex="-1"></a>The table doesn't seem intuitive enough, so let's draw it as a map.</span>
<span id="cb97-322"><a href="#cb97-322" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb97-323"><a href="#cb97-323" aria-hidden="true" tabindex="-1"></a><span class="co"># draw accident map</span></span>
<span id="cb97-324"><a href="#cb97-324" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages('maps')</span></span>
<span id="cb97-325"><a href="#cb97-325" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages('ggmap')</span></span>
<span id="cb97-326"><a href="#cb97-326" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(maps)</span>
<span id="cb97-327"><a href="#cb97-327" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggmap)</span>
<span id="cb97-328"><a href="#cb97-328" aria-hidden="true" tabindex="-1"></a>m <span class="ot">&lt;-</span> <span class="fu">borders</span>(<span class="st">"state"</span>,<span class="at">colour =</span> <span class="st">"gray50"</span>,<span class="at">fill=</span><span class="st">"white"</span>)</span>
<span id="cb97-329"><a href="#cb97-329" aria-hidden="true" tabindex="-1"></a>df2 <span class="ot">&lt;-</span> data_del <span class="sc">%&gt;%</span> <span class="fu">select</span>(Start_Lat,Start_Lng)  </span>
<span id="cb97-330"><a href="#cb97-330" aria-hidden="true" tabindex="-1"></a>point <span class="ot">&lt;-</span> df2[<span class="fu">sample</span>(<span class="fu">nrow</span>(df2),<span class="dv">3000</span>),]</span>
<span id="cb97-331"><a href="#cb97-331" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(point,<span class="fu">aes</span>(<span class="at">x=</span>Start_Lng,<span class="at">y=</span>Start_Lat)) <span class="sc">+</span> m </span>
<span id="cb97-332"><a href="#cb97-332" aria-hidden="true" tabindex="-1"></a>p1 <span class="sc">+</span> <span class="fu">geom_point</span>(<span class="at">color=</span><span class="st">'red'</span>,<span class="at">alpha=</span>.<span class="dv">6</span>) <span class="sc">+</span> </span>
<span id="cb97-333"><a href="#cb97-333" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">'U.S. Traffic Accident Map'</span>)<span class="sc">+</span> </span>
<span id="cb97-334"><a href="#cb97-334" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>))</span>
<span id="cb97-335"><a href="#cb97-335" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-336"><a href="#cb97-336" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb97-337"><a href="#cb97-337" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-338"><a href="#cb97-338" aria-hidden="true" tabindex="-1"></a>The raw data includes data for the five-year period 2016-2021, with the six-year accident totals shown in the table below:</span>
<span id="cb97-339"><a href="#cb97-339" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-340"><a href="#cb97-340" aria-hidden="true" tabindex="-1"></a>I use year() to process the <span class="in">`Start_Time`</span> attribute let it switch as a new attribute <span class="in">`year`</span> to show the data depend on year.Then group them to show the result.</span>
<span id="cb97-343"><a href="#cb97-343" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb97-344"><a href="#cb97-344" aria-hidden="true" tabindex="-1"></a>data_del<span class="sc">$</span>year <span class="ot">&lt;-</span> <span class="fu">year</span>(data_del<span class="sc">$</span>Start_Time)</span>
<span id="cb97-345"><a href="#cb97-345" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(data_del<span class="sc">$</span>year)</span>
<span id="cb97-346"><a href="#cb97-346" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb97-349"><a href="#cb97-349" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb97-350"><a href="#cb97-350" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(data_del)</span>
<span id="cb97-351"><a href="#cb97-351" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb97-354"><a href="#cb97-354" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb97-355"><a href="#cb97-355" aria-hidden="true" tabindex="-1"></a>data_year <span class="ot">&lt;-</span> data_del <span class="sc">%&gt;%</span></span>
<span id="cb97-356"><a href="#cb97-356" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year) <span class="sc">%&gt;%</span></span>
<span id="cb97-357"><a href="#cb97-357" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">summarize</span>(<span class="at">count =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb97-358"><a href="#cb97-358" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb97-359"><a href="#cb97-359" aria-hidden="true" tabindex="-1"></a>data_year</span>
<span id="cb97-360"><a href="#cb97-360" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb97-361"><a href="#cb97-361" aria-hidden="true" tabindex="-1"></a>Because this dataset is so large,so I will only choose 1 year of data to do the analysis.</span>
<span id="cb97-364"><a href="#cb97-364" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb97-365"><a href="#cb97-365" aria-hidden="true" tabindex="-1"></a>data_2020 <span class="ot">&lt;-</span> data_del[data_del<span class="sc">$</span>year <span class="sc">==</span> <span class="dv">2020</span>, ]</span>
<span id="cb97-366"><a href="#cb97-366" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(data_2020)</span>
<span id="cb97-367"><a href="#cb97-367" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb97-370"><a href="#cb97-370" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb97-371"><a href="#cb97-371" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(data_2020)</span>
<span id="cb97-372"><a href="#cb97-372" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb97-373"><a href="#cb97-373" aria-hidden="true" tabindex="-1"></a><span class="fu">## Influencing Factors</span></span>
<span id="cb97-374"><a href="#cb97-374" aria-hidden="true" tabindex="-1"></a><span class="fu">### Weather condition and Serverity</span></span>
<span id="cb97-375"><a href="#cb97-375" aria-hidden="true" tabindex="-1"></a>First let's focus on the relationship between the weather and the severity of the accidents.</span>
<span id="cb97-376"><a href="#cb97-376" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-377"><a href="#cb97-377" aria-hidden="true" tabindex="-1"></a>The <span class="in">`Weather_Condition`</span> and <span class="in">`Severity`</span> variables in the data is presented for analysis.</span>
<span id="cb97-378"><a href="#cb97-378" aria-hidden="true" tabindex="-1"></a>Transfer the data type of these 2 variables into factor type for the analisis later.</span>
<span id="cb97-381"><a href="#cb97-381" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb97-382"><a href="#cb97-382" aria-hidden="true" tabindex="-1"></a>data_2020<span class="sc">$</span>Severity <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(data_2020<span class="sc">$</span>Severity)</span>
<span id="cb97-383"><a href="#cb97-383" aria-hidden="true" tabindex="-1"></a>data_2020<span class="sc">$</span>Weather_Condition <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(data_2020<span class="sc">$</span>Weather_Condition)</span>
<span id="cb97-384"><a href="#cb97-384" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb97-385"><a href="#cb97-385" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-386"><a href="#cb97-386" aria-hidden="true" tabindex="-1"></a>Display all types of weather in the dataset.</span>
<span id="cb97-389"><a href="#cb97-389" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb97-390"><a href="#cb97-390" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(data_2020<span class="sc">$</span>Weather_Condition)</span>
<span id="cb97-391"><a href="#cb97-391" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb97-392"><a href="#cb97-392" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-393"><a href="#cb97-393" aria-hidden="true" tabindex="-1"></a>We can see the first one is blank,so we need to select valid weather type to analyze.Now we can see the count number of blank value be 0,it won't affect the result anymore. </span>
<span id="cb97-396"><a href="#cb97-396" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb97-397"><a href="#cb97-397" aria-hidden="true" tabindex="-1"></a>data_weather <span class="ot">&lt;-</span> data_2020[data_2020<span class="sc">$</span>Weather_Condition <span class="sc">!=</span><span class="st">""</span>, ]</span>
<span id="cb97-398"><a href="#cb97-398" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(data_weather<span class="sc">$</span>Weather_Condition)</span>
<span id="cb97-399"><a href="#cb97-399" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb97-400"><a href="#cb97-400" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-401"><a href="#cb97-401" aria-hidden="true" tabindex="-1"></a>Count the number of weather conditions by category and select the 20 most common types of weather</span>
<span id="cb97-404"><a href="#cb97-404" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb97-405"><a href="#cb97-405" aria-hidden="true" tabindex="-1"></a>weather <span class="ot">&lt;-</span> data_weather <span class="sc">%&gt;%</span></span>
<span id="cb97-406"><a href="#cb97-406" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Weather_Condition) <span class="sc">%&gt;%</span></span>
<span id="cb97-407"><a href="#cb97-407" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">summarize</span>(<span class="at">count =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb97-408"><a href="#cb97-408" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb97-409"><a href="#cb97-409" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb97-412"><a href="#cb97-412" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb97-413"><a href="#cb97-413" aria-hidden="true" tabindex="-1"></a>weather <span class="ot">&lt;-</span> <span class="fu">arrange</span>(weather,<span class="fu">desc</span>(count))</span>
<span id="cb97-414"><a href="#cb97-414" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="at">n=</span><span class="dv">20</span>,weather)</span>
<span id="cb97-415"><a href="#cb97-415" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb97-416"><a href="#cb97-416" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-417"><a href="#cb97-417" aria-hidden="true" tabindex="-1"></a>Count the number of cases by weather conditions, and select the cases with a number greater than 2000.Now just 13 weather type left.</span>
<span id="cb97-420"><a href="#cb97-420" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb97-421"><a href="#cb97-421" aria-hidden="true" tabindex="-1"></a>weather <span class="ot">&lt;-</span> <span class="fu">filter</span>(weather,count <span class="sc">&gt;</span> <span class="dv">2000</span>)</span>
<span id="cb97-422"><a href="#cb97-422" aria-hidden="true" tabindex="-1"></a>weather_13 <span class="ot">&lt;-</span> weather<span class="sc">$</span>Weather_Condition</span>
<span id="cb97-423"><a href="#cb97-423" aria-hidden="true" tabindex="-1"></a>weather_13</span>
<span id="cb97-424"><a href="#cb97-424" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb97-425"><a href="#cb97-425" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-426"><a href="#cb97-426" aria-hidden="true" tabindex="-1"></a>Extract the data from these 20 columns. <span class="in">`%in%`</span> use to check if elements in the vector or set.</span>
<span id="cb97-429"><a href="#cb97-429" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb97-430"><a href="#cb97-430" aria-hidden="true" tabindex="-1"></a>df_weather_1 <span class="ot">&lt;-</span> <span class="fu">filter</span>(data_weather,Weather_Condition <span class="sc">%in%</span> weather_13)</span>
<span id="cb97-431"><a href="#cb97-431" aria-hidden="true" tabindex="-1"></a>df_weather <span class="ot">&lt;-</span> <span class="fu">subset</span>(df_weather_1,<span class="at">select=</span><span class="fu">c</span>(Weather_Condition,Severity))</span>
<span id="cb97-432"><a href="#cb97-432" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-433"><a href="#cb97-433" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb97-434"><a href="#cb97-434" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-435"><a href="#cb97-435" aria-hidden="true" tabindex="-1"></a>Draw a bar plot to show the result:</span>
<span id="cb97-438"><a href="#cb97-438" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb97-439"><a href="#cb97-439" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df_weather, <span class="fu">aes</span>(<span class="at">x=</span>Weather_Condition, <span class="at">fill =</span> Severity)) <span class="sc">+</span> </span>
<span id="cb97-440"><a href="#cb97-440" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">'fill'</span>) <span class="sc">+</span> </span>
<span id="cb97-441"><a href="#cb97-441" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">'Weather'</span>, <span class="at">y =</span> <span class="st">'Severity'</span>) <span class="sc">+</span> </span>
<span id="cb97-442"><a href="#cb97-442" aria-hidden="true" tabindex="-1"></a>    <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb97-443"><a href="#cb97-443" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>()</span>
<span id="cb97-444"><a href="#cb97-444" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb97-445"><a href="#cb97-445" aria-hidden="true" tabindex="-1"></a>From the above chart, we can see that the most accidents occur in the weather conditions are mostly clouds, windy, snow or rain.The impact of light snow on the accident is relatively large and more likely to cause serious traffic accidents.</span>
<span id="cb97-446"><a href="#cb97-446" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-447"><a href="#cb97-447" aria-hidden="true" tabindex="-1"></a>Next,I would like to know about each of these four different levels of traffic accidents:</span>
<span id="cb97-448"><a href="#cb97-448" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-449"><a href="#cb97-449" aria-hidden="true" tabindex="-1"></a>Group the data according to the <span class="in">`Severity`</span> and count the times</span>
<span id="cb97-452"><a href="#cb97-452" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb97-453"><a href="#cb97-453" aria-hidden="true" tabindex="-1"></a>weather_count <span class="ot">&lt;-</span> df_weather <span class="sc">%&gt;%</span></span>
<span id="cb97-454"><a href="#cb97-454" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Severity) <span class="sc">%&gt;%</span></span>
<span id="cb97-455"><a href="#cb97-455" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">summarize</span>(<span class="at">count =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb97-456"><a href="#cb97-456" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb97-457"><a href="#cb97-457" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb97-458"><a href="#cb97-458" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-459"><a href="#cb97-459" aria-hidden="true" tabindex="-1"></a>I'd like use the count result as a attribute,so join th count result as a new column.</span>
<span id="cb97-462"><a href="#cb97-462" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb97-463"><a href="#cb97-463" aria-hidden="true" tabindex="-1"></a>df_weather <span class="ot">&lt;-</span> <span class="fu">left_join</span>(df_weather, weather_count, <span class="at">by =</span> <span class="st">"Severity"</span>)</span>
<span id="cb97-464"><a href="#cb97-464" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(df_weather)</span>
<span id="cb97-465"><a href="#cb97-465" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb97-466"><a href="#cb97-466" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-467"><a href="#cb97-467" aria-hidden="true" tabindex="-1"></a>Plot</span>
<span id="cb97-470"><a href="#cb97-470" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb97-471"><a href="#cb97-471" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df_weather, <span class="fu">aes</span>(<span class="at">x=</span>Weather_Condition, <span class="at">y=</span> count)) <span class="sc">+</span> </span>
<span id="cb97-472"><a href="#cb97-472" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat=</span><span class="st">"identity"</span>) <span class="sc">+</span> </span>
<span id="cb97-473"><a href="#cb97-473" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">'Weather'</span>, <span class="at">y =</span> <span class="st">'Severity'</span>) <span class="sc">+</span> </span>
<span id="cb97-474"><a href="#cb97-474" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb97-475"><a href="#cb97-475" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb97-476"><a href="#cb97-476" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>Severity, <span class="at">ncol =</span> <span class="dv">2</span>)</span>
<span id="cb97-477"><a href="#cb97-477" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb97-478"><a href="#cb97-478" aria-hidden="true" tabindex="-1"></a>We can see that severity equal to 2 has the highest number of accidents, far exceeding the other 3 severity type accidents. Among the accidents of class 2, the majority of accidents occurred in fair,cloudy,mostly cloudy,partly cloudy and light rain.</span>
<span id="cb97-479"><a href="#cb97-479" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-480"><a href="#cb97-480" aria-hidden="true" tabindex="-1"></a>This is an unintended consequence of the fact that the number of crashes in FAIR weather is much higher than in other weather.</span>
<span id="cb97-481"><a href="#cb97-481" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-482"><a href="#cb97-482" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-483"><a href="#cb97-483" aria-hidden="true" tabindex="-1"></a><span class="fu">### Visibility</span></span>
<span id="cb97-484"><a href="#cb97-484" aria-hidden="true" tabindex="-1"></a>Explore the impact on accident occurrence at different visibility levels</span>
<span id="cb97-485"><a href="#cb97-485" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-486"><a href="#cb97-486" aria-hidden="true" tabindex="-1"></a>After the previous processing, there are no more missing values in this column.</span>
<span id="cb97-489"><a href="#cb97-489" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb97-490"><a href="#cb97-490" aria-hidden="true" tabindex="-1"></a>data_vis <span class="ot">&lt;-</span> <span class="fu">subset</span>(data_2020,<span class="at">select=</span><span class="fu">c</span>(Visibility.mi.,Severity))</span>
<span id="cb97-491"><a href="#cb97-491" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(<span class="fu">is.na</span>(data_vis<span class="sc">$</span>Visibility.mi.))</span>
<span id="cb97-492"><a href="#cb97-492" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb97-493"><a href="#cb97-493" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-494"><a href="#cb97-494" aria-hidden="true" tabindex="-1"></a>Draw a Density graph to show the density of accidents at different visibility levels.</span>
<span id="cb97-497"><a href="#cb97-497" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb97-498"><a href="#cb97-498" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data_vis,<span class="fu">aes</span>(<span class="at">x=</span>Visibility.mi.)) <span class="sc">+</span></span>
<span id="cb97-499"><a href="#cb97-499" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">fill=</span><span class="st">"#69b3a2"</span>, <span class="at">color=</span><span class="st">"#e9ecef"</span>, <span class="at">alpha=</span><span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb97-500"><a href="#cb97-500" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="st">"The density of accidents at different visibility levels"</span>) <span class="sc">+</span></span>
<span id="cb97-501"><a href="#cb97-501" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_ipsum</span>()</span>
<span id="cb97-502"><a href="#cb97-502" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb97-503"><a href="#cb97-503" aria-hidden="true" tabindex="-1"></a>Through the analysis we can find that almost all traffic accidents occur in the visibility between 0 and 12.5, and are concentrated in the visibility of 10.</span>
<span id="cb97-504"><a href="#cb97-504" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-505"><a href="#cb97-505" aria-hidden="true" tabindex="-1"></a>So I believe low visibility is the time when accidents are at their peak. Low visibility will lead to limited visibility for vehicles and pedestrians and not enough time to respond to emergencies, thus leading to accidents.</span>
<span id="cb97-506"><a href="#cb97-506" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-507"><a href="#cb97-507" aria-hidden="true" tabindex="-1"></a>Next let's take a look at the distribution of accidents with different levels of severity and visibility.</span>
<span id="cb97-510"><a href="#cb97-510" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb97-511"><a href="#cb97-511" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data_vis,<span class="fu">aes</span>(<span class="at">x=</span>Visibility.mi.)) <span class="sc">+</span></span>
<span id="cb97-512"><a href="#cb97-512" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">fill=</span><span class="st">"#69b3a2"</span>, <span class="at">color=</span><span class="st">"#e9ecef"</span>, <span class="at">alpha=</span><span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb97-513"><a href="#cb97-513" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="st">"The density of accidents of different levels at different visibility levels"</span>) <span class="sc">+</span></span>
<span id="cb97-514"><a href="#cb97-514" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_ipsum</span>() <span class="sc">+</span></span>
<span id="cb97-515"><a href="#cb97-515" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span>Severity, <span class="at">ncol =</span> <span class="dv">2</span>)</span>
<span id="cb97-516"><a href="#cb97-516" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb97-517"><a href="#cb97-517" aria-hidden="true" tabindex="-1"></a>The graph above shows that all four severity levels of crashes are concentrated at low visibility, although a non-negligible number of accidents with a severity level of 2 occur at below average visibility.</span>
<span id="cb97-518"><a href="#cb97-518" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-519"><a href="#cb97-519" aria-hidden="true" tabindex="-1"></a>And it's interesting that the number of accidents in this situation is higher than the number of accidents with the highest severity. </span>
<span id="cb97-520"><a href="#cb97-520" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-521"><a href="#cb97-521" aria-hidden="true" tabindex="-1"></a>I think it may be that drivers reduce their speed and drive more cautiously when visibility is below average, so even if accidents do occur they are not particularly serious.</span>
<span id="cb97-522"><a href="#cb97-522" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-523"><a href="#cb97-523" aria-hidden="true" tabindex="-1"></a><span class="fu">### Time Factor</span></span>
<span id="cb97-524"><a href="#cb97-524" aria-hidden="true" tabindex="-1"></a>Next I will analyze the relationship between accidents and time factors, where I will analyze them in terms of months and hours respectively.</span>
<span id="cb97-527"><a href="#cb97-527" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb97-528"><a href="#cb97-528" aria-hidden="true" tabindex="-1"></a><span class="co"># adjust date format</span></span>
<span id="cb97-529"><a href="#cb97-529" aria-hidden="true" tabindex="-1"></a>data_time <span class="ot">&lt;-</span> data_del</span>
<span id="cb97-530"><a href="#cb97-530" aria-hidden="true" tabindex="-1"></a>data_time<span class="sc">$</span>Start_Time <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(data_time<span class="sc">$</span>Start_Time)</span>
<span id="cb97-531"><a href="#cb97-531" aria-hidden="true" tabindex="-1"></a>data_time<span class="sc">$</span>month <span class="ot">&lt;-</span> <span class="fu">month</span>(data_time<span class="sc">$</span>Start_Time)</span>
<span id="cb97-532"><a href="#cb97-532" aria-hidden="true" tabindex="-1"></a>data_time<span class="sc">$</span>hour <span class="ot">&lt;-</span> <span class="fu">hour</span>(data_time<span class="sc">$</span>Start_Time)</span>
<span id="cb97-533"><a href="#cb97-533" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-534"><a href="#cb97-534" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb97-537"><a href="#cb97-537" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb97-538"><a href="#cb97-538" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(data_time<span class="sc">$</span>month)</span>
<span id="cb97-539"><a href="#cb97-539" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(data_time<span class="sc">$</span>hour)</span>
<span id="cb97-540"><a href="#cb97-540" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb97-541"><a href="#cb97-541" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-542"><a href="#cb97-542" aria-hidden="true" tabindex="-1"></a>Group by month</span>
<span id="cb97-545"><a href="#cb97-545" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb97-546"><a href="#cb97-546" aria-hidden="true" tabindex="-1"></a><span class="co"># Month</span></span>
<span id="cb97-547"><a href="#cb97-547" aria-hidden="true" tabindex="-1"></a>df_month <span class="ot">&lt;-</span> data_time <span class="sc">%&gt;%</span></span>
<span id="cb97-548"><a href="#cb97-548" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(month) <span class="sc">%&gt;%</span></span>
<span id="cb97-549"><a href="#cb97-549" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">summarize</span>(<span class="at">mon_count =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb97-550"><a href="#cb97-550" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb97-551"><a href="#cb97-551" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb97-552"><a href="#cb97-552" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-553"><a href="#cb97-553" aria-hidden="true" tabindex="-1"></a>Group by hour</span>
<span id="cb97-556"><a href="#cb97-556" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb97-557"><a href="#cb97-557" aria-hidden="true" tabindex="-1"></a><span class="co"># hour</span></span>
<span id="cb97-558"><a href="#cb97-558" aria-hidden="true" tabindex="-1"></a>df_hour <span class="ot">&lt;-</span> data_time <span class="sc">%&gt;%</span></span>
<span id="cb97-559"><a href="#cb97-559" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(hour) <span class="sc">%&gt;%</span></span>
<span id="cb97-560"><a href="#cb97-560" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">summarize</span>(<span class="at">hour_count =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb97-561"><a href="#cb97-561" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb97-562"><a href="#cb97-562" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb97-563"><a href="#cb97-563" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-564"><a href="#cb97-564" aria-hidden="true" tabindex="-1"></a>Join <span class="in">`mon_count`</span> and <span class="in">`hour_count`</span> variables into data_time according the 2 common attributes: <span class="in">`month`</span> and <span class="in">`hour`</span>.</span>
<span id="cb97-567"><a href="#cb97-567" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb97-568"><a href="#cb97-568" aria-hidden="true" tabindex="-1"></a>data_time <span class="ot">&lt;-</span> <span class="fu">left_join</span>(data_time,df_month,<span class="at">by =</span><span class="st">"month"</span>)</span>
<span id="cb97-569"><a href="#cb97-569" aria-hidden="true" tabindex="-1"></a>data_time <span class="ot">&lt;-</span> <span class="fu">left_join</span>(data_time,df_hour,<span class="at">by =</span> <span class="st">"hour"</span>)</span>
<span id="cb97-570"><a href="#cb97-570" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(data_time)</span>
<span id="cb97-571"><a href="#cb97-571" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb97-572"><a href="#cb97-572" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-573"><a href="#cb97-573" aria-hidden="true" tabindex="-1"></a>Draw a line graph to show the number of Car Accidents by Month</span>
<span id="cb97-576"><a href="#cb97-576" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb97-577"><a href="#cb97-577" aria-hidden="true" tabindex="-1"></a><span class="co"># Number of car accidents by month</span></span>
<span id="cb97-578"><a href="#cb97-578" aria-hidden="true" tabindex="-1"></a><span class="co"># create a vector of month names</span></span>
<span id="cb97-579"><a href="#cb97-579" aria-hidden="true" tabindex="-1"></a>month_names <span class="ot">&lt;-</span> month.abb</span>
<span id="cb97-580"><a href="#cb97-580" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-581"><a href="#cb97-581" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data_time, <span class="fu">aes</span>(<span class="at">x=</span>month, <span class="at">y=</span>mon_count)) <span class="sc">+</span></span>
<span id="cb97-582"><a href="#cb97-582" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>( <span class="at">color=</span><span class="st">"grey"</span>) <span class="sc">+</span></span>
<span id="cb97-583"><a href="#cb97-583" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">shape=</span><span class="dv">21</span>, <span class="at">color=</span><span class="st">"black"</span>, <span class="at">fill=</span><span class="st">"#69b3a2"</span>, <span class="at">size=</span><span class="dv">6</span>) <span class="sc">+</span></span>
<span id="cb97-584"><a href="#cb97-584" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">12</span>, <span class="at">labels =</span> month_names) <span class="sc">+</span></span>
<span id="cb97-585"><a href="#cb97-585" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Month"</span>, <span class="at">y =</span> <span class="st">"Number of Accidents"</span>) <span class="sc">+</span></span>
<span id="cb97-586"><a href="#cb97-586" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Number of Car Accidents by Month"</span>) <span class="sc">+</span></span>
<span id="cb97-587"><a href="#cb97-587" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_ipsum</span>()</span>
<span id="cb97-588"><a href="#cb97-588" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb97-589"><a href="#cb97-589" aria-hidden="true" tabindex="-1"></a>As can be seen from the graph above, the number of accidents in the United States during 2016-2021 is significantly less in the first half of the year than in the second half of the year, and the number of accidents peaks in December.</span>
<span id="cb97-590"><a href="#cb97-590" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-591"><a href="#cb97-591" aria-hidden="true" tabindex="-1"></a>Then let's look at hours.</span>
<span id="cb97-594"><a href="#cb97-594" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb97-595"><a href="#cb97-595" aria-hidden="true" tabindex="-1"></a><span class="co"># Number of car accidents by hour</span></span>
<span id="cb97-596"><a href="#cb97-596" aria-hidden="true" tabindex="-1"></a><span class="co"># create a vector of hour</span></span>
<span id="cb97-597"><a href="#cb97-597" aria-hidden="true" tabindex="-1"></a>hour_names <span class="ot">&lt;-</span> <span class="dv">0</span><span class="sc">:</span><span class="dv">23</span></span>
<span id="cb97-598"><a href="#cb97-598" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-599"><a href="#cb97-599" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data_time, <span class="fu">aes</span>(<span class="at">x=</span>hour, <span class="at">y=</span>hour_count)) <span class="sc">+</span></span>
<span id="cb97-600"><a href="#cb97-600" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>( <span class="at">color=</span><span class="st">"grey"</span>) <span class="sc">+</span></span>
<span id="cb97-601"><a href="#cb97-601" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">shape=</span><span class="dv">21</span>, <span class="at">color=</span><span class="st">"black"</span>, <span class="at">fill=</span><span class="st">"#69b3a2"</span>, <span class="at">size=</span><span class="dv">6</span>) <span class="sc">+</span></span>
<span id="cb97-602"><a href="#cb97-602" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> hour_names, <span class="at">labels =</span> hour_names) <span class="sc">+</span></span>
<span id="cb97-603"><a href="#cb97-603" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Hour"</span>, <span class="at">y =</span> <span class="st">"Number of Accidents"</span>) <span class="sc">+</span></span>
<span id="cb97-604"><a href="#cb97-604" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Number of Car Accidents by Hour"</span>) <span class="sc">+</span></span>
<span id="cb97-605"><a href="#cb97-605" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_ipsum</span>()</span>
<span id="cb97-606"><a href="#cb97-606" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb97-607"><a href="#cb97-607" aria-hidden="true" tabindex="-1"></a>From the above chart, it can be seen that the two peak periods of accidents occurring in a day are between 6-9 am and 2-6 pm, which is related to people's daily life, such as people will focus on commuting to and from work and school during these two periods.</span>
<span id="cb97-608"><a href="#cb97-608" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-609"><a href="#cb97-609" aria-hidden="true" tabindex="-1"></a><span class="fu">### Road condition factor</span></span>
<span id="cb97-610"><a href="#cb97-610" aria-hidden="true" tabindex="-1"></a>For the influence of environmental factors such as road conditions on the occurrence of accidents, we select several logical variables to explore and draw a stacked bar chart of environmental factors as follows:</span>
<span id="cb97-611"><a href="#cb97-611" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-612"><a href="#cb97-612" aria-hidden="true" tabindex="-1"></a>Select environmental factors.</span>
<span id="cb97-615"><a href="#cb97-615" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb97-616"><a href="#cb97-616" aria-hidden="true" tabindex="-1"></a>df_road <span class="ot">&lt;-</span> <span class="fu">subset</span>(data_del,<span class="at">select =</span> <span class="fu">c</span>(Amenity,Bump,Crossing,Give_Way,Junction,No_Exit,Railway,Roundabout,Station,Stop,Traffic_Calming,Traffic_Signal,Turning_Loop))</span>
<span id="cb97-617"><a href="#cb97-617" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb97-618"><a href="#cb97-618" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-619"><a href="#cb97-619" aria-hidden="true" tabindex="-1"></a>environment factors:</span>
<span id="cb97-622"><a href="#cb97-622" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb97-623"><a href="#cb97-623" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(df_road)</span>
<span id="cb97-624"><a href="#cb97-624" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb97-625"><a href="#cb97-625" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-626"><a href="#cb97-626" aria-hidden="true" tabindex="-1"></a>Use rbind() and colSums() to calculate the column sums of <span class="in">`True`</span> and <span class="in">`False`</span> then use cbind() to create new columns for later plot.</span>
<span id="cb97-629"><a href="#cb97-629" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb97-630"><a href="#cb97-630" aria-hidden="true" tabindex="-1"></a>df_road <span class="ot">&lt;-</span> <span class="fu">rbind</span>(<span class="fu">colSums</span>(df_road<span class="sc">==</span><span class="st">'True'</span>),<span class="fu">colSums</span>(df_road<span class="sc">==</span><span class="st">'False'</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb97-631"><a href="#cb97-631" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cbind</span>(<span class="at">Boolean=</span><span class="fu">c</span>(<span class="st">'True'</span>,<span class="st">'False'</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb97-632"><a href="#cb97-632" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data.frame</span>()</span>
<span id="cb97-633"><a href="#cb97-633" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb97-636"><a href="#cb97-636" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb97-637"><a href="#cb97-637" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df_road)</span>
<span id="cb97-638"><a href="#cb97-638" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb97-639"><a href="#cb97-639" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-640"><a href="#cb97-640" aria-hidden="true" tabindex="-1"></a>The melt() function is applied to df_road to reshape it from a wide format to a long format. </span>
<span id="cb97-643"><a href="#cb97-643" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb97-644"><a href="#cb97-644" aria-hidden="true" tabindex="-1"></a>data_env <span class="ot">&lt;-</span> <span class="fu">melt</span>(df_road,</span>
<span id="cb97-645"><a href="#cb97-645" aria-hidden="true" tabindex="-1"></a>                <span class="at">id.vars =</span> <span class="st">'Boolean'</span>,</span>
<span id="cb97-646"><a href="#cb97-646" aria-hidden="true" tabindex="-1"></a>                <span class="at">variable.name =</span> <span class="st">'Conditions'</span>,</span>
<span id="cb97-647"><a href="#cb97-647" aria-hidden="true" tabindex="-1"></a>                <span class="at">value.name =</span> <span class="st">'Accidents'</span></span>
<span id="cb97-648"><a href="#cb97-648" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb97-649"><a href="#cb97-649" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(data_env)  </span>
<span id="cb97-650"><a href="#cb97-650" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb97-651"><a href="#cb97-651" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-652"><a href="#cb97-652" aria-hidden="true" tabindex="-1"></a><span class="in">`Accidents`</span> is character type data, converted to numeric type</span>
<span id="cb97-655"><a href="#cb97-655" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb97-656"><a href="#cb97-656" aria-hidden="true" tabindex="-1"></a>data_env<span class="sc">$</span>Accidents <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(data_env<span class="sc">$</span>Accidents)</span>
<span id="cb97-657"><a href="#cb97-657" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb97-658"><a href="#cb97-658" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-659"><a href="#cb97-659" aria-hidden="true" tabindex="-1"></a>Calculate the percentage</span>
<span id="cb97-662"><a href="#cb97-662" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb97-663"><a href="#cb97-663" aria-hidden="true" tabindex="-1"></a>env_plot <span class="ot">&lt;-</span> <span class="fu">ddply</span>(data_env,<span class="st">'Conditions'</span>,transform,</span>
<span id="cb97-664"><a href="#cb97-664" aria-hidden="true" tabindex="-1"></a>            <span class="at">percent_num =</span> Accidents<span class="sc">/</span><span class="fu">sum</span>(Accidents)<span class="sc">*</span><span class="dv">100</span>)</span>
<span id="cb97-665"><a href="#cb97-665" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb97-668"><a href="#cb97-668" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb97-669"><a href="#cb97-669" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(env_plot,<span class="fu">aes</span>(<span class="at">x=</span>Conditions,<span class="at">y=</span>percent_num,<span class="at">fill=</span>Boolean)) <span class="sc">+</span></span>
<span id="cb97-670"><a href="#cb97-670" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">'identity'</span>,<span class="at">color=</span><span class="st">'black'</span>)<span class="sc">+</span> </span>
<span id="cb97-671"><a href="#cb97-671" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="dv">11</span>)<span class="sc">+</span></span>
<span id="cb97-672"><a href="#cb97-672" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label=</span><span class="fu">paste</span>(<span class="fu">round</span>(percent_num),<span class="st">"%"</span>),<span class="at">vjust=</span><span class="sc">-</span><span class="fl">0.3</span>))<span class="sc">+</span></span>
<span id="cb97-673"><a href="#cb97-673" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">'Environmental factors stacking bar chart'</span>)<span class="sc">+</span> </span>
<span id="cb97-674"><a href="#cb97-674" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb97-675"><a href="#cb97-675" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-676"><a href="#cb97-676" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb97-677"><a href="#cb97-677" aria-hidden="true" tabindex="-1"></a>As can be seen from the above chart, traffic accidents mainly occur at crossing,Junction,Traffic_Signal and other places. These places are often more complex road conditions, traffic flow and human flow are relatively large, prone to traffic accidents. Especially crossroads, four directions of the car gathered here, compared to the ordinary road, the probability of collision greatly increased.</span>
<span id="cb97-678"><a href="#cb97-678" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-679"><a href="#cb97-679" aria-hidden="true" tabindex="-1"></a><span class="fu">## Conclusion</span></span>
<span id="cb97-680"><a href="#cb97-680" aria-hidden="true" tabindex="-1"></a>The state with the highest number of traffic accidents in the United States is California, and the number of traffic accidents is increasing every year.</span>
<span id="cb97-681"><a href="#cb97-681" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-682"><a href="#cb97-682" aria-hidden="true" tabindex="-1"></a>The main factors that affect traffic accidents are weather, visibility, road conditions, and travel time. The better the weather, the low visibility and the worse the road conditions, the more frequent the accidents;</span>
<span id="cb97-683"><a href="#cb97-683" aria-hidden="true" tabindex="-1"></a>The travel time is related to people's life style. Therefore, the more developed the economy of each city, the more dense the traffic, the more accidents occur.</span>
<span id="cb97-684"><a href="#cb97-684" aria-hidden="true" tabindex="-1"></a>When we go out, we need to pay attention to the road conditions, pay attention to vehicles and pedestrians at intersections, turn signs, etc.</span>
<span id="cb97-685"><a href="#cb97-685" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-686"><a href="#cb97-686" aria-hidden="true" tabindex="-1"></a><span class="fu">## References</span></span>
<span id="cb97-687"><a href="#cb97-687" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-688"><a href="#cb97-688" aria-hidden="true" tabindex="-1"></a>https://rpubs.com/billantem/651903</span>
<span id="cb97-689"><a href="#cb97-689" aria-hidden="true" tabindex="-1"></a>https://towardsdatascience.com/usa-accidents-data-analysis-d130843cde02</span>
<span id="cb97-690"><a href="#cb97-690" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-691"><a href="#cb97-691" aria-hidden="true" tabindex="-1"></a>Moosavi, Sobhan, Mohammad Hossein Samavatian, Srinivasan Parthasarathy, and Rajiv Ramnath. “A Countrywide Traffic Accident Dataset.”, 2019.</span>
<span id="cb97-692"><a href="#cb97-692" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-693"><a href="#cb97-693" aria-hidden="true" tabindex="-1"></a>Moosavi, Sobhan, Mohammad Hossein Samavatian, Srinivasan Parthasarathy, Radu Teodorescu, and Rajiv Ramnath. "Accident Risk Prediction based on Heterogeneous Sparse Data: New Dataset and Insights." In proceedings of the 27th ACM SIGSPATIAL International Conference on Advances in Geographic Information Systems, ACM, 2019</span>
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->



</body></html>