<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Connor Landreth">
<meta name="dcterms.date" content="2023-05-18">
<meta name="description" content="Determinants of Sleep Efficiency">

<title>Final Project: Connor Landreth</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../images/DACSS_Round_Network.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

<link href="../site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet">
<script src="../site_libs/pagedtable-1.1/js/pagedtable.js"></script>


<link rel="stylesheet" href="styles.css">
<meta name="twitter:title" content="Final Project: Connor Landreth">
<meta name="twitter:description" content="Determinants of Sleep Efficiency">
<meta name="twitter:creator" content="@UMassDACSS">
<meta name="twitter:site" content="@UMassDACSS">
<meta name="twitter:card" content="summary">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a href="../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../images/UMass White Wordmark Horiz.png" alt="" class="navbar-logo">
    </a>
  </div>
            <div id="quarto-search" class="" title="true"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="https://github.com/DACSS" rel="" target="">
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../about.html" rel="" target="">
 <span class="menu-text">Contributors</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://umass.edu/sbs/dacss" rel="" target="">
 <span class="menu-text">DACSS</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/DACSS" rel="" target=""><i class="bi bi-github" role="img" aria-label="GitHub">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#data-set-introduction-background" id="toc-data-set-introduction-background" class="nav-link" data-scroll-target="#data-set-introduction-background">Data Set Introduction &amp; Background</a></li>
  <li><a href="#data-description" id="toc-data-description" class="nav-link" data-scroll-target="#data-description">Data Description</a></li>
  <li><a href="#questions-analysis-plan" id="toc-questions-analysis-plan" class="nav-link" data-scroll-target="#questions-analysis-plan">Questions &amp; Analysis Plan</a></li>
  <li><a href="#analysis-visualizations" id="toc-analysis-visualizations" class="nav-link" data-scroll-target="#analysis-visualizations">Analysis &amp; Visualizations</a>
  <ul class="collapse">
  <li><a href="#question-1-alcohol" id="toc-question-1-alcohol" class="nav-link" data-scroll-target="#question-1-alcohol">Question 1: Alcohol</a></li>
  </ul></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">Conclusion</a></li>
  <li><a href="#limitations" id="toc-limitations" class="nav-link" data-scroll-target="#limitations">Limitations</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">Final Project: Connor Landreth</h1><button type="button" class="btn code-tools-button" id="quarto-code-tools-source"><i class="bi"></i> Code</button></div></div>
  <div class="quarto-categories">
    <div class="quarto-category">Final_Project_Submission</div>
    <div class="quarto-category">Sleep_Efficiency</div>
    <div class="quarto-category">Connor Landreth</div>
  </div>
  </div>

<div>
  <div class="description">
    Determinants of Sleep Efficiency
  </div>
</div>


<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Connor Landreth </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">May 18, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">#load in relevant packages</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggthemes)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in library(ggthemes): there is no package called 'ggthemes'</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(summarytools)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in library(summarytools): there is no package called 'summarytools'</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in library(kableExtra): there is no package called 'kableExtra'</code></pre>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(reshape2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in library(reshape2): there is no package called 'reshape2'</code></pre>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(SmartEDA)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in library(SmartEDA): there is no package called 'SmartEDA'</code></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">echo =</span> <span class="cn">TRUE</span>, <span class="at">warning=</span><span class="cn">FALSE</span>, <span class="at">message=</span><span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>Today, there are a slew of sleep inhibitors that are hindering young individuals from obtaining adequate and or efficient sleep. Today, there is overwhelmingly easy access to alcohol, caffeine, and nicotine, and they have all evolved in their own ways to become very socially accepted. We will look at which of these negative variables, as well as a more positive variable (exercise), affect sleeping trends in young individuals, aged 21-35. The data set, which I will discuss in greater detail below, analyzes sleep efficiency and time spent sleeping. It also notes whether or not/how much alcohol and caffeine was consumed the prior day. Additionally, it looks at frequency of exercise, and whether or not the individual smokes. All this combined will enable us to draw insights on what some drivers of poor or strong sleep efficiency are. Doing so may curate actionable results for individuals looking to improve sleep efficiency and duration by taking into account the findings here. As someone who has slept poorly essentially forever, I am very interested to see what trends emerge.</p>
</section>
<section id="data-set-introduction-background" class="level1">
<h1>Data Set Introduction &amp; Background</h1>
<p>The data set contains information about a group of test subjects and their sleep patterns. Each test subject is identified by a unique “Subject ID” and their age and gender are also recorded. The “Bedtime” and “Wake-up time” features indicate when each subject goes to bed and wakes up each day, and the “Sleep duration” feature records the total amount of time each subject slept in hours. The “Sleep efficiency” feature is a measure of the proportion of time spent in bed that is actually spent asleep. The “REM sleep percentage”, “Deep sleep percentage”, and “Light sleep percentage” features indicate the amount of time each subject spent in each stage of sleep. The “Awakenings” feature records the number of times each subject wakes up during the night. Additionally, the data set includes information about each subject’s caffeine and alcohol consumption in the 24 hours prior to bedtime, their smoking status, and their exercise frequency. This will all be outlined in a descriptive table down below, with the addition of measurement scale.</p>
<p>The data set provided was collected as part of a study conducted in the UK by a research team from The University of Oxfordshire<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>. The study aimed to investigate the impact of lifestyle factors such as caffeine, alcohol, and exercise on sleep patterns and sleep quality. The research team recruited participants from the local community and collected data over a period of several months. The data was collected using a combination of self-reported surveys, actigraphy, and polysomnography which is a sleep monitoring technique. The data was then analyzed to understand the relationship between lifestyle factors and sleep patterns and to identify any potential areas for intervention to improve sleep.</p>
<p>I am interested in finding sleep inhibitors for young adults, so I’ll filter for ages from 21-35. I would like to look at those under 35 more generally, but I cannot go below 21 because nicotineand alcohol are not legally available for individuals under the age of 21. The results, therefor, could be erroneous without filtering out below 21. Also note, 35 was an abstract selection and where I chose the cut-off for “young adults”, although this is not an objectively true measure of “young”, of course.</p>
</section>
<section id="data-description" class="level1">
<h1>Data Description</h1>
<p>I am loading in the raw data, which is rather tidy to begin with. I will be altering the data to fit my specific analysis, but spending a bit more time analyzing and less cleaning. Any NAs will be dropped and disregarded, because there is a very slim percentage of NAs present in the dataset, so the results will not be impacted from disregarding them.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">getwd</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "/home/runner/work/601_Spring_2023/601_Spring_2023/posts"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Set wd to folder with data</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">"C:/Github Projects/601_Spring_2023/posts/ConnorLandreth_FinalProjectData"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in setwd("C:/Github Projects/601_Spring_2023/posts/ConnorLandreth_FinalProjectData"): cannot change working directory</code></pre>
</div>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co">#read in raw sleep data</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>sleep <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"Sleep_Efficiency.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in file(file, "rt"): cannot open the connection</code></pre>
</div>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co">#View(sleep)</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="co">#head(sleep)</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="co">#View Dimensions of dataframe </span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(sleep)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 20  3</code></pre>
</div>
</div>
<p>Dimensions on the raw sleep data include 452 observations over 15 variables</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co">#evaluate unique values and summarize to evaluate number of respondents, age range, and gender options</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(<span class="fu">unique</span>(sleep<span class="sc">$</span>ID))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 10</code></pre>
</div>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(<span class="fu">unique</span>(sleep<span class="sc">$</span>Age))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(<span class="fu">unique</span>(sleep<span class="sc">$</span>Gender))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co">#I am going to remove bedtime and wakeup time, as the information is irrelevant for this analysis and is encapsulated in the sleep duration column. Then I will recode variables to make them numeric to summarize. </span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="co"># delete columns 4 &amp; 5</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>sleep <span class="ot">&lt;-</span> sleep[, <span class="sc">-</span><span class="fu">c</span>(<span class="dv">4</span><span class="sc">:</span><span class="dv">5</span>)] </span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a><span class="co">#Make gender and smoking status binary to get breakdown in summary stats</span></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>sleep<span class="sc">$</span>Gender[sleep<span class="sc">$</span>Gender<span class="sc">==</span><span class="st">"Male"</span>] <span class="ot">&lt;-</span> <span class="st">"0"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in `$&lt;-.data.frame`(`*tmp*`, Gender, value = character(0)): replacement has 0 rows, data has 20</code></pre>
</div>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>sleep<span class="sc">$</span>Gender[sleep<span class="sc">$</span>Gender<span class="sc">==</span><span class="st">"Female"</span>] <span class="ot">&lt;-</span> <span class="st">"1"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in `$&lt;-.data.frame`(`*tmp*`, Gender, value = character(0)): replacement has 0 rows, data has 20</code></pre>
</div>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>sleep<span class="sc">$</span>Smoking.status[sleep<span class="sc">$</span>Smoking.status<span class="sc">==</span><span class="st">"No"</span>] <span class="ot">&lt;-</span> <span class="st">"0"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in `$&lt;-.data.frame`(`*tmp*`, Smoking.status, value = character(0)): replacement has 0 rows, data has 20</code></pre>
</div>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>sleep<span class="sc">$</span>Smoking.status[sleep<span class="sc">$</span>Smoking.status<span class="sc">==</span><span class="st">"Yes"</span>] <span class="ot">&lt;-</span> <span class="st">"1"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in `$&lt;-.data.frame`(`*tmp*`, Smoking.status, value = character(0)): replacement has 0 rows, data has 20</code></pre>
</div>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co">#use summarytools to view summary of each variable (More aesthetically pleasing/organized than base R)</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>summarytools<span class="sc">::</span><span class="fu">dfSummary</span>(sleep)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in loadNamespace(x): there is no package called 'summarytools'</code></pre>
</div>
</div>
<p>There are 452 unique IDs, so each row is an individual. Ages 9-69 are included across the 452 subjects, and 2 genders. There are four more men than women, but very close to an even split.</p>
<p>Some important notes to summarize variables, the mean age here is just over 40, so we will filter to look solely at young adults later. Mean sleep duration is about 7.5 hours.</p>
<p>Below, I will present the relevant variables in a more consumable format using kable that will break down these variables by meaning and measurement . I’ll do this by creating a data frame.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data.frame</span>(df, <span class="at">stringsAsFactors =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in as.data.frame.default(x[[i]], optional = TRUE): cannot coerce class '"function"' to a data.frame</code></pre>
</div>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create variables</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>Variables <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'Age'</span>, <span class="st">'Gender'</span>, <span class="st">'Sleep Duration'</span>, <span class="st">'Sleep Efficiency'</span>, <span class="st">'REM Sleep percentage'</span>, <span class="st">'Deep Sleep Percentage'</span>, <span class="st">'Light Sleep Percentage'</span>, <span class="st">'Awakenings'</span>, <span class="st">'Caffeine Consumption'</span>, <span class="st">'Alcohol Consumption'</span>, <span class="st">'Smoking Status'</span>, <span class="st">'Exercise Frequency'</span>)</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Add meaning for each variable</span></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>Meaning <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'Age of the test subject'</span>, <span class="st">'Biological gender of subject'</span>, <span class="st">'the total amount of time the test subject slept (in hours)'</span>, <span class="st">'Percentage of time in bed spent sleeping'</span>, <span class="st">'Length of sleep spent in REM portion of sleep cycle'</span>, <span class="st">'Length of time spent in the deep sleep portion of the sleep cycle'</span>, <span class="st">'Length of time spent in the light sleep portion of the sleep cycle'</span>, <span class="st">'the number of times the test subject wakes up during the night'</span>, <span class="st">'the amount of caffeine consumed in the 24 hours prior to bedtime (in mg)'</span>, <span class="st">'the amount of alcohol consumed in the 24 hours prior to bedtime (in Standard Drinks)'</span>, <span class="st">' whether or not the test subject smokes'</span>, <span class="st">' the number of times the test subject exercises each week'</span>)</span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Add measurement scale for each variable </span></span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>Measurement.Scale <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'Continuous'</span>, <span class="st">'Binary(male and female)'</span>, <span class="st">'Continuous'</span>,<span class="st">'Continuous'</span>, <span class="st">'Continuous'</span>,<span class="st">'Continuous'</span>, <span class="st">'Continuous'</span>, <span class="st">'Discrete'</span>, <span class="st">'Continuous'</span>,<span class="st">'Continuous'</span>, <span class="st">'Binary(yes or no)'</span>, <span class="st">'Discrete'</span>)</span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Join the variables to create a data frame</span></span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a>Index <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(Variables, Meaning, Measurement.Scale)</span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a><span class="fu">View</span>(Index)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in .External2(C_dataviewer, x, title): unable to start data viewer</code></pre>
</div>
</div>
<p>Finally, we will use our new data frame to create another table with all the new information on each variable.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>Index <span class="sc">%&gt;%</span> </span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(Variables, <span class="at">format =</span> <span class="st">"html"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>() <span class="sc">%&gt;%</span></span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">column_spec</span>(<span class="dv">2</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a> <span class="co"># column_spec(1, background = "lightblue") %&gt;% </span></span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">row_spec</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">12</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">row_spec</span>(<span class="dv">0</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>, <span class="at">font_size =</span> <span class="dv">16</span>, <span class="at">color =</span> <span class="st">"black"</span>, </span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a>           <span class="at">background =</span> <span class="st">"plum"</span>) <span class="co">#%&gt;%</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in row_spec(., 0, bold = TRUE, font_size = 16, color = "black", : could not find function "row_spec"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>  <span class="co">#row_spec(1:10, background = "lightpink1")</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="questions-analysis-plan" class="level1">
<h1>Questions &amp; Analysis Plan</h1>
<p>I want to answer two main questions, one on a specific covariate, and one more broad:</p>
<ol type="1">
<li>Does moderate alcohol consumption (2-3 standard drinks) improve sleep efficiency in young adults?</li>
<li>What are the main inhibitors of sleep efficiency in young adults?</li>
</ol>
<p>Next, I’ll pick from the desired variables above and omit those that won’t lend to the analysis. I am removing sleep and wake time because those give me the sleep duration, and that is already a variable. Also, ID won’t be necessary, nor will the rem, light, or any other sleep factor beyond duration and efficiency.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co">#use select and filter to omit undesirable columns and hone in on ages 21 to 35. Again, to reiterate, I want to look at young adults, but I cannot go below 21 because smoking and alcohol is not legally available for individuals under the age of 21. The results, therefor, could be erroneous without filtering out below 21. </span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>n_sleep <span class="ot">&lt;-</span> sleep <span class="sc">%&gt;%</span> </span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Age, Gender, Sleep.duration, Sleep.efficiency, Awakenings, Caffeine.consumption, Alcohol.consumption, Smoking.status, Exercise.frequency) <span class="sc">%&gt;%</span> </span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Age <span class="sc">&lt;=</span> <span class="st">"35"</span><span class="sc">&amp;</span> Age<span class="sc">&gt;=</span><span class="st">"21"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in `select()`:
! Can't subset columns that don't exist.
✖ Column `Age` doesn't exist.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co">#check</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(n_sleep)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in eval(expr, envir, enclos): object 'n_sleep' not found</code></pre>
</div>
</div>
<p>That mutation left me with 155 observations and nine nine variables, which is a bit low, but enough to figure out what causes young adults to miss out on sleep. Let us look at some histograms to help visualize averages and trends in the data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Building a histogram of caffeine consumption to evaluate dispersion of consumption</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>hist_caffeine<span class="ot">&lt;-</span><span class="fu">ggplot</span>(n_sleep, <span class="fu">aes</span>(<span class="at">x=</span> Caffeine.consumption)) <span class="sc">+</span></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>() <span class="sc">+</span></span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Histogram of Caffeine Consumption"</span>, <span class="at">x =</span> <span class="st">'Caffeine Consumption (mg.)'</span>, <span class="at">y=</span><span class="st">"Count"</span>) <span class="sc">+</span></span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a><span class="fu">theme_economist</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in eval(expr, envir, enclos): object 'n_sleep' not found</code></pre>
</div>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>hist_caffeine</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in eval(expr, envir, enclos): object 'hist_caffeine' not found</code></pre>
</div>
</div>
<p>In this filtered out sample of only people 21-35, caffeine consumption is concentrated on the lower end of the spectrum, with nearly all individuals consuming under 100mg for the day, with many consuming zero.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Building a histogram of alcohol consumption to evaluate dispersion of consumption</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>hist_alcohol<span class="ot">&lt;-</span><span class="fu">ggplot</span>(n_sleep, <span class="fu">aes</span>(<span class="at">x=</span> Alcohol.consumption)) <span class="sc">+</span></span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>() <span class="sc">+</span></span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Histogram of Alcohol Consumption"</span>, <span class="at">x =</span> <span class="st">'Alcohol Consumption (Standard Drinks)'</span>, <span class="at">y=</span><span class="st">"Count"</span>) <span class="sc">+</span></span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a><span class="fu">theme_economist</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in eval(expr, envir, enclos): object 'n_sleep' not found</code></pre>
</div>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>hist_alcohol</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in eval(expr, envir, enclos): object 'hist_alcohol' not found</code></pre>
</div>
</div>
<p>Alcohol consumption is on the lesser side, with the mass majority consuming little to no alcohol. Many are between zero and one standard drink for the day.</p>
<p>Down below as we look at smoking, I will also mutate those “yes” and “no” responses to 0 and 1 to subset more easily moving forward as I did above for the summary stats.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Not building a histogram for smoking because it is clear for in the summary statistics, as it's binary.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The majority of young people do not smoke, while roughly sixty people 35 and under do engage in smoking.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Building a histogram of alcohol consumption to evaluate dispersion of excersize frequency</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>hist_exercise<span class="ot">&lt;-</span><span class="fu">ggplot</span>(n_sleep, <span class="fu">aes</span>(<span class="at">x=</span> Exercise.frequency)) <span class="sc">+</span></span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>() <span class="sc">+</span></span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Histogram of Exercise Frequency"</span>, <span class="at">x =</span> <span class="st">'Exercise Frequency'</span>, <span class="at">y=</span><span class="st">"Count"</span>) <span class="sc">+</span></span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a><span class="fu">theme_economist</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in eval(expr, envir, enclos): object 'n_sleep' not found</code></pre>
</div>
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>hist_exercise</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in eval(expr, envir, enclos): object 'hist_exercise' not found</code></pre>
</div>
</div>
<p>For exercise, most work out 0-1 times per week, with a decreasing trend from 1 to 5 times per week.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Building a histogram of alcohol consumption to evaluate dispersion of sleep duration</span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a>hist_sleep_duration<span class="ot">&lt;-</span><span class="fu">ggplot</span>(n_sleep, <span class="fu">aes</span>(<span class="at">x=</span> Sleep.duration)) <span class="sc">+</span></span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>() <span class="sc">+</span></span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Histogram of Sleep Duration"</span>, <span class="at">x =</span> <span class="st">'Sleep Duration (Hours)'</span>, <span class="at">y=</span><span class="st">"Count"</span>) <span class="sc">+</span></span>
<span id="cb60-6"><a href="#cb60-6" aria-hidden="true" tabindex="-1"></a><span class="fu">theme_economist</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in eval(expr, envir, enclos): object 'n_sleep' not found</code></pre>
</div>
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>hist_sleep_duration</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in eval(expr, envir, enclos): object 'hist_sleep_duration' not found</code></pre>
</div>
</div>
<p>Sleep duration sees a slightly more normal distribution with it’s mean, again, falling right around 7.5 hours a night.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Building a histogram of alcohol consumption to evaluate dispersion of sleep efficiency</span></span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a>hist_sleep_efficiency<span class="ot">&lt;-</span><span class="fu">ggplot</span>(n_sleep, <span class="fu">aes</span>(<span class="at">x=</span> Sleep.efficiency)) <span class="sc">+</span></span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>() <span class="sc">+</span></span>
<span id="cb64-5"><a href="#cb64-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Histogram of Sleep Efficiency"</span>, <span class="at">x =</span> <span class="st">'Sleep Efficiency'</span>, <span class="at">y=</span><span class="st">"Count"</span>) <span class="sc">+</span></span>
<span id="cb64-6"><a href="#cb64-6" aria-hidden="true" tabindex="-1"></a><span class="fu">theme_economist</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in eval(expr, envir, enclos): object 'n_sleep' not found</code></pre>
</div>
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>hist_sleep_efficiency</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in eval(expr, envir, enclos): object 'hist_sleep_efficiency' not found</code></pre>
</div>
</div>
<p>The distribution of sleep efficiency is a bit left skewed, seeing sleep efficiency rated all across the board, but a bit more concentrated on the efficient end. There is a spike at 0.5, signifying a large sum of individuals with inefficient sleep.</p>
<p>Overall, based on the trends I can already see emerging and the questions I hope to answer, my plan for analysis, more specifically, is to use <strong>geom_point/jitter</strong> to look at sleep efficiency by gender. I will facet wrap by gender in the visualizations and look at the effect alcohol, caffeine, smoking, and exercise has on sleep efficiency for each gender of the young adult subset. In addition, I will compare sleep efficiency of non-smokers vs smokers using a set of <strong>geom_boxplot</strong>, again, facet wrapped by gender.</p>
</section>
<section id="analysis-visualizations" class="level1">
<h1>Analysis &amp; Visualizations</h1>
<section id="question-1-alcohol" class="level3">
<h3 class="anchored" data-anchor-id="question-1-alcohol">Question 1: Alcohol</h3>
<p>I will look at the comparison between high sleep efficiency/duration and alcohol/caffeine/exercise/smoking. I’ll start by filtering sleep efficiency to be greater than the mean and look at consumption levels for those high efficiency sleepers.</p>
<div class="tabset-margin-container"></div><div id="Alcohol" class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"></ul>
<div id="Alcohol" class="tab-content">

</div>
</div>
<p>Now we will look at the other variables below.</p>
<div class="tabset-margin-container"></div><div id="AllOtherVariables" class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true">Question 2: Other Variables</a></li></ul>
<div id="AllOtherVariables" class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<p>This section will answer my second question, ‘What are the main inhibitors of sleep efficiency?’</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>n_sleep <span class="sc">%&gt;%</span> </span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(Sleep.efficiency <span class="sc">&gt;=</span> <span class="st">".7889"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(Caffeine.consumption,Sleep.efficiency, <span class="at">color=</span>Gender))<span class="sc">+</span></span>
<span id="cb68-4"><a href="#cb68-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">size=</span><span class="dv">2</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>)<span class="sc">+</span></span>
<span id="cb68-5"><a href="#cb68-5" aria-hidden="true" tabindex="-1"></a>  <span class="co">#width = x</span></span>
<span id="cb68-6"><a href="#cb68-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>()<span class="sc">+</span></span>
<span id="cb68-7"><a href="#cb68-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>Gender)<span class="sc">+</span></span>
<span id="cb68-8"><a href="#cb68-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x=</span><span class="st">'Caffeine Consumption'</span>, <span class="at">y=</span><span class="st">'Sleep Efficiency'</span>) <span class="sc">+</span></span>
<span id="cb68-9"><a href="#cb68-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_linedraw</span>()<span class="sc">+</span></span>
<span id="cb68-10"><a href="#cb68-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">"Caffeine Consumption &amp; Sleep Efficiency by Gender"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in eval(expr, envir, enclos): object 'n_sleep' not found</code></pre>
</div>
</div>
<p>These are interesting results. For females, the most caffeine any of these high-efficiency-sleeping women consume a day is 75mg, and most consume less. For the few young women who do consume 75mg, their average sleep efficiency is the highest. I would be inclined to surmise that caffeine effects them little, or they drink it only in the early morning.</p>
<p>For men, most consume none, but oddly, as consumption increases, so too does sleep efficiency. Again though, much likely has to do with time of day caffeine is consumed, so I am inclined to once again believe these individuals aren’t effected much by caffeine, so are able to consume more. Overall though, all of these high-efficiency-sleepers consume a reasonable amount, and sleep very well. Thirdly, we’ll look at exercise. How often are these efficient sleepers exercising?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="co">#since we mutated gender to be binary earlier, we will revert back to the original names of 'male', 'female' for the visualization. </span></span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a><span class="co">#n_sleep$Gender[sleep$Gender=="0"] &lt;- "Male"</span></span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a><span class="co">#n_sleep$Gender[sleep$Gender=="1"] &lt;- "Female"</span></span>
<span id="cb70-4"><a href="#cb70-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-5"><a href="#cb70-5" aria-hidden="true" tabindex="-1"></a>n_sleep <span class="sc">%&gt;%</span> </span>
<span id="cb70-6"><a href="#cb70-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(Exercise.frequency,Sleep.efficiency, <span class="at">color=</span>Gender))<span class="sc">+</span></span>
<span id="cb70-7"><a href="#cb70-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">size=</span><span class="dv">2</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>)<span class="sc">+</span></span>
<span id="cb70-8"><a href="#cb70-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>()<span class="sc">+</span></span>
<span id="cb70-9"><a href="#cb70-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>Gender)<span class="sc">+</span></span>
<span id="cb70-10"><a href="#cb70-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x=</span><span class="st">'Exercise Frequency'</span>, <span class="at">y=</span><span class="st">'Sleep Efficiency'</span>) <span class="sc">+</span></span>
<span id="cb70-11"><a href="#cb70-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_linedraw</span>()<span class="sc">+</span></span>
<span id="cb70-12"><a href="#cb70-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">"Exercise Frequency &amp; Sleep Efficiency by Gender"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in eval(expr, envir, enclos): object 'n_sleep' not found</code></pre>
</div>
</div>
<p>Of this subset of male sleepers, the least efficient are those who do no exercise at all. For women, the least effiicient appear to exercise onece per week and most efficient female sleepers appear to exercise between 3-4 times per week. For men, The maximum amount of days these efficient sleepers exercised was 4 days. 4 days also led to maximum sleep efficiency at over 0.9. So, it appears for both men an women, although they follow different paths to get there, four days of exercise yields maximum sleep efficiency.</p>
<p>Lastly, I will take a look at smoking category. First, I will use n_sleep data set to look at all efficiency, then filter for smoking and see if the trends change. I would imagine those who smoke wake up more often and sleep less efficiently because their body is craving nicotine/. We will look at two sets of boxplots. First is derived from the original raw data and includes all 452 subjects. It splits up by gender again and looks at smokers vs.&nbsp;non-smokers sleep efficiency.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="co">#For the binary smoking, boxplots will help us see the mean sleep efficiency between smokers and non-smokers mroe easily. </span></span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a>sleep <span class="sc">%&gt;%</span> </span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(Smoking.status,Sleep.efficiency, <span class="at">color=</span>Gender, <span class="at">fill =</span> Gender))<span class="sc">+</span></span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">size=</span><span class="dv">2</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>)<span class="sc">+</span></span>
<span id="cb72-5"><a href="#cb72-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>()<span class="sc">+</span></span>
<span id="cb72-6"><a href="#cb72-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>Gender)<span class="sc">+</span></span>
<span id="cb72-7"><a href="#cb72-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x=</span><span class="st">'Smoking Status'</span>, <span class="at">y=</span><span class="st">'Sleep Efficiency'</span>) <span class="sc">+</span></span>
<span id="cb72-8"><a href="#cb72-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_linedraw</span>()<span class="sc">+</span></span>
<span id="cb72-9"><a href="#cb72-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">"Smoking Status &amp; Sleep Efficiency by Gender (Whole Data Set)"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in `combine_vars()`:
! At least one layer must contain all faceting variables: `Gender`
✖ Plot is missing `Gender`
✖ Layer 1 is missing `Gender`
✖ Layer 2 is missing `Gender`</code></pre>
</div>
</div>
<p>The following set of boxplots references n_sleep, and therefor specifically 21-35 year old individuals.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>n_sleep <span class="sc">%&gt;%</span> </span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(Smoking.status,Sleep.efficiency, <span class="at">color=</span>Gender, <span class="at">fill =</span> Gender))<span class="sc">+</span></span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">size=</span><span class="dv">2</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>)<span class="sc">+</span></span>
<span id="cb74-4"><a href="#cb74-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>()<span class="sc">+</span></span>
<span id="cb74-5"><a href="#cb74-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>Gender)<span class="sc">+</span></span>
<span id="cb74-6"><a href="#cb74-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x=</span><span class="st">'Smoking Status'</span>, <span class="at">y=</span><span class="st">'Sleep Efficiency'</span>) <span class="sc">+</span></span>
<span id="cb74-7"><a href="#cb74-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_linedraw</span>()<span class="sc">+</span></span>
<span id="cb74-8"><a href="#cb74-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">"Smoking Status &amp; Sleep Efficiency by Gender (21-35)"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in eval(expr, envir, enclos): object 'n_sleep' not found</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="conclusion" class="level1">
<h1>Conclusion</h1>
<p>In general, young adults (aged 21-35) saw enhanced sleep efficiency (proportion of time spent in bed actually spent asleep) when they had higher exercise rates and lower alcohol consumption (with the male 2-3 drink caveat). The genesis of this analysis is that exercise for anyone (male or female) can promote higher sleep efficiency, that amount of exercise will likely vary from person to person. For young men, smoking is a major sleep inhibitor. For young women, alcohol appears to be the greatest sleep inhibitor. The remaining paragraphs blow will draw further conclusions from the analysis for each specific variable.</p>
<p>The fact 2-3 drinks leads to slightly better sleep in men is not a promotion or sign to go drink alcohol every night. This evidence actually suggests that while alcohol may help you get to sleep quicker, it often leads to reduced sleep quality.<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a> For women and men both, zero drinks saw optimal sleep quality. For women, every additional drink led to lower and lower quality sleep, with a very slight increase in quality around 5 drinks. It’s probable that 5 drinks would lead a woman to a rather high level of intoxication and result in a much deeper sleep and the inability to even stay awake once their head hits the pillow. Considering our definition of sleep efficiency (time in bed spent sleeping), the slight increase makes sense.</p>
<p>Next, for caffeine, this data is not the most useful because the mass majority of men consume zero caffeine and they have the worst sleep quality. Then we see an increase in sleep efficiency the more caffeine men consume. Again, I think if the sample size were larger, we’d see a different trend emerge, and that the high caffeine consumers are more immune to caffeine or they consume solely in the early morning, so their sleep is hardly affected. Similarly, the female graph shows odd results. No women consumed more than 75mg of caffeine. 0mg and 75mg show similar sleep quality with a substantial dip at 50mg. Similar to the men, the heavier consumers are in the minority, so the results may be skewed.</p>
<p>For smokers, we looked at the sample for all smokers/non-smokers and smokers/non-smokers aged 21-35. For the entire data set, non-smoking females saw approximately 13% higher sleep efficiency than female smokers, while the mean benefit for non-smoking men was negligible at only ~1-2%. For those aged 21-35, women saw a less substantial change, with non-smoking females experiencing roughly a 5% higher sleep efficiency rate. Meanwhile, men saw a glaring difference, with non-smoking men aged 21-35 operating at 83-84% mean sleep efficiency and smoking men of the same age group seeing a mean of under 60%, which is far worse off than non-smokers. This means that smoking is a massive inhibitor of sleep efficiency in young men. Smoker vs non-smoker sleep efficiency for women tightened with the age filter, but vastly widened for men.</p>
<p>Lastly, for exercise, there is a sporadic/widespread sleep efficiency recorded for all days listed. For example, men who worked out just one day showed superior sleep efficiency to men who worked out two days, then the trend decreased further at three days before increasing greatly again at four days. Despite this tumultuous journey across the graph plane, the line still tells us that from 1-4 days of working out, sleep efficiency was better for those individuals than it was for those who didn’t work out at all. So, we can’t say how many days you should work out, but we can say you should try a different mix of days and be cognizant of your sleep quality week to week. One can likely find the optimal number of weekly workouts with this strategy, and the answer does not appear to be zero.</p>
</section>
<section id="limitations" class="level1">
<h1>Limitations</h1>
<p>The evidence against caffeine was inconclusive, but many caffeine consumers were high-efficiency sleepers. Overall, a larger sample could have led to a spread with greater validity, but I believe many of these trends (alcohol, smoking, excessive) would likely be perpetuated with a greater sample.</p>
<p>Additionally, we know people consumed alcohol and caffeine, but there is no data that tells us when they consumed it. That is a huge gap because if one drank 5 beers at between 11pm-12am, they’d probably pass out and have high sleep efficiency vs someone who had 4 beers from the hours of 1pm-10pm. Similarly for caffeine, someone drinking 75mg at 8am will not sleep at the same rate of efficiency as someone who consumed 75mg at 10pm then proceeded to try try to sleep a couple hours later. The inclusion of this data could certainly lend to a more precise analysis.</p>
<section id="references" class="level4">
<h4 class="anchored" data-anchor-id="references">References</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="fu">citation</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>To cite R in publications use:

  R Core Team (2023). _R: A Language and Environment for Statistical
  Computing_. R Foundation for Statistical Computing, Vienna, Austria.
  &lt;https://www.R-project.org/&gt;.

A BibTeX entry for LaTeX users is

  @Manual{,
    title = {R: A Language and Environment for Statistical Computing},
    author = {{R Core Team}},
    organization = {R Foundation for Statistical Computing},
    address = {Vienna, Austria},
    year = {2023},
    url = {https://www.R-project.org/},
  }

We have invested a lot of time and effort in creating R, please cite it
when using it for data analysis. See also 'citation("pkgname")' for
citing R packages.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="fu">citation</span>(<span class="st">"tidyverse"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>To cite package 'tidyverse' in publications use:

  Wickham H, Averick M, Bryan J, Chang W, McGowan LD, François R,
  Grolemund G, Hayes A, Henry L, Hester J, Kuhn M, Pedersen TL, Miller
  E, Bache SM, Müller K, Ooms J, Robinson D, Seidel DP, Spinu V,
  Takahashi K, Vaughan D, Wilke C, Woo K, Yutani H (2019). "Welcome to
  the tidyverse." _Journal of Open Source Software_, *4*(43), 1686.
  doi:10.21105/joss.01686 &lt;https://doi.org/10.21105/joss.01686&gt;.

A BibTeX entry for LaTeX users is

  @Article{,
    title = {Welcome to the {tidyverse}},
    author = {Hadley Wickham and Mara Averick and Jennifer Bryan and Winston Chang and Lucy D'Agostino McGowan and Romain François and Garrett Grolemund and Alex Hayes and Lionel Henry and Jim Hester and Max Kuhn and Thomas Lin Pedersen and Evan Miller and Stephan Milton Bache and Kirill Müller and Jeroen Ooms and David Robinson and Dana Paige Seidel and Vitalie Spinu and Kohske Takahashi and Davis Vaughan and Claus Wilke and Kara Woo and Hiroaki Yutani},
    year = {2019},
    journal = {Journal of Open Source Software},
    volume = {4},
    number = {43},
    pages = {1686},
    doi = {10.21105/joss.01686},
  }</code></pre>
</div>
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="fu">RStudio.Version</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in RStudio.Version(): could not find function "RStudio.Version"</code></pre>
</div>
</div>


<!-- -->

</section>
</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>“Sleep Efficiency Dataset.” University of Oxfordshire , 14 Jan. 2023<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>[1] Roehrs, T. and Roth, T., (2001) Sleep, sleepiness, and alcohol use. Alcohol research and Health, 25(2), pp.101-109.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<script src="https://giscus.app/client.js" data-repo="DACSS/601_Spring_2023" data-repo-id="R_kgDOI4JcJA" data-category="Announcements" data-category-id="" data-mapping="title" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="light" data-lang="en" crossorigin="anonymous" async="">
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb82" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "Final Project: Connor Landreth"</span></span>
<span id="cb82-3"><a href="#cb82-3" aria-hidden="true" tabindex="-1"></a><span class="an">author:</span><span class="co"> "Connor Landreth"</span></span>
<span id="cb82-4"><a href="#cb82-4" aria-hidden="true" tabindex="-1"></a><span class="an">description:</span><span class="co"> "Determinants of Sleep Efficiency"</span></span>
<span id="cb82-5"><a href="#cb82-5" aria-hidden="true" tabindex="-1"></a><span class="an">date:</span><span class="co"> "05-18-2023"</span></span>
<span id="cb82-6"><a href="#cb82-6" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span></span>
<span id="cb82-7"><a href="#cb82-7" aria-hidden="true" tabindex="-1"></a><span class="co">  html:</span></span>
<span id="cb82-8"><a href="#cb82-8" aria-hidden="true" tabindex="-1"></a><span class="co">    df-print: paged</span></span>
<span id="cb82-9"><a href="#cb82-9" aria-hidden="true" tabindex="-1"></a><span class="co">    toc: true</span></span>
<span id="cb82-10"><a href="#cb82-10" aria-hidden="true" tabindex="-1"></a><span class="co">    code-copy: true</span></span>
<span id="cb82-11"><a href="#cb82-11" aria-hidden="true" tabindex="-1"></a><span class="co">    code-tools: true</span></span>
<span id="cb82-12"><a href="#cb82-12" aria-hidden="true" tabindex="-1"></a><span class="co">    css: styles.css</span></span>
<span id="cb82-13"><a href="#cb82-13" aria-hidden="true" tabindex="-1"></a><span class="an">categories:</span></span>
<span id="cb82-14"><a href="#cb82-14" aria-hidden="true" tabindex="-1"></a><span class="co">  - Final_Project_Submission</span></span>
<span id="cb82-15"><a href="#cb82-15" aria-hidden="true" tabindex="-1"></a><span class="co">  - Sleep_Efficiency</span></span>
<span id="cb82-16"><a href="#cb82-16" aria-hidden="true" tabindex="-1"></a><span class="co">  - Connor Landreth</span></span>
<span id="cb82-17"><a href="#cb82-17" aria-hidden="true" tabindex="-1"></a><span class="an">editor_options:</span><span class="co"> </span></span>
<span id="cb82-18"><a href="#cb82-18" aria-hidden="true" tabindex="-1"></a><span class="co">  chunk_output_type: console</span></span>
<span id="cb82-19"><a href="#cb82-19" aria-hidden="true" tabindex="-1"></a><span class="an">editor:</span><span class="co"> </span></span>
<span id="cb82-20"><a href="#cb82-20" aria-hidden="true" tabindex="-1"></a><span class="co">  markdown: </span></span>
<span id="cb82-21"><a href="#cb82-21" aria-hidden="true" tabindex="-1"></a><span class="co">    wrap: 72</span></span>
<span id="cb82-22"><a href="#cb82-22" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb82-23"><a href="#cb82-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-24"><a href="#cb82-24" aria-hidden="true" tabindex="-1"></a><span class="in">```{r setup}</span></span>
<span id="cb82-25"><a href="#cb82-25" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: setup</span></span>
<span id="cb82-26"><a href="#cb82-26" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb82-27"><a href="#cb82-27" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb82-28"><a href="#cb82-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-29"><a href="#cb82-29" aria-hidden="true" tabindex="-1"></a><span class="co">#load in relevant packages</span></span>
<span id="cb82-30"><a href="#cb82-30" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb82-31"><a href="#cb82-31" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb82-32"><a href="#cb82-32" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggthemes)</span>
<span id="cb82-33"><a href="#cb82-33" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(summarytools)</span>
<span id="cb82-34"><a href="#cb82-34" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra)</span>
<span id="cb82-35"><a href="#cb82-35" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb82-36"><a href="#cb82-36" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(reshape2)</span>
<span id="cb82-37"><a href="#cb82-37" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(SmartEDA)</span>
<span id="cb82-38"><a href="#cb82-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-39"><a href="#cb82-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-40"><a href="#cb82-40" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">echo =</span> <span class="cn">TRUE</span>, <span class="at">warning=</span><span class="cn">FALSE</span>, <span class="at">message=</span><span class="cn">FALSE</span>)</span>
<span id="cb82-41"><a href="#cb82-41" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb82-42"><a href="#cb82-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-43"><a href="#cb82-43" aria-hidden="true" tabindex="-1"></a><span class="fu"># Introduction</span></span>
<span id="cb82-44"><a href="#cb82-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-45"><a href="#cb82-45" aria-hidden="true" tabindex="-1"></a>Today, there are a slew of sleep inhibitors that are hindering young</span>
<span id="cb82-46"><a href="#cb82-46" aria-hidden="true" tabindex="-1"></a>individuals from obtaining adequate and or efficient sleep. Today, there</span>
<span id="cb82-47"><a href="#cb82-47" aria-hidden="true" tabindex="-1"></a>is overwhelmingly easy access to alcohol, caffeine, and nicotine, and</span>
<span id="cb82-48"><a href="#cb82-48" aria-hidden="true" tabindex="-1"></a>they have all evolved in their own ways to become very socially</span>
<span id="cb82-49"><a href="#cb82-49" aria-hidden="true" tabindex="-1"></a>accepted. We will look at which of these negative variables, as well as</span>
<span id="cb82-50"><a href="#cb82-50" aria-hidden="true" tabindex="-1"></a>a more positive variable (exercise), affect sleeping trends in young</span>
<span id="cb82-51"><a href="#cb82-51" aria-hidden="true" tabindex="-1"></a>individuals, aged 21-35. The data set, which I will discuss in greater</span>
<span id="cb82-52"><a href="#cb82-52" aria-hidden="true" tabindex="-1"></a>detail below, analyzes sleep efficiency and time spent sleeping. It also</span>
<span id="cb82-53"><a href="#cb82-53" aria-hidden="true" tabindex="-1"></a>notes whether or not/how much alcohol and caffeine was consumed the</span>
<span id="cb82-54"><a href="#cb82-54" aria-hidden="true" tabindex="-1"></a>prior day. Additionally, it looks at frequency of exercise, and whether</span>
<span id="cb82-55"><a href="#cb82-55" aria-hidden="true" tabindex="-1"></a>or not the individual smokes. All this combined will enable us to draw</span>
<span id="cb82-56"><a href="#cb82-56" aria-hidden="true" tabindex="-1"></a>insights on what some drivers of poor or strong sleep efficiency are.</span>
<span id="cb82-57"><a href="#cb82-57" aria-hidden="true" tabindex="-1"></a>Doing so may curate actionable results for individuals looking to</span>
<span id="cb82-58"><a href="#cb82-58" aria-hidden="true" tabindex="-1"></a>improve sleep efficiency and duration by taking into account the</span>
<span id="cb82-59"><a href="#cb82-59" aria-hidden="true" tabindex="-1"></a>findings here. As someone who has slept poorly essentially forever, I am</span>
<span id="cb82-60"><a href="#cb82-60" aria-hidden="true" tabindex="-1"></a>very interested to see what trends emerge.</span>
<span id="cb82-61"><a href="#cb82-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-62"><a href="#cb82-62" aria-hidden="true" tabindex="-1"></a><span class="fu"># Data Set Introduction &amp; Background</span></span>
<span id="cb82-63"><a href="#cb82-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-64"><a href="#cb82-64" aria-hidden="true" tabindex="-1"></a>The data set contains information about a group of test subjects and</span>
<span id="cb82-65"><a href="#cb82-65" aria-hidden="true" tabindex="-1"></a>their sleep patterns. Each test subject is identified by a unique</span>
<span id="cb82-66"><a href="#cb82-66" aria-hidden="true" tabindex="-1"></a>"Subject ID" and their age and gender are also recorded. The "Bedtime"</span>
<span id="cb82-67"><a href="#cb82-67" aria-hidden="true" tabindex="-1"></a>and "Wake-up time" features indicate when each subject goes to bed and</span>
<span id="cb82-68"><a href="#cb82-68" aria-hidden="true" tabindex="-1"></a>wakes up each day, and the "Sleep duration" feature records the total</span>
<span id="cb82-69"><a href="#cb82-69" aria-hidden="true" tabindex="-1"></a>amount of time each subject slept in hours. The "Sleep efficiency"</span>
<span id="cb82-70"><a href="#cb82-70" aria-hidden="true" tabindex="-1"></a>feature is a measure of the proportion of time spent in bed that is</span>
<span id="cb82-71"><a href="#cb82-71" aria-hidden="true" tabindex="-1"></a>actually spent asleep. The "REM sleep percentage", "Deep sleep</span>
<span id="cb82-72"><a href="#cb82-72" aria-hidden="true" tabindex="-1"></a>percentage", and "Light sleep percentage" features indicate the amount</span>
<span id="cb82-73"><a href="#cb82-73" aria-hidden="true" tabindex="-1"></a>of time each subject spent in each stage of sleep. The "Awakenings"</span>
<span id="cb82-74"><a href="#cb82-74" aria-hidden="true" tabindex="-1"></a>feature records the number of times each subject wakes up during the</span>
<span id="cb82-75"><a href="#cb82-75" aria-hidden="true" tabindex="-1"></a>night. Additionally, the data set includes information about each</span>
<span id="cb82-76"><a href="#cb82-76" aria-hidden="true" tabindex="-1"></a>subject's caffeine and alcohol consumption in the 24 hours prior to</span>
<span id="cb82-77"><a href="#cb82-77" aria-hidden="true" tabindex="-1"></a>bedtime, their smoking status, and their exercise frequency. This will</span>
<span id="cb82-78"><a href="#cb82-78" aria-hidden="true" tabindex="-1"></a>all be outlined in a descriptive table down below, with the addition of</span>
<span id="cb82-79"><a href="#cb82-79" aria-hidden="true" tabindex="-1"></a>measurement scale.</span>
<span id="cb82-80"><a href="#cb82-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-81"><a href="#cb82-81" aria-hidden="true" tabindex="-1"></a>The data set provided was collected as part of a study conducted in the</span>
<span id="cb82-82"><a href="#cb82-82" aria-hidden="true" tabindex="-1"></a>UK by a research team from The University of Oxfordshire<span class="ot">[^1]</span>. The study</span>
<span id="cb82-83"><a href="#cb82-83" aria-hidden="true" tabindex="-1"></a>aimed to investigate the impact of lifestyle factors such as caffeine,</span>
<span id="cb82-84"><a href="#cb82-84" aria-hidden="true" tabindex="-1"></a>alcohol, and exercise on sleep patterns and sleep quality. The research</span>
<span id="cb82-85"><a href="#cb82-85" aria-hidden="true" tabindex="-1"></a>team recruited participants from the local community and collected data</span>
<span id="cb82-86"><a href="#cb82-86" aria-hidden="true" tabindex="-1"></a>over a period of several months. The data was collected using a</span>
<span id="cb82-87"><a href="#cb82-87" aria-hidden="true" tabindex="-1"></a>combination of self-reported surveys, actigraphy, and polysomnography</span>
<span id="cb82-88"><a href="#cb82-88" aria-hidden="true" tabindex="-1"></a>which is a sleep monitoring technique. The data was then analyzed to</span>
<span id="cb82-89"><a href="#cb82-89" aria-hidden="true" tabindex="-1"></a>understand the relationship between lifestyle factors and sleep patterns</span>
<span id="cb82-90"><a href="#cb82-90" aria-hidden="true" tabindex="-1"></a>and to identify any potential areas for intervention to improve sleep.</span>
<span id="cb82-91"><a href="#cb82-91" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-92"><a href="#cb82-92" aria-hidden="true" tabindex="-1"></a><span class="ot">[^1]: </span>"Sleep Efficiency Dataset." University of Oxfordshire , 14 Jan.</span>
<span id="cb82-93"><a href="#cb82-93" aria-hidden="true" tabindex="-1"></a>    2023</span>
<span id="cb82-94"><a href="#cb82-94" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-95"><a href="#cb82-95" aria-hidden="true" tabindex="-1"></a>I am interested in finding sleep inhibitors for young adults, so I'll</span>
<span id="cb82-96"><a href="#cb82-96" aria-hidden="true" tabindex="-1"></a>filter for ages from 21-35. I would like to look at those under 35 more</span>
<span id="cb82-97"><a href="#cb82-97" aria-hidden="true" tabindex="-1"></a>generally, but I cannot go below 21 because nicotineand alcohol are not</span>
<span id="cb82-98"><a href="#cb82-98" aria-hidden="true" tabindex="-1"></a>legally available for individuals under the age of 21. The results,</span>
<span id="cb82-99"><a href="#cb82-99" aria-hidden="true" tabindex="-1"></a>therefor, could be erroneous without filtering out below 21. Also note,</span>
<span id="cb82-100"><a href="#cb82-100" aria-hidden="true" tabindex="-1"></a>35 was an abstract selection and where I chose the cut-off for "young</span>
<span id="cb82-101"><a href="#cb82-101" aria-hidden="true" tabindex="-1"></a>adults", although this is not an objectively true measure of "young", of</span>
<span id="cb82-102"><a href="#cb82-102" aria-hidden="true" tabindex="-1"></a>course.</span>
<span id="cb82-103"><a href="#cb82-103" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-104"><a href="#cb82-104" aria-hidden="true" tabindex="-1"></a><span class="fu"># Data Description</span></span>
<span id="cb82-105"><a href="#cb82-105" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-106"><a href="#cb82-106" aria-hidden="true" tabindex="-1"></a>I am loading in the raw data, which is rather tidy to begin with. I will</span>
<span id="cb82-107"><a href="#cb82-107" aria-hidden="true" tabindex="-1"></a>be altering the data to fit my specific analysis, but spending a bit</span>
<span id="cb82-108"><a href="#cb82-108" aria-hidden="true" tabindex="-1"></a>more time analyzing and less cleaning. Any NAs will be dropped and</span>
<span id="cb82-109"><a href="#cb82-109" aria-hidden="true" tabindex="-1"></a>disregarded, because there is a very slim percentage of NAs present in</span>
<span id="cb82-110"><a href="#cb82-110" aria-hidden="true" tabindex="-1"></a>the dataset, so the results will not be impacted from disregarding them.</span>
<span id="cb82-111"><a href="#cb82-111" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-112"><a href="#cb82-112" aria-hidden="true" tabindex="-1"></a><span class="in">```{r read_data}</span></span>
<span id="cb82-113"><a href="#cb82-113" aria-hidden="true" tabindex="-1"></a><span class="fu">getwd</span>()</span>
<span id="cb82-114"><a href="#cb82-114" aria-hidden="true" tabindex="-1"></a><span class="co">#Set wd to folder with data</span></span>
<span id="cb82-115"><a href="#cb82-115" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">"C:/Github Projects/601_Spring_2023/posts/ConnorLandreth_FinalProjectData"</span>)</span>
<span id="cb82-116"><a href="#cb82-116" aria-hidden="true" tabindex="-1"></a><span class="co">#read in raw sleep data</span></span>
<span id="cb82-117"><a href="#cb82-117" aria-hidden="true" tabindex="-1"></a>sleep <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"Sleep_Efficiency.csv"</span>)</span>
<span id="cb82-118"><a href="#cb82-118" aria-hidden="true" tabindex="-1"></a><span class="co">#View(sleep)</span></span>
<span id="cb82-119"><a href="#cb82-119" aria-hidden="true" tabindex="-1"></a><span class="co">#head(sleep)</span></span>
<span id="cb82-120"><a href="#cb82-120" aria-hidden="true" tabindex="-1"></a><span class="co">#View Dimensions of dataframe </span></span>
<span id="cb82-121"><a href="#cb82-121" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(sleep)</span>
<span id="cb82-122"><a href="#cb82-122" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb82-123"><a href="#cb82-123" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-124"><a href="#cb82-124" aria-hidden="true" tabindex="-1"></a>Dimensions on the raw sleep data include 452 observations over 15</span>
<span id="cb82-125"><a href="#cb82-125" aria-hidden="true" tabindex="-1"></a>variables</span>
<span id="cb82-126"><a href="#cb82-126" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-127"><a href="#cb82-127" aria-hidden="true" tabindex="-1"></a><span class="in">```{r Summarize}</span></span>
<span id="cb82-128"><a href="#cb82-128" aria-hidden="true" tabindex="-1"></a><span class="co">#evaluate unique values and summarize to evaluate number of respondents, age range, and gender options</span></span>
<span id="cb82-129"><a href="#cb82-129" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(<span class="fu">unique</span>(sleep<span class="sc">$</span>ID))</span>
<span id="cb82-130"><a href="#cb82-130" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(<span class="fu">unique</span>(sleep<span class="sc">$</span>Age))</span>
<span id="cb82-131"><a href="#cb82-131" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(<span class="fu">unique</span>(sleep<span class="sc">$</span>Gender))</span>
<span id="cb82-132"><a href="#cb82-132" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-133"><a href="#cb82-133" aria-hidden="true" tabindex="-1"></a><span class="co">#I am going to remove bedtime and wakeup time, as the information is irrelevant for this analysis and is encapsulated in the sleep duration column. Then I will recode variables to make them numeric to summarize. </span></span>
<span id="cb82-134"><a href="#cb82-134" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-135"><a href="#cb82-135" aria-hidden="true" tabindex="-1"></a><span class="co"># delete columns 4 &amp; 5</span></span>
<span id="cb82-136"><a href="#cb82-136" aria-hidden="true" tabindex="-1"></a>sleep <span class="ot">&lt;-</span> sleep[, <span class="sc">-</span><span class="fu">c</span>(<span class="dv">4</span><span class="sc">:</span><span class="dv">5</span>)] </span>
<span id="cb82-137"><a href="#cb82-137" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-138"><a href="#cb82-138" aria-hidden="true" tabindex="-1"></a><span class="co">#Make gender and smoking status binary to get breakdown in summary stats</span></span>
<span id="cb82-139"><a href="#cb82-139" aria-hidden="true" tabindex="-1"></a>sleep<span class="sc">$</span>Gender[sleep<span class="sc">$</span>Gender<span class="sc">==</span><span class="st">"Male"</span>] <span class="ot">&lt;-</span> <span class="st">"0"</span></span>
<span id="cb82-140"><a href="#cb82-140" aria-hidden="true" tabindex="-1"></a>sleep<span class="sc">$</span>Gender[sleep<span class="sc">$</span>Gender<span class="sc">==</span><span class="st">"Female"</span>] <span class="ot">&lt;-</span> <span class="st">"1"</span></span>
<span id="cb82-141"><a href="#cb82-141" aria-hidden="true" tabindex="-1"></a>sleep<span class="sc">$</span>Smoking.status[sleep<span class="sc">$</span>Smoking.status<span class="sc">==</span><span class="st">"No"</span>] <span class="ot">&lt;-</span> <span class="st">"0"</span></span>
<span id="cb82-142"><a href="#cb82-142" aria-hidden="true" tabindex="-1"></a>sleep<span class="sc">$</span>Smoking.status[sleep<span class="sc">$</span>Smoking.status<span class="sc">==</span><span class="st">"Yes"</span>] <span class="ot">&lt;-</span> <span class="st">"1"</span></span>
<span id="cb82-143"><a href="#cb82-143" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-144"><a href="#cb82-144" aria-hidden="true" tabindex="-1"></a><span class="co">#use summarytools to view summary of each variable (More aesthetically pleasing/organized than base R)</span></span>
<span id="cb82-145"><a href="#cb82-145" aria-hidden="true" tabindex="-1"></a>summarytools<span class="sc">::</span><span class="fu">dfSummary</span>(sleep)</span>
<span id="cb82-146"><a href="#cb82-146" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb82-147"><a href="#cb82-147" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-148"><a href="#cb82-148" aria-hidden="true" tabindex="-1"></a>There are 452 unique IDs, so each row is an individual. Ages 9-69 are</span>
<span id="cb82-149"><a href="#cb82-149" aria-hidden="true" tabindex="-1"></a>included across the 452 subjects, and 2 genders. There are four more men</span>
<span id="cb82-150"><a href="#cb82-150" aria-hidden="true" tabindex="-1"></a>than women, but very close to an even split.</span>
<span id="cb82-151"><a href="#cb82-151" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-152"><a href="#cb82-152" aria-hidden="true" tabindex="-1"></a>Some important notes to summarize variables, the mean age here is just</span>
<span id="cb82-153"><a href="#cb82-153" aria-hidden="true" tabindex="-1"></a>over 40, so we will filter to look solely at young adults later. Mean</span>
<span id="cb82-154"><a href="#cb82-154" aria-hidden="true" tabindex="-1"></a>sleep duration is about 7.5 hours.</span>
<span id="cb82-155"><a href="#cb82-155" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-156"><a href="#cb82-156" aria-hidden="true" tabindex="-1"></a>Below, I will present the relevant variables in a more consumable format</span>
<span id="cb82-157"><a href="#cb82-157" aria-hidden="true" tabindex="-1"></a>using kable that will break down these variables by meaning and</span>
<span id="cb82-158"><a href="#cb82-158" aria-hidden="true" tabindex="-1"></a>measurement . I'll do this by creating a data frame.</span>
<span id="cb82-159"><a href="#cb82-159" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-160"><a href="#cb82-160" aria-hidden="true" tabindex="-1"></a><span class="in">```{r Index}</span></span>
<span id="cb82-161"><a href="#cb82-161" aria-hidden="true" tabindex="-1"></a><span class="fu">data.frame</span>(df, <span class="at">stringsAsFactors =</span> <span class="cn">TRUE</span>)</span>
<span id="cb82-162"><a href="#cb82-162" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-163"><a href="#cb82-163" aria-hidden="true" tabindex="-1"></a><span class="co"># Create variables</span></span>
<span id="cb82-164"><a href="#cb82-164" aria-hidden="true" tabindex="-1"></a>Variables <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'Age'</span>, <span class="st">'Gender'</span>, <span class="st">'Sleep Duration'</span>, <span class="st">'Sleep Efficiency'</span>, <span class="st">'REM Sleep percentage'</span>, <span class="st">'Deep Sleep Percentage'</span>, <span class="st">'Light Sleep Percentage'</span>, <span class="st">'Awakenings'</span>, <span class="st">'Caffeine Consumption'</span>, <span class="st">'Alcohol Consumption'</span>, <span class="st">'Smoking Status'</span>, <span class="st">'Exercise Frequency'</span>)</span>
<span id="cb82-165"><a href="#cb82-165" aria-hidden="true" tabindex="-1"></a><span class="co"># Add meaning for each variable</span></span>
<span id="cb82-166"><a href="#cb82-166" aria-hidden="true" tabindex="-1"></a>Meaning <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'Age of the test subject'</span>, <span class="st">'Biological gender of subject'</span>, <span class="st">'the total amount of time the test subject slept (in hours)'</span>, <span class="st">'Percentage of time in bed spent sleeping'</span>, <span class="st">'Length of sleep spent in REM portion of sleep cycle'</span>, <span class="st">'Length of time spent in the deep sleep portion of the sleep cycle'</span>, <span class="st">'Length of time spent in the light sleep portion of the sleep cycle'</span>, <span class="st">'the number of times the test subject wakes up during the night'</span>, <span class="st">'the amount of caffeine consumed in the 24 hours prior to bedtime (in mg)'</span>, <span class="st">'the amount of alcohol consumed in the 24 hours prior to bedtime (in Standard Drinks)'</span>, <span class="st">' whether or not the test subject smokes'</span>, <span class="st">' the number of times the test subject exercises each week'</span>)</span>
<span id="cb82-167"><a href="#cb82-167" aria-hidden="true" tabindex="-1"></a><span class="co"># Add measurement scale for each variable </span></span>
<span id="cb82-168"><a href="#cb82-168" aria-hidden="true" tabindex="-1"></a>Measurement.Scale <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'Continuous'</span>, <span class="st">'Binary(male and female)'</span>, <span class="st">'Continuous'</span>,<span class="st">'Continuous'</span>, <span class="st">'Continuous'</span>,<span class="st">'Continuous'</span>, <span class="st">'Continuous'</span>, <span class="st">'Discrete'</span>, <span class="st">'Continuous'</span>,<span class="st">'Continuous'</span>, <span class="st">'Binary(yes or no)'</span>, <span class="st">'Discrete'</span>)</span>
<span id="cb82-169"><a href="#cb82-169" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-170"><a href="#cb82-170" aria-hidden="true" tabindex="-1"></a><span class="co"># Join the variables to create a data frame</span></span>
<span id="cb82-171"><a href="#cb82-171" aria-hidden="true" tabindex="-1"></a>Index <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(Variables, Meaning, Measurement.Scale)</span>
<span id="cb82-172"><a href="#cb82-172" aria-hidden="true" tabindex="-1"></a><span class="fu">View</span>(Index)</span>
<span id="cb82-173"><a href="#cb82-173" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-174"><a href="#cb82-174" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb82-175"><a href="#cb82-175" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-176"><a href="#cb82-176" aria-hidden="true" tabindex="-1"></a>Finally, we will use our new data frame to create another table with all</span>
<span id="cb82-177"><a href="#cb82-177" aria-hidden="true" tabindex="-1"></a>the new information on each variable.</span>
<span id="cb82-178"><a href="#cb82-178" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-179"><a href="#cb82-179" aria-hidden="true" tabindex="-1"></a><span class="in">```{r Variable Summary}</span></span>
<span id="cb82-180"><a href="#cb82-180" aria-hidden="true" tabindex="-1"></a>Index <span class="sc">%&gt;%</span> </span>
<span id="cb82-181"><a href="#cb82-181" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(Variables, <span class="at">format =</span> <span class="st">"html"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb82-182"><a href="#cb82-182" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>() <span class="sc">%&gt;%</span></span>
<span id="cb82-183"><a href="#cb82-183" aria-hidden="true" tabindex="-1"></a>  <span class="fu">column_spec</span>(<span class="dv">2</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb82-184"><a href="#cb82-184" aria-hidden="true" tabindex="-1"></a> <span class="co"># column_spec(1, background = "lightblue") %&gt;% </span></span>
<span id="cb82-185"><a href="#cb82-185" aria-hidden="true" tabindex="-1"></a>  <span class="fu">row_spec</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">12</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb82-186"><a href="#cb82-186" aria-hidden="true" tabindex="-1"></a>  <span class="fu">row_spec</span>(<span class="dv">0</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>, <span class="at">font_size =</span> <span class="dv">16</span>, <span class="at">color =</span> <span class="st">"black"</span>, </span>
<span id="cb82-187"><a href="#cb82-187" aria-hidden="true" tabindex="-1"></a>           <span class="at">background =</span> <span class="st">"plum"</span>) <span class="co">#%&gt;%</span></span>
<span id="cb82-188"><a href="#cb82-188" aria-hidden="true" tabindex="-1"></a>  <span class="co">#row_spec(1:10, background = "lightpink1")</span></span>
<span id="cb82-189"><a href="#cb82-189" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb82-190"><a href="#cb82-190" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-191"><a href="#cb82-191" aria-hidden="true" tabindex="-1"></a><span class="fu"># Questions &amp; Analysis Plan</span></span>
<span id="cb82-192"><a href="#cb82-192" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-193"><a href="#cb82-193" aria-hidden="true" tabindex="-1"></a>I want to answer two main questions, one on a specific covariate, and</span>
<span id="cb82-194"><a href="#cb82-194" aria-hidden="true" tabindex="-1"></a>one more broad:</span>
<span id="cb82-195"><a href="#cb82-195" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-196"><a href="#cb82-196" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span>Does moderate alcohol consumption (2-3 standard drinks) improve</span>
<span id="cb82-197"><a href="#cb82-197" aria-hidden="true" tabindex="-1"></a>    sleep efficiency in young adults?</span>
<span id="cb82-198"><a href="#cb82-198" aria-hidden="true" tabindex="-1"></a><span class="ss">2.  </span>What are the main inhibitors of sleep efficiency in young adults?</span>
<span id="cb82-199"><a href="#cb82-199" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-200"><a href="#cb82-200" aria-hidden="true" tabindex="-1"></a>Next, I'll pick from the desired variables above and omit those that</span>
<span id="cb82-201"><a href="#cb82-201" aria-hidden="true" tabindex="-1"></a>won't lend to the analysis. I am removing sleep and wake time because</span>
<span id="cb82-202"><a href="#cb82-202" aria-hidden="true" tabindex="-1"></a>those give me the sleep duration, and that is already a variable. Also,</span>
<span id="cb82-203"><a href="#cb82-203" aria-hidden="true" tabindex="-1"></a>ID won't be necessary, nor will the rem, light, or any other sleep</span>
<span id="cb82-204"><a href="#cb82-204" aria-hidden="true" tabindex="-1"></a>factor beyond duration and efficiency.</span>
<span id="cb82-205"><a href="#cb82-205" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-206"><a href="#cb82-206" aria-hidden="true" tabindex="-1"></a><span class="in">```{r Filter}</span></span>
<span id="cb82-207"><a href="#cb82-207" aria-hidden="true" tabindex="-1"></a><span class="co">#use select and filter to omit undesirable columns and hone in on ages 21 to 35. Again, to reiterate, I want to look at young adults, but I cannot go below 21 because smoking and alcohol is not legally available for individuals under the age of 21. The results, therefor, could be erroneous without filtering out below 21. </span></span>
<span id="cb82-208"><a href="#cb82-208" aria-hidden="true" tabindex="-1"></a>n_sleep <span class="ot">&lt;-</span> sleep <span class="sc">%&gt;%</span> </span>
<span id="cb82-209"><a href="#cb82-209" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Age, Gender, Sleep.duration, Sleep.efficiency, Awakenings, Caffeine.consumption, Alcohol.consumption, Smoking.status, Exercise.frequency) <span class="sc">%&gt;%</span> </span>
<span id="cb82-210"><a href="#cb82-210" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Age <span class="sc">&lt;=</span> <span class="st">"35"</span><span class="sc">&amp;</span> Age<span class="sc">&gt;=</span><span class="st">"21"</span>)</span>
<span id="cb82-211"><a href="#cb82-211" aria-hidden="true" tabindex="-1"></a><span class="co">#check</span></span>
<span id="cb82-212"><a href="#cb82-212" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(n_sleep)</span>
<span id="cb82-213"><a href="#cb82-213" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb82-214"><a href="#cb82-214" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-215"><a href="#cb82-215" aria-hidden="true" tabindex="-1"></a>That mutation left me with 155 observations and nine nine variables,</span>
<span id="cb82-216"><a href="#cb82-216" aria-hidden="true" tabindex="-1"></a>which is a bit low, but enough to figure out what causes young adults to</span>
<span id="cb82-217"><a href="#cb82-217" aria-hidden="true" tabindex="-1"></a>miss out on sleep. Let us look at some histograms to help visualize</span>
<span id="cb82-218"><a href="#cb82-218" aria-hidden="true" tabindex="-1"></a>averages and trends in the data.</span>
<span id="cb82-219"><a href="#cb82-219" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-220"><a href="#cb82-220" aria-hidden="true" tabindex="-1"></a><span class="in">```{r Caffeine Hist}</span></span>
<span id="cb82-221"><a href="#cb82-221" aria-hidden="true" tabindex="-1"></a><span class="co">#Building a histogram of caffeine consumption to evaluate dispersion of consumption</span></span>
<span id="cb82-222"><a href="#cb82-222" aria-hidden="true" tabindex="-1"></a>hist_caffeine<span class="ot">&lt;-</span><span class="fu">ggplot</span>(n_sleep, <span class="fu">aes</span>(<span class="at">x=</span> Caffeine.consumption)) <span class="sc">+</span></span>
<span id="cb82-223"><a href="#cb82-223" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>() <span class="sc">+</span></span>
<span id="cb82-224"><a href="#cb82-224" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Histogram of Caffeine Consumption"</span>, <span class="at">x =</span> <span class="st">'Caffeine Consumption (mg.)'</span>, <span class="at">y=</span><span class="st">"Count"</span>) <span class="sc">+</span></span>
<span id="cb82-225"><a href="#cb82-225" aria-hidden="true" tabindex="-1"></a><span class="fu">theme_economist</span>()</span>
<span id="cb82-226"><a href="#cb82-226" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-227"><a href="#cb82-227" aria-hidden="true" tabindex="-1"></a>hist_caffeine</span>
<span id="cb82-228"><a href="#cb82-228" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-229"><a href="#cb82-229" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb82-230"><a href="#cb82-230" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-231"><a href="#cb82-231" aria-hidden="true" tabindex="-1"></a>In this filtered out sample of only people 21-35, caffeine consumption</span>
<span id="cb82-232"><a href="#cb82-232" aria-hidden="true" tabindex="-1"></a>is concentrated on the lower end of the spectrum, with nearly all</span>
<span id="cb82-233"><a href="#cb82-233" aria-hidden="true" tabindex="-1"></a>individuals consuming under 100mg for the day, with many consuming zero.</span>
<span id="cb82-234"><a href="#cb82-234" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-235"><a href="#cb82-235" aria-hidden="true" tabindex="-1"></a><span class="in">```{r Alcohol Hist}</span></span>
<span id="cb82-236"><a href="#cb82-236" aria-hidden="true" tabindex="-1"></a><span class="co">#Building a histogram of alcohol consumption to evaluate dispersion of consumption</span></span>
<span id="cb82-237"><a href="#cb82-237" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-238"><a href="#cb82-238" aria-hidden="true" tabindex="-1"></a>hist_alcohol<span class="ot">&lt;-</span><span class="fu">ggplot</span>(n_sleep, <span class="fu">aes</span>(<span class="at">x=</span> Alcohol.consumption)) <span class="sc">+</span></span>
<span id="cb82-239"><a href="#cb82-239" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>() <span class="sc">+</span></span>
<span id="cb82-240"><a href="#cb82-240" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Histogram of Alcohol Consumption"</span>, <span class="at">x =</span> <span class="st">'Alcohol Consumption (Standard Drinks)'</span>, <span class="at">y=</span><span class="st">"Count"</span>) <span class="sc">+</span></span>
<span id="cb82-241"><a href="#cb82-241" aria-hidden="true" tabindex="-1"></a><span class="fu">theme_economist</span>()</span>
<span id="cb82-242"><a href="#cb82-242" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-243"><a href="#cb82-243" aria-hidden="true" tabindex="-1"></a>hist_alcohol</span>
<span id="cb82-244"><a href="#cb82-244" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb82-245"><a href="#cb82-245" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-246"><a href="#cb82-246" aria-hidden="true" tabindex="-1"></a>Alcohol consumption is on the lesser side, with the mass majority</span>
<span id="cb82-247"><a href="#cb82-247" aria-hidden="true" tabindex="-1"></a>consuming little to no alcohol. Many are between zero and one standard</span>
<span id="cb82-248"><a href="#cb82-248" aria-hidden="true" tabindex="-1"></a>drink for the day.</span>
<span id="cb82-249"><a href="#cb82-249" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-250"><a href="#cb82-250" aria-hidden="true" tabindex="-1"></a>Down below as we look at smoking, I will also mutate those "yes" and</span>
<span id="cb82-251"><a href="#cb82-251" aria-hidden="true" tabindex="-1"></a>"no" responses to 0 and 1 to subset more easily moving forward as I did</span>
<span id="cb82-252"><a href="#cb82-252" aria-hidden="true" tabindex="-1"></a>above for the summary stats.</span>
<span id="cb82-253"><a href="#cb82-253" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-254"><a href="#cb82-254" aria-hidden="true" tabindex="-1"></a><span class="in">```{r Smoking Hist}</span></span>
<span id="cb82-255"><a href="#cb82-255" aria-hidden="true" tabindex="-1"></a><span class="co">#Not building a histogram for smoking because it is clear for in the summary statistics, as it's binary.</span></span>
<span id="cb82-256"><a href="#cb82-256" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb82-257"><a href="#cb82-257" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-258"><a href="#cb82-258" aria-hidden="true" tabindex="-1"></a>The majority of young people do not smoke, while roughly sixty people 35</span>
<span id="cb82-259"><a href="#cb82-259" aria-hidden="true" tabindex="-1"></a>and under do engage in smoking.</span>
<span id="cb82-260"><a href="#cb82-260" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-261"><a href="#cb82-261" aria-hidden="true" tabindex="-1"></a><span class="in">```{r Exercize Hist}</span></span>
<span id="cb82-262"><a href="#cb82-262" aria-hidden="true" tabindex="-1"></a><span class="co">#Building a histogram of alcohol consumption to evaluate dispersion of excersize frequency</span></span>
<span id="cb82-263"><a href="#cb82-263" aria-hidden="true" tabindex="-1"></a>hist_exercise<span class="ot">&lt;-</span><span class="fu">ggplot</span>(n_sleep, <span class="fu">aes</span>(<span class="at">x=</span> Exercise.frequency)) <span class="sc">+</span></span>
<span id="cb82-264"><a href="#cb82-264" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>() <span class="sc">+</span></span>
<span id="cb82-265"><a href="#cb82-265" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Histogram of Exercise Frequency"</span>, <span class="at">x =</span> <span class="st">'Exercise Frequency'</span>, <span class="at">y=</span><span class="st">"Count"</span>) <span class="sc">+</span></span>
<span id="cb82-266"><a href="#cb82-266" aria-hidden="true" tabindex="-1"></a><span class="fu">theme_economist</span>()</span>
<span id="cb82-267"><a href="#cb82-267" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-268"><a href="#cb82-268" aria-hidden="true" tabindex="-1"></a>hist_exercise</span>
<span id="cb82-269"><a href="#cb82-269" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb82-270"><a href="#cb82-270" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-271"><a href="#cb82-271" aria-hidden="true" tabindex="-1"></a>For exercise, most work out 0-1 times per week, with a decreasing trend</span>
<span id="cb82-272"><a href="#cb82-272" aria-hidden="true" tabindex="-1"></a>from 1 to 5 times per week.</span>
<span id="cb82-273"><a href="#cb82-273" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-274"><a href="#cb82-274" aria-hidden="true" tabindex="-1"></a><span class="in">```{r Duration Hist}</span></span>
<span id="cb82-275"><a href="#cb82-275" aria-hidden="true" tabindex="-1"></a><span class="co">#Building a histogram of alcohol consumption to evaluate dispersion of sleep duration</span></span>
<span id="cb82-276"><a href="#cb82-276" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-277"><a href="#cb82-277" aria-hidden="true" tabindex="-1"></a>hist_sleep_duration<span class="ot">&lt;-</span><span class="fu">ggplot</span>(n_sleep, <span class="fu">aes</span>(<span class="at">x=</span> Sleep.duration)) <span class="sc">+</span></span>
<span id="cb82-278"><a href="#cb82-278" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>() <span class="sc">+</span></span>
<span id="cb82-279"><a href="#cb82-279" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Histogram of Sleep Duration"</span>, <span class="at">x =</span> <span class="st">'Sleep Duration (Hours)'</span>, <span class="at">y=</span><span class="st">"Count"</span>) <span class="sc">+</span></span>
<span id="cb82-280"><a href="#cb82-280" aria-hidden="true" tabindex="-1"></a><span class="fu">theme_economist</span>()</span>
<span id="cb82-281"><a href="#cb82-281" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-282"><a href="#cb82-282" aria-hidden="true" tabindex="-1"></a>hist_sleep_duration</span>
<span id="cb82-283"><a href="#cb82-283" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-284"><a href="#cb82-284" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb82-285"><a href="#cb82-285" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-286"><a href="#cb82-286" aria-hidden="true" tabindex="-1"></a>Sleep duration sees a slightly more normal distribution with it's mean,</span>
<span id="cb82-287"><a href="#cb82-287" aria-hidden="true" tabindex="-1"></a>again, falling right around 7.5 hours a night.</span>
<span id="cb82-288"><a href="#cb82-288" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-289"><a href="#cb82-289" aria-hidden="true" tabindex="-1"></a><span class="in">```{r Efficiency Hist}</span></span>
<span id="cb82-290"><a href="#cb82-290" aria-hidden="true" tabindex="-1"></a><span class="co">#Building a histogram of alcohol consumption to evaluate dispersion of sleep efficiency</span></span>
<span id="cb82-291"><a href="#cb82-291" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-292"><a href="#cb82-292" aria-hidden="true" tabindex="-1"></a>hist_sleep_efficiency<span class="ot">&lt;-</span><span class="fu">ggplot</span>(n_sleep, <span class="fu">aes</span>(<span class="at">x=</span> Sleep.efficiency)) <span class="sc">+</span></span>
<span id="cb82-293"><a href="#cb82-293" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>() <span class="sc">+</span></span>
<span id="cb82-294"><a href="#cb82-294" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Histogram of Sleep Efficiency"</span>, <span class="at">x =</span> <span class="st">'Sleep Efficiency'</span>, <span class="at">y=</span><span class="st">"Count"</span>) <span class="sc">+</span></span>
<span id="cb82-295"><a href="#cb82-295" aria-hidden="true" tabindex="-1"></a><span class="fu">theme_economist</span>()</span>
<span id="cb82-296"><a href="#cb82-296" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-297"><a href="#cb82-297" aria-hidden="true" tabindex="-1"></a>hist_sleep_efficiency</span>
<span id="cb82-298"><a href="#cb82-298" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb82-299"><a href="#cb82-299" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-300"><a href="#cb82-300" aria-hidden="true" tabindex="-1"></a>The distribution of sleep efficiency is a bit left skewed, seeing sleep</span>
<span id="cb82-301"><a href="#cb82-301" aria-hidden="true" tabindex="-1"></a>efficiency rated all across the board, but a bit more concentrated on</span>
<span id="cb82-302"><a href="#cb82-302" aria-hidden="true" tabindex="-1"></a>the efficient end. There is a spike at 0.5, signifying a large sum of</span>
<span id="cb82-303"><a href="#cb82-303" aria-hidden="true" tabindex="-1"></a>individuals with inefficient sleep.</span>
<span id="cb82-304"><a href="#cb82-304" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-305"><a href="#cb82-305" aria-hidden="true" tabindex="-1"></a>Overall, based on the trends I can already see emerging and the</span>
<span id="cb82-306"><a href="#cb82-306" aria-hidden="true" tabindex="-1"></a>questions I hope to answer, my plan for analysis, more specifically, is</span>
<span id="cb82-307"><a href="#cb82-307" aria-hidden="true" tabindex="-1"></a>to use **geom_point/jitter** to look at sleep efficiency by gender. I</span>
<span id="cb82-308"><a href="#cb82-308" aria-hidden="true" tabindex="-1"></a>will facet wrap by gender in the visualizations and look at the effect</span>
<span id="cb82-309"><a href="#cb82-309" aria-hidden="true" tabindex="-1"></a>alcohol, caffeine, smoking, and exercise has on sleep efficiency for</span>
<span id="cb82-310"><a href="#cb82-310" aria-hidden="true" tabindex="-1"></a>each gender of the young adult subset. In addition, I will compare sleep</span>
<span id="cb82-311"><a href="#cb82-311" aria-hidden="true" tabindex="-1"></a>efficiency of non-smokers vs smokers using a set of **geom_boxplot**,</span>
<span id="cb82-312"><a href="#cb82-312" aria-hidden="true" tabindex="-1"></a>again, facet wrapped by gender.</span>
<span id="cb82-313"><a href="#cb82-313" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-314"><a href="#cb82-314" aria-hidden="true" tabindex="-1"></a><span class="fu"># Analysis &amp; Visualizations</span></span>
<span id="cb82-315"><a href="#cb82-315" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-316"><a href="#cb82-316" aria-hidden="true" tabindex="-1"></a><span class="fu">### Question 1: Alcohol</span></span>
<span id="cb82-317"><a href="#cb82-317" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-318"><a href="#cb82-318" aria-hidden="true" tabindex="-1"></a>I will look at the comparison between high sleep efficiency/duration and</span>
<span id="cb82-319"><a href="#cb82-319" aria-hidden="true" tabindex="-1"></a>alcohol/caffeine/exercise/smoking. I'll start by filtering sleep</span>
<span id="cb82-320"><a href="#cb82-320" aria-hidden="true" tabindex="-1"></a>efficiency to be greater than the mean and look at consumption levels</span>
<span id="cb82-321"><a href="#cb82-321" aria-hidden="true" tabindex="-1"></a>for those high efficiency sleepers.</span>
<span id="cb82-322"><a href="#cb82-322" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-323"><a href="#cb82-323" aria-hidden="true" tabindex="-1"></a>::: {#Alcohol .panel-tabset}</span>
<span id="cb82-324"><a href="#cb82-324" aria-hidden="true" tabindex="-1"></a>This section will answer question 1, 'Does moderate alcohol consumption</span>
<span id="cb82-325"><a href="#cb82-325" aria-hidden="true" tabindex="-1"></a>(2-3 standard drinks) improve sleep efficiency?'</span>
<span id="cb82-326"><a href="#cb82-326" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-327"><a href="#cb82-327" aria-hidden="true" tabindex="-1"></a><span class="in">```{r alc_by_age}</span></span>
<span id="cb82-328"><a href="#cb82-328" aria-hidden="true" tabindex="-1"></a>n_sleep<span class="sc">$</span>Gender[n_sleep<span class="sc">$</span>Gender<span class="sc">==</span><span class="st">"0"</span>] <span class="ot">&lt;-</span> <span class="st">"Male"</span></span>
<span id="cb82-329"><a href="#cb82-329" aria-hidden="true" tabindex="-1"></a>n_sleep<span class="sc">$</span>Gender[n_sleep<span class="sc">$</span>Gender<span class="sc">==</span><span class="st">"1"</span>] <span class="ot">&lt;-</span> <span class="st">"Female"</span></span>
<span id="cb82-330"><a href="#cb82-330" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-331"><a href="#cb82-331" aria-hidden="true" tabindex="-1"></a>n_sleep <span class="sc">%&gt;%</span> </span>
<span id="cb82-332"><a href="#cb82-332" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(Alcohol.consumption, Age, <span class="at">color=</span>Gender, <span class="at">fill =</span> Gender))<span class="sc">+</span></span>
<span id="cb82-333"><a href="#cb82-333" aria-hidden="true" tabindex="-1"></a>  <span class="co">#jitter vs point will provide a nice random variation in points</span></span>
<span id="cb82-334"><a href="#cb82-334" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">size=</span><span class="dv">2</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>)<span class="sc">+</span></span>
<span id="cb82-335"><a href="#cb82-335" aria-hidden="true" tabindex="-1"></a>  <span class="co">#add range</span></span>
<span id="cb82-336"><a href="#cb82-336" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>()<span class="sc">+</span></span>
<span id="cb82-337"><a href="#cb82-337" aria-hidden="true" tabindex="-1"></a>  <span class="co">#facet wrap by gender will allow us to look at each gender seprately </span></span>
<span id="cb82-338"><a href="#cb82-338" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>Gender)<span class="sc">+</span></span>
<span id="cb82-339"><a href="#cb82-339" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x=</span><span class="st">'Alcohol Consumption'</span>, <span class="at">y=</span><span class="st">'Age'</span>) <span class="sc">+</span></span>
<span id="cb82-340"><a href="#cb82-340" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_linedraw</span>()<span class="sc">+</span></span>
<span id="cb82-341"><a href="#cb82-341" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">"Alcohol Consumption by Gender &amp; Age (21-35)"</span>)</span>
<span id="cb82-342"><a href="#cb82-342" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb82-343"><a href="#cb82-343" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-344"><a href="#cb82-344" aria-hidden="true" tabindex="-1"></a>For females, it appears the younger the women are, the more they tend to</span>
<span id="cb82-345"><a href="#cb82-345" aria-hidden="true" tabindex="-1"></a>drink. The mean age for those who don't drink at all is 28, and the</span>
<span id="cb82-346"><a href="#cb82-346" aria-hidden="true" tabindex="-1"></a>graph peaks at the intersection of roughly age 31 and one standard</span>
<span id="cb82-347"><a href="#cb82-347" aria-hidden="true" tabindex="-1"></a>drink. As standard drinks increase, mean age decreases. This is not</span>
<span id="cb82-348"><a href="#cb82-348" aria-hidden="true" tabindex="-1"></a>surprising.</span>
<span id="cb82-349"><a href="#cb82-349" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-350"><a href="#cb82-350" aria-hidden="true" tabindex="-1"></a>For men, the trend is less intense, showing a mean age of closer to 27</span>
<span id="cb82-351"><a href="#cb82-351" aria-hidden="true" tabindex="-1"></a>who do not drink at all, but the mean age here stay more steady as</span>
<span id="cb82-352"><a href="#cb82-352" aria-hidden="true" tabindex="-1"></a>standard drinks increase, with the mean age for those who consume closer</span>
<span id="cb82-353"><a href="#cb82-353" aria-hidden="true" tabindex="-1"></a>to five drinks around 25 years old, so a much smaller range than the</span>
<span id="cb82-354"><a href="#cb82-354" aria-hidden="true" tabindex="-1"></a>female data. Next, I'll explore the consumption trends for efficient</span>
<span id="cb82-355"><a href="#cb82-355" aria-hidden="true" tabindex="-1"></a>sleepers between the ages of 21-35.</span>
<span id="cb82-356"><a href="#cb82-356" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-357"><a href="#cb82-357" aria-hidden="true" tabindex="-1"></a><span class="in">```{r S.E._Alcohol}</span></span>
<span id="cb82-358"><a href="#cb82-358" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(n_sleep)</span>
<span id="cb82-359"><a href="#cb82-359" aria-hidden="true" tabindex="-1"></a><span class="co"># The mean sleep efficiency for these individuals is .7889, so I will make that the baseline for "good" sleep efficiency</span></span>
<span id="cb82-360"><a href="#cb82-360" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb82-361"><a href="#cb82-361" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-362"><a href="#cb82-362" aria-hidden="true" tabindex="-1"></a>n_sleep <span class="sc">%&gt;%</span> </span>
<span id="cb82-363"><a href="#cb82-363" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Sleep.efficiency <span class="sc">&gt;=</span> <span class="st">".7889"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb82-364"><a href="#cb82-364" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(Alcohol.consumption,Sleep.efficiency, <span class="at">color=</span>Gender))<span class="sc">+</span></span>
<span id="cb82-365"><a href="#cb82-365" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">size=</span><span class="dv">2</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>)<span class="sc">+</span></span>
<span id="cb82-366"><a href="#cb82-366" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>()<span class="sc">+</span></span>
<span id="cb82-367"><a href="#cb82-367" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>Gender)<span class="sc">+</span></span>
<span id="cb82-368"><a href="#cb82-368" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x=</span><span class="st">'Alcohol Consumption'</span>, <span class="at">y=</span><span class="st">'Sleep Efficiency'</span>) <span class="sc">+</span></span>
<span id="cb82-369"><a href="#cb82-369" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_linedraw</span>()<span class="sc">+</span></span>
<span id="cb82-370"><a href="#cb82-370" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">"Alcohol Consumption &amp; Sleep Efficiency by Gender"</span>)</span>
<span id="cb82-371"><a href="#cb82-371" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-372"><a href="#cb82-372" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb82-373"><a href="#cb82-373" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-374"><a href="#cb82-374" aria-hidden="true" tabindex="-1"></a>These results show, generally speaking, there is a trend that shows more</span>
<span id="cb82-375"><a href="#cb82-375" aria-hidden="true" tabindex="-1"></a>alcoholic drinks translating to less sleep efficiency for both males and</span>
<span id="cb82-376"><a href="#cb82-376" aria-hidden="true" tabindex="-1"></a>females. Males do show a resurgence in sleep efficiency from 2 to 3</span>
<span id="cb82-377"><a href="#cb82-377" aria-hidden="true" tabindex="-1"></a>drinks, then even goes on to gradually increase as intoxication goes up.</span>
<span id="cb82-378"><a href="#cb82-378" aria-hidden="true" tabindex="-1"></a>The way I interpret this is that women in the sample all experience</span>
<span id="cb82-379"><a href="#cb82-379" aria-hidden="true" tabindex="-1"></a>reduced sleep efficiency the more they drink, but for men, two drinks</span>
<span id="cb82-380"><a href="#cb82-380" aria-hidden="true" tabindex="-1"></a>actually sees the nadir of sleep efficiency.</span>
<span id="cb82-381"><a href="#cb82-381" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-382"><a href="#cb82-382" aria-hidden="true" tabindex="-1"></a>Perhaps because the mind often becomes more active off of 1-2 drinks,</span>
<span id="cb82-383"><a href="#cb82-383" aria-hidden="true" tabindex="-1"></a>men are experiencing increased mental stimulus and activity, making it</span>
<span id="cb82-384"><a href="#cb82-384" aria-hidden="true" tabindex="-1"></a>harder to sleep<span class="ot">[^2]</span>. Then as they get up to 3-4 drinks (likely a bit</span>
<span id="cb82-385"><a href="#cb82-385" aria-hidden="true" tabindex="-1"></a>drunk and relaxed), efficiency goes back up, but still not as high as it</span>
<span id="cb82-386"><a href="#cb82-386" aria-hidden="true" tabindex="-1"></a>would be with no drinks. So in conclusion, 3 drinks doesn't see the</span>
<span id="cb82-387"><a href="#cb82-387" aria-hidden="true" tabindex="-1"></a>worst sleep efficiency, but the highest efficiency comes from no alcohol</span>
<span id="cb82-388"><a href="#cb82-388" aria-hidden="true" tabindex="-1"></a>at all.</span>
<span id="cb82-389"><a href="#cb82-389" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb82-390"><a href="#cb82-390" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-391"><a href="#cb82-391" aria-hidden="true" tabindex="-1"></a><span class="ot">[^2]: </span>Leadem, Rose. "11 Ways Drinking Alcohol Can Make You Smarter,</span>
<span id="cb82-392"><a href="#cb82-392" aria-hidden="true" tabindex="-1"></a>    Healthier and More Creative." Entrepreneur, 25 Oct. 2017,</span>
<span id="cb82-393"><a href="#cb82-393" aria-hidden="true" tabindex="-1"></a>    www.entrepreneur.com/living/11-ways-drinking-alcohol-can-make-you-smarter-healthier/303584</span>
<span id="cb82-394"><a href="#cb82-394" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-395"><a href="#cb82-395" aria-hidden="true" tabindex="-1"></a>Now we will look at the other variables below.</span>
<span id="cb82-396"><a href="#cb82-396" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-397"><a href="#cb82-397" aria-hidden="true" tabindex="-1"></a>::: {#AllOtherVariables .panel-tabset}</span>
<span id="cb82-398"><a href="#cb82-398" aria-hidden="true" tabindex="-1"></a><span class="fu">### Question 2: Other Variables</span></span>
<span id="cb82-399"><a href="#cb82-399" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-400"><a href="#cb82-400" aria-hidden="true" tabindex="-1"></a>This section will answer my second question, 'What are the main</span>
<span id="cb82-401"><a href="#cb82-401" aria-hidden="true" tabindex="-1"></a>inhibitors of sleep efficiency?'</span>
<span id="cb82-402"><a href="#cb82-402" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-403"><a href="#cb82-403" aria-hidden="true" tabindex="-1"></a><span class="in">```{r S.E._Caffeine}</span></span>
<span id="cb82-404"><a href="#cb82-404" aria-hidden="true" tabindex="-1"></a>n_sleep <span class="sc">%&gt;%</span> </span>
<span id="cb82-405"><a href="#cb82-405" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(Sleep.efficiency <span class="sc">&gt;=</span> <span class="st">".7889"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb82-406"><a href="#cb82-406" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(Caffeine.consumption,Sleep.efficiency, <span class="at">color=</span>Gender))<span class="sc">+</span></span>
<span id="cb82-407"><a href="#cb82-407" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">size=</span><span class="dv">2</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>)<span class="sc">+</span></span>
<span id="cb82-408"><a href="#cb82-408" aria-hidden="true" tabindex="-1"></a>  <span class="co">#width = x</span></span>
<span id="cb82-409"><a href="#cb82-409" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>()<span class="sc">+</span></span>
<span id="cb82-410"><a href="#cb82-410" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>Gender)<span class="sc">+</span></span>
<span id="cb82-411"><a href="#cb82-411" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x=</span><span class="st">'Caffeine Consumption'</span>, <span class="at">y=</span><span class="st">'Sleep Efficiency'</span>) <span class="sc">+</span></span>
<span id="cb82-412"><a href="#cb82-412" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_linedraw</span>()<span class="sc">+</span></span>
<span id="cb82-413"><a href="#cb82-413" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">"Caffeine Consumption &amp; Sleep Efficiency by Gender"</span>)</span>
<span id="cb82-414"><a href="#cb82-414" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb82-415"><a href="#cb82-415" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-416"><a href="#cb82-416" aria-hidden="true" tabindex="-1"></a>These are interesting results. For females, the most caffeine any of</span>
<span id="cb82-417"><a href="#cb82-417" aria-hidden="true" tabindex="-1"></a>these high-efficiency-sleeping women consume a day is 75mg, and most</span>
<span id="cb82-418"><a href="#cb82-418" aria-hidden="true" tabindex="-1"></a>consume less. For the few young women who do consume 75mg, their average</span>
<span id="cb82-419"><a href="#cb82-419" aria-hidden="true" tabindex="-1"></a>sleep efficiency is the highest. I would be inclined to surmise that</span>
<span id="cb82-420"><a href="#cb82-420" aria-hidden="true" tabindex="-1"></a>caffeine effects them little, or they drink it only in the early</span>
<span id="cb82-421"><a href="#cb82-421" aria-hidden="true" tabindex="-1"></a>morning.</span>
<span id="cb82-422"><a href="#cb82-422" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-423"><a href="#cb82-423" aria-hidden="true" tabindex="-1"></a>For men, most consume none, but oddly, as consumption increases, so too</span>
<span id="cb82-424"><a href="#cb82-424" aria-hidden="true" tabindex="-1"></a>does sleep efficiency. Again though, much likely has to do with time of</span>
<span id="cb82-425"><a href="#cb82-425" aria-hidden="true" tabindex="-1"></a>day caffeine is consumed, so I am inclined to once again believe these</span>
<span id="cb82-426"><a href="#cb82-426" aria-hidden="true" tabindex="-1"></a>individuals aren't effected much by caffeine, so are able to consume</span>
<span id="cb82-427"><a href="#cb82-427" aria-hidden="true" tabindex="-1"></a>more. Overall though, all of these high-efficiency-sleepers consume a</span>
<span id="cb82-428"><a href="#cb82-428" aria-hidden="true" tabindex="-1"></a>reasonable amount, and sleep very well. Thirdly, we'll look at exercise.</span>
<span id="cb82-429"><a href="#cb82-429" aria-hidden="true" tabindex="-1"></a>How often are these efficient sleepers exercising?</span>
<span id="cb82-430"><a href="#cb82-430" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-431"><a href="#cb82-431" aria-hidden="true" tabindex="-1"></a><span class="in">```{r S.E._Exercise}</span></span>
<span id="cb82-432"><a href="#cb82-432" aria-hidden="true" tabindex="-1"></a><span class="co">#since we mutated gender to be binary earlier, we will revert back to the original names of 'male', 'female' for the visualization. </span></span>
<span id="cb82-433"><a href="#cb82-433" aria-hidden="true" tabindex="-1"></a><span class="co">#n_sleep$Gender[sleep$Gender=="0"] &lt;- "Male"</span></span>
<span id="cb82-434"><a href="#cb82-434" aria-hidden="true" tabindex="-1"></a><span class="co">#n_sleep$Gender[sleep$Gender=="1"] &lt;- "Female"</span></span>
<span id="cb82-435"><a href="#cb82-435" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-436"><a href="#cb82-436" aria-hidden="true" tabindex="-1"></a>n_sleep <span class="sc">%&gt;%</span> </span>
<span id="cb82-437"><a href="#cb82-437" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(Exercise.frequency,Sleep.efficiency, <span class="at">color=</span>Gender))<span class="sc">+</span></span>
<span id="cb82-438"><a href="#cb82-438" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">size=</span><span class="dv">2</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>)<span class="sc">+</span></span>
<span id="cb82-439"><a href="#cb82-439" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>()<span class="sc">+</span></span>
<span id="cb82-440"><a href="#cb82-440" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>Gender)<span class="sc">+</span></span>
<span id="cb82-441"><a href="#cb82-441" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x=</span><span class="st">'Exercise Frequency'</span>, <span class="at">y=</span><span class="st">'Sleep Efficiency'</span>) <span class="sc">+</span></span>
<span id="cb82-442"><a href="#cb82-442" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_linedraw</span>()<span class="sc">+</span></span>
<span id="cb82-443"><a href="#cb82-443" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">"Exercise Frequency &amp; Sleep Efficiency by Gender"</span>)</span>
<span id="cb82-444"><a href="#cb82-444" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb82-445"><a href="#cb82-445" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-446"><a href="#cb82-446" aria-hidden="true" tabindex="-1"></a>Of this subset of male sleepers, the least efficient are those who do no</span>
<span id="cb82-447"><a href="#cb82-447" aria-hidden="true" tabindex="-1"></a>exercise at all. For women, the least effiicient appear to exercise</span>
<span id="cb82-448"><a href="#cb82-448" aria-hidden="true" tabindex="-1"></a>onece per week and most efficient female sleepers appear to exercise</span>
<span id="cb82-449"><a href="#cb82-449" aria-hidden="true" tabindex="-1"></a>between 3-4 times per week. For men, The maximum amount of days these</span>
<span id="cb82-450"><a href="#cb82-450" aria-hidden="true" tabindex="-1"></a>efficient sleepers exercised was 4 days. 4 days also led to maximum</span>
<span id="cb82-451"><a href="#cb82-451" aria-hidden="true" tabindex="-1"></a>sleep efficiency at over 0.9. So, it appears for both men an women,</span>
<span id="cb82-452"><a href="#cb82-452" aria-hidden="true" tabindex="-1"></a>although they follow different paths to get there, four days of exercise</span>
<span id="cb82-453"><a href="#cb82-453" aria-hidden="true" tabindex="-1"></a>yields maximum sleep efficiency.</span>
<span id="cb82-454"><a href="#cb82-454" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-455"><a href="#cb82-455" aria-hidden="true" tabindex="-1"></a>Lastly, I will take a look at smoking category. First, I will use</span>
<span id="cb82-456"><a href="#cb82-456" aria-hidden="true" tabindex="-1"></a>n_sleep data set to look at all efficiency, then filter for smoking and</span>
<span id="cb82-457"><a href="#cb82-457" aria-hidden="true" tabindex="-1"></a>see if the trends change. I would imagine those who smoke wake up more</span>
<span id="cb82-458"><a href="#cb82-458" aria-hidden="true" tabindex="-1"></a>often and sleep less efficiently because their body is craving</span>
<span id="cb82-459"><a href="#cb82-459" aria-hidden="true" tabindex="-1"></a>nicotine/. We will look at two sets of boxplots. First is derived from</span>
<span id="cb82-460"><a href="#cb82-460" aria-hidden="true" tabindex="-1"></a>the original raw data and includes all 452 subjects. It splits up by</span>
<span id="cb82-461"><a href="#cb82-461" aria-hidden="true" tabindex="-1"></a>gender again and looks at smokers vs. non-smokers sleep efficiency.</span>
<span id="cb82-462"><a href="#cb82-462" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-463"><a href="#cb82-463" aria-hidden="true" tabindex="-1"></a><span class="in">```{r S.E._Smoking_OG}</span></span>
<span id="cb82-464"><a href="#cb82-464" aria-hidden="true" tabindex="-1"></a><span class="co">#For the binary smoking, boxplots will help us see the mean sleep efficiency between smokers and non-smokers mroe easily. </span></span>
<span id="cb82-465"><a href="#cb82-465" aria-hidden="true" tabindex="-1"></a>sleep <span class="sc">%&gt;%</span> </span>
<span id="cb82-466"><a href="#cb82-466" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(Smoking.status,Sleep.efficiency, <span class="at">color=</span>Gender, <span class="at">fill =</span> Gender))<span class="sc">+</span></span>
<span id="cb82-467"><a href="#cb82-467" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">size=</span><span class="dv">2</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>)<span class="sc">+</span></span>
<span id="cb82-468"><a href="#cb82-468" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>()<span class="sc">+</span></span>
<span id="cb82-469"><a href="#cb82-469" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>Gender)<span class="sc">+</span></span>
<span id="cb82-470"><a href="#cb82-470" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x=</span><span class="st">'Smoking Status'</span>, <span class="at">y=</span><span class="st">'Sleep Efficiency'</span>) <span class="sc">+</span></span>
<span id="cb82-471"><a href="#cb82-471" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_linedraw</span>()<span class="sc">+</span></span>
<span id="cb82-472"><a href="#cb82-472" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">"Smoking Status &amp; Sleep Efficiency by Gender (Whole Data Set)"</span>)</span>
<span id="cb82-473"><a href="#cb82-473" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb82-474"><a href="#cb82-474" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-475"><a href="#cb82-475" aria-hidden="true" tabindex="-1"></a>The following set of boxplots references n_sleep, and therefor</span>
<span id="cb82-476"><a href="#cb82-476" aria-hidden="true" tabindex="-1"></a>specifically 21-35 year old individuals.</span>
<span id="cb82-477"><a href="#cb82-477" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-478"><a href="#cb82-478" aria-hidden="true" tabindex="-1"></a><span class="in">```{r S.E._Smoking_new}</span></span>
<span id="cb82-479"><a href="#cb82-479" aria-hidden="true" tabindex="-1"></a>n_sleep <span class="sc">%&gt;%</span> </span>
<span id="cb82-480"><a href="#cb82-480" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(Smoking.status,Sleep.efficiency, <span class="at">color=</span>Gender, <span class="at">fill =</span> Gender))<span class="sc">+</span></span>
<span id="cb82-481"><a href="#cb82-481" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">size=</span><span class="dv">2</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>)<span class="sc">+</span></span>
<span id="cb82-482"><a href="#cb82-482" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>()<span class="sc">+</span></span>
<span id="cb82-483"><a href="#cb82-483" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>Gender)<span class="sc">+</span></span>
<span id="cb82-484"><a href="#cb82-484" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x=</span><span class="st">'Smoking Status'</span>, <span class="at">y=</span><span class="st">'Sleep Efficiency'</span>) <span class="sc">+</span></span>
<span id="cb82-485"><a href="#cb82-485" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_linedraw</span>()<span class="sc">+</span></span>
<span id="cb82-486"><a href="#cb82-486" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">"Smoking Status &amp; Sleep Efficiency by Gender (21-35)"</span>)</span>
<span id="cb82-487"><a href="#cb82-487" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb82-488"><a href="#cb82-488" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb82-489"><a href="#cb82-489" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-490"><a href="#cb82-490" aria-hidden="true" tabindex="-1"></a><span class="fu"># Conclusion</span></span>
<span id="cb82-491"><a href="#cb82-491" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-492"><a href="#cb82-492" aria-hidden="true" tabindex="-1"></a>In general, young adults (aged 21-35) saw enhanced sleep efficiency</span>
<span id="cb82-493"><a href="#cb82-493" aria-hidden="true" tabindex="-1"></a>(proportion of time spent in bed actually spent asleep) when they had</span>
<span id="cb82-494"><a href="#cb82-494" aria-hidden="true" tabindex="-1"></a>higher exercise rates and lower alcohol consumption (with the male 2-3</span>
<span id="cb82-495"><a href="#cb82-495" aria-hidden="true" tabindex="-1"></a>drink caveat). The genesis of this analysis is that exercise for anyone</span>
<span id="cb82-496"><a href="#cb82-496" aria-hidden="true" tabindex="-1"></a>(male or female) can promote higher sleep efficiency, that amount of</span>
<span id="cb82-497"><a href="#cb82-497" aria-hidden="true" tabindex="-1"></a>exercise will likely vary from person to person. For young men, smoking</span>
<span id="cb82-498"><a href="#cb82-498" aria-hidden="true" tabindex="-1"></a>is a major sleep inhibitor. For young women, alcohol appears to be the</span>
<span id="cb82-499"><a href="#cb82-499" aria-hidden="true" tabindex="-1"></a>greatest sleep inhibitor. The remaining paragraphs blow will draw</span>
<span id="cb82-500"><a href="#cb82-500" aria-hidden="true" tabindex="-1"></a>further conclusions from the analysis for each specific variable.</span>
<span id="cb82-501"><a href="#cb82-501" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-502"><a href="#cb82-502" aria-hidden="true" tabindex="-1"></a>The fact 2-3 drinks leads to slightly better sleep in men is not a</span>
<span id="cb82-503"><a href="#cb82-503" aria-hidden="true" tabindex="-1"></a>promotion or sign to go drink alcohol every night. This evidence</span>
<span id="cb82-504"><a href="#cb82-504" aria-hidden="true" tabindex="-1"></a>actually suggests that while alcohol may help you get to sleep quicker,</span>
<span id="cb82-505"><a href="#cb82-505" aria-hidden="true" tabindex="-1"></a>it often leads to reduced sleep quality.<span class="ot">[^3]</span> For women and men both,</span>
<span id="cb82-506"><a href="#cb82-506" aria-hidden="true" tabindex="-1"></a>zero drinks saw optimal sleep quality. For women, every additional drink</span>
<span id="cb82-507"><a href="#cb82-507" aria-hidden="true" tabindex="-1"></a>led to lower and lower quality sleep, with a very slight increase in</span>
<span id="cb82-508"><a href="#cb82-508" aria-hidden="true" tabindex="-1"></a>quality around 5 drinks. It's probable that 5 drinks would lead a woman</span>
<span id="cb82-509"><a href="#cb82-509" aria-hidden="true" tabindex="-1"></a>to a rather high level of intoxication and result in a much deeper sleep</span>
<span id="cb82-510"><a href="#cb82-510" aria-hidden="true" tabindex="-1"></a>and the inability to even stay awake once their head hits the pillow.</span>
<span id="cb82-511"><a href="#cb82-511" aria-hidden="true" tabindex="-1"></a>Considering our definition of sleep efficiency (time in bed spent</span>
<span id="cb82-512"><a href="#cb82-512" aria-hidden="true" tabindex="-1"></a>sleeping), the slight increase makes sense.</span>
<span id="cb82-513"><a href="#cb82-513" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-514"><a href="#cb82-514" aria-hidden="true" tabindex="-1"></a><span class="ot">[^3]: </span><span class="sc">\[</span>1<span class="sc">\]</span> Roehrs, T. and Roth, T., (2001) Sleep, sleepiness, and</span>
<span id="cb82-515"><a href="#cb82-515" aria-hidden="true" tabindex="-1"></a>    alcohol use. Alcohol research and Health, 25(2), pp.101-109.</span>
<span id="cb82-516"><a href="#cb82-516" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-517"><a href="#cb82-517" aria-hidden="true" tabindex="-1"></a>Next, for caffeine, this data is not the most useful because the mass</span>
<span id="cb82-518"><a href="#cb82-518" aria-hidden="true" tabindex="-1"></a>majority of men consume zero caffeine and they have the worst sleep</span>
<span id="cb82-519"><a href="#cb82-519" aria-hidden="true" tabindex="-1"></a>quality. Then we see an increase in sleep efficiency the more caffeine</span>
<span id="cb82-520"><a href="#cb82-520" aria-hidden="true" tabindex="-1"></a>men consume. Again, I think if the sample size were larger, we'd see a</span>
<span id="cb82-521"><a href="#cb82-521" aria-hidden="true" tabindex="-1"></a>different trend emerge, and that the high caffeine consumers are more</span>
<span id="cb82-522"><a href="#cb82-522" aria-hidden="true" tabindex="-1"></a>immune to caffeine or they consume solely in the early morning, so their</span>
<span id="cb82-523"><a href="#cb82-523" aria-hidden="true" tabindex="-1"></a>sleep is hardly affected. Similarly, the female graph shows odd results.</span>
<span id="cb82-524"><a href="#cb82-524" aria-hidden="true" tabindex="-1"></a>No women consumed more than 75mg of caffeine. 0mg and 75mg show similar</span>
<span id="cb82-525"><a href="#cb82-525" aria-hidden="true" tabindex="-1"></a>sleep quality with a substantial dip at 50mg. Similar to the men, the</span>
<span id="cb82-526"><a href="#cb82-526" aria-hidden="true" tabindex="-1"></a>heavier consumers are in the minority, so the results may be skewed.</span>
<span id="cb82-527"><a href="#cb82-527" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-528"><a href="#cb82-528" aria-hidden="true" tabindex="-1"></a>For smokers, we looked at the sample for all smokers/non-smokers and</span>
<span id="cb82-529"><a href="#cb82-529" aria-hidden="true" tabindex="-1"></a>smokers/non-smokers aged 21-35. For the entire data set, non-smoking</span>
<span id="cb82-530"><a href="#cb82-530" aria-hidden="true" tabindex="-1"></a>females saw approximately 13% higher sleep efficiency than female</span>
<span id="cb82-531"><a href="#cb82-531" aria-hidden="true" tabindex="-1"></a>smokers, while the mean benefit for non-smoking men was negligible at</span>
<span id="cb82-532"><a href="#cb82-532" aria-hidden="true" tabindex="-1"></a>only \~1-2%. For those aged 21-35, women saw a less substantial change,</span>
<span id="cb82-533"><a href="#cb82-533" aria-hidden="true" tabindex="-1"></a>with non-smoking females experiencing roughly a 5% higher sleep</span>
<span id="cb82-534"><a href="#cb82-534" aria-hidden="true" tabindex="-1"></a>efficiency rate. Meanwhile, men saw a glaring difference, with</span>
<span id="cb82-535"><a href="#cb82-535" aria-hidden="true" tabindex="-1"></a>non-smoking men aged 21-35 operating at 83-84% mean sleep efficiency and</span>
<span id="cb82-536"><a href="#cb82-536" aria-hidden="true" tabindex="-1"></a>smoking men of the same age group seeing a mean of under 60%, which is</span>
<span id="cb82-537"><a href="#cb82-537" aria-hidden="true" tabindex="-1"></a>far worse off than non-smokers. This means that smoking is a massive</span>
<span id="cb82-538"><a href="#cb82-538" aria-hidden="true" tabindex="-1"></a>inhibitor of sleep efficiency in young men. Smoker vs non-smoker sleep</span>
<span id="cb82-539"><a href="#cb82-539" aria-hidden="true" tabindex="-1"></a>efficiency for women tightened with the age filter, but vastly widened</span>
<span id="cb82-540"><a href="#cb82-540" aria-hidden="true" tabindex="-1"></a>for men.</span>
<span id="cb82-541"><a href="#cb82-541" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-542"><a href="#cb82-542" aria-hidden="true" tabindex="-1"></a>Lastly, for exercise, there is a sporadic/widespread sleep efficiency</span>
<span id="cb82-543"><a href="#cb82-543" aria-hidden="true" tabindex="-1"></a>recorded for all days listed. For example, men who worked out just one</span>
<span id="cb82-544"><a href="#cb82-544" aria-hidden="true" tabindex="-1"></a>day showed superior sleep efficiency to men who worked out two days,</span>
<span id="cb82-545"><a href="#cb82-545" aria-hidden="true" tabindex="-1"></a>then the trend decreased further at three days before increasing greatly</span>
<span id="cb82-546"><a href="#cb82-546" aria-hidden="true" tabindex="-1"></a>again at four days. Despite this tumultuous journey across the graph</span>
<span id="cb82-547"><a href="#cb82-547" aria-hidden="true" tabindex="-1"></a>plane, the line still tells us that from 1-4 days of working out, sleep</span>
<span id="cb82-548"><a href="#cb82-548" aria-hidden="true" tabindex="-1"></a>efficiency was better for those individuals than it was for those who</span>
<span id="cb82-549"><a href="#cb82-549" aria-hidden="true" tabindex="-1"></a>didn't work out at all. So, we can't say how many days you should work</span>
<span id="cb82-550"><a href="#cb82-550" aria-hidden="true" tabindex="-1"></a>out, but we can say you should try a different mix of days and be</span>
<span id="cb82-551"><a href="#cb82-551" aria-hidden="true" tabindex="-1"></a>cognizant of your sleep quality week to week. One can likely find the</span>
<span id="cb82-552"><a href="#cb82-552" aria-hidden="true" tabindex="-1"></a>optimal number of weekly workouts with this strategy, and the answer</span>
<span id="cb82-553"><a href="#cb82-553" aria-hidden="true" tabindex="-1"></a>does not appear to be zero.</span>
<span id="cb82-554"><a href="#cb82-554" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-555"><a href="#cb82-555" aria-hidden="true" tabindex="-1"></a><span class="fu"># Limitations</span></span>
<span id="cb82-556"><a href="#cb82-556" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-557"><a href="#cb82-557" aria-hidden="true" tabindex="-1"></a>The evidence against caffeine was inconclusive, but many caffeine</span>
<span id="cb82-558"><a href="#cb82-558" aria-hidden="true" tabindex="-1"></a>consumers were high-efficiency sleepers. Overall, a larger sample could</span>
<span id="cb82-559"><a href="#cb82-559" aria-hidden="true" tabindex="-1"></a>have led to a spread with greater validity, but I believe many of these</span>
<span id="cb82-560"><a href="#cb82-560" aria-hidden="true" tabindex="-1"></a>trends (alcohol, smoking, excessive) would likely be perpetuated with a</span>
<span id="cb82-561"><a href="#cb82-561" aria-hidden="true" tabindex="-1"></a>greater sample.</span>
<span id="cb82-562"><a href="#cb82-562" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-563"><a href="#cb82-563" aria-hidden="true" tabindex="-1"></a>Additionally, we know people consumed alcohol and caffeine, but there is</span>
<span id="cb82-564"><a href="#cb82-564" aria-hidden="true" tabindex="-1"></a>no data that tells us when they consumed it. That is a huge gap because</span>
<span id="cb82-565"><a href="#cb82-565" aria-hidden="true" tabindex="-1"></a>if one drank 5 beers at between 11pm-12am, they'd probably pass out and</span>
<span id="cb82-566"><a href="#cb82-566" aria-hidden="true" tabindex="-1"></a>have high sleep efficiency vs someone who had 4 beers from the hours of</span>
<span id="cb82-567"><a href="#cb82-567" aria-hidden="true" tabindex="-1"></a>1pm-10pm. Similarly for caffeine, someone drinking 75mg at 8am will not</span>
<span id="cb82-568"><a href="#cb82-568" aria-hidden="true" tabindex="-1"></a>sleep at the same rate of efficiency as someone who consumed 75mg at</span>
<span id="cb82-569"><a href="#cb82-569" aria-hidden="true" tabindex="-1"></a>10pm then proceeded to try try to sleep a couple hours later. The</span>
<span id="cb82-570"><a href="#cb82-570" aria-hidden="true" tabindex="-1"></a>inclusion of this data could certainly lend to a more precise analysis.</span>
<span id="cb82-571"><a href="#cb82-571" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-572"><a href="#cb82-572" aria-hidden="true" tabindex="-1"></a><span class="fu">#### References</span></span>
<span id="cb82-573"><a href="#cb82-573" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-576"><a href="#cb82-576" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb82-577"><a href="#cb82-577" aria-hidden="true" tabindex="-1"></a><span class="fu">citation</span>()</span>
<span id="cb82-578"><a href="#cb82-578" aria-hidden="true" tabindex="-1"></a><span class="fu">citation</span>(<span class="st">"tidyverse"</span>)</span>
<span id="cb82-579"><a href="#cb82-579" aria-hidden="true" tabindex="-1"></a><span class="fu">RStudio.Version</span>()</span>
<span id="cb82-580"><a href="#cb82-580" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->



</body></html>