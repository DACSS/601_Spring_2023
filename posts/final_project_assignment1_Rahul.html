<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.340">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Rahul Somu">
<meta name="dcterms.date" content="2023-04-18">
<meta name="description" content="Project &amp; Data Description">

<title>Final Project Assignment#1: Project &amp; Data Description</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../images/DACSS_Round_Network.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

<link href="../site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet">
<script src="../site_libs/pagedtable-1.1/js/pagedtable.js"></script>


<link rel="stylesheet" href="styles.css">
<meta name="twitter:title" content="Final Project Assignment#1: Project &amp; Data Description">
<meta name="twitter:description" content="Project &amp; Data Description">
<meta name="twitter:creator" content="@UMassDACSS">
<meta name="twitter:site" content="@UMassDACSS">
<meta name="twitter:card" content="summary">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a href="../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../images/UMass White Wordmark Horiz.png" alt="" class="navbar-logo">
    </a>
  </div>
            <div id="quarto-search" class="" title="true"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="https://github.com/DACSS" rel="" target="">
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../about.html" rel="" target="">
 <span class="menu-text">Contributors</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://umass.edu/sbs/dacss" rel="" target="">
 <span class="menu-text">DACSS</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/DACSS" rel="" target=""><i class="bi bi-github" role="img" aria-label="GitHub">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#overview-of-the-final-project" id="toc-overview-of-the-final-project" class="nav-link active" data-scroll-target="#overview-of-the-final-project">Overview of the Final Project</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">Final Project Assignment#1: Project &amp; Data Description</h1><button type="button" class="btn code-tools-button" id="quarto-code-tools-source"><i class="bi"></i> Code</button></div></div>
  <div class="quarto-categories">
    <div class="quarto-category">final_Project_assignment_1</div>
    <div class="quarto-category">final_project_data_description</div>
  </div>
  </div>

<div>
  <div class="description">
    Project &amp; Data Description
  </div>
</div>


<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Rahul Somu </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">April 18, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">echo =</span> <span class="cn">TRUE</span>, <span class="at">warning=</span><span class="cn">FALSE</span>, <span class="at">message=</span><span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="overview-of-the-final-project" class="level2">
<h2 class="anchored" data-anchor-id="overview-of-the-final-project">Overview of the Final Project</h2>
<p>Introduction:</p>
<p>Housing affordability is one of the major problems in the United States. With many households struggling to afford the rising cost of housing, it is critical to analyze the data trends over the country. According to statistics from the U.S. Census Bureau on median household income by city and region from 1996 to the present, Housing affordability has changed significantly over the time.</p>
<p>Although there has been general increase in median household income over the previous few decades, it has not been uniform across all the regions. Some regions have seen greater growth than others and similar swings have been observed in the median home prices, with some regions seeing more significant price increases than others.</p>
<p>The widening disparity between median household incomes and median property prices is one of the most obvious patterns in the statistics which is becoming more challenging for many Americans to afford homeownership as median property prices in many locations have been rising more quickly than median household incomes. The affordability issue has also been made worse by the fact that, despite the median household income rising, it has not kept up with the cost of living.</p>
<p>Overall, according to data from the U.S. Census Bureau, the affordability of housing has become a major worry over time, with many Americans finding it difficult to keep up with the rising cost of housing. The data emphasize the necessity of making policy changes to address the housing affordability crisis and guarantee that all Americans have access to safe, reasonably priced housing.</p>
<p>As part of this project I’m trying to focus on below: Visualize the trends in home values, the average household income, and inflation rates through time, broken down by area and city size. Create graphs showing the evolution of housing affordability over time in the country’s largest cities and how it differs by area and city size.</p>
<p>Data Sources:</p>
<p>As part of this project I found below resources that will help me understand the issue. Zillow Home Value Index (ZHVI) - a dataset from Zillow with the median home value for each region and city in the United States from 1996 to the present. https://www.kaggle.com/datasets/robikscube/zillow-home-value-index?resource=download</p>
<p>U.S. Census Bureau data on median household income by city and region from 1996 to the present. https://www.census.gov/data/tables/time-series/demo/income-poverty/historical-income-households.html</p>
<p>U.S. Bureau of Labor Statistics data on inflation rates by region and year from 1996 to the present. https://www.bls.gov/cpi/regional-resources.htm</p>
<ol type="1">
<li>Util to Create a look up for states to region</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>state_to_region <span class="ot">&lt;-</span> <span class="cf">function</span>(state) {</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  region_lookup <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">Northeast =</span> <span class="fu">c</span>(<span class="st">"Connecticut"</span>, <span class="st">"Maine"</span>, <span class="st">"Massachusetts"</span>, <span class="st">"New Hampshire"</span>, <span class="st">"New Jersey"</span>, <span class="st">"New York"</span>, <span class="st">"Pennsylvania"</span>, <span class="st">"Rhode Island"</span>, <span class="st">"Vermont"</span>),</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">South =</span> <span class="fu">c</span>(<span class="st">"Delaware"</span>, <span class="st">"District of Columbia"</span>, <span class="st">"Florida"</span>, <span class="st">"Georgia"</span>, <span class="st">"Maryland"</span>, <span class="st">"North Carolina"</span>, <span class="st">"South Carolina"</span>, <span class="st">"Virginia"</span>, <span class="st">"West Virginia"</span>, <span class="st">"Alabama"</span>, <span class="st">"Kentucky"</span>, <span class="st">"Mississippi"</span>, <span class="st">"Tennessee"</span>, <span class="st">"Arkansas"</span>, <span class="st">"Louisiana"</span>, <span class="st">"Oklahoma"</span>, <span class="st">"Texas"</span>),</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">Midwest =</span> <span class="fu">c</span>(<span class="st">"Illinois"</span>, <span class="st">"Indiana"</span>, <span class="st">"Michigan"</span>, <span class="st">"Ohio"</span>, <span class="st">"Wisconsin"</span>, <span class="st">"Iowa"</span>, <span class="st">"Kansas"</span>, <span class="st">"Minnesota"</span>, <span class="st">"Missouri"</span>, <span class="st">"Nebraska"</span>, <span class="st">"North Dakota"</span>, <span class="st">"South Dakota"</span>),</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">West =</span> <span class="fu">c</span>(<span class="st">"Arizona"</span>, <span class="st">"Colorado"</span>, <span class="st">"Idaho"</span>, <span class="st">"Montana"</span>, <span class="st">"Nevada"</span>, <span class="st">"New Mexico"</span>, <span class="st">"Utah"</span>, <span class="st">"Wyoming"</span>, <span class="st">"Alaska"</span>, <span class="st">"California"</span>, <span class="st">"Hawaii"</span>, <span class="st">"Oregon"</span>, <span class="st">"Washington"</span>)</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>  region <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (r <span class="cf">in</span> <span class="fu">names</span>(region_lookup)) {</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (state <span class="sc">%in%</span> region_lookup[[r]]) {</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>      region <span class="ot">&lt;-</span> r</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>      <span class="cf">break</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(region)</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="2" type="1">
<li>Read The Datasets</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>income_data <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"Rahul_Final_projectData/income_state.xlsx"</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>df_inflation <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"Rahul_Final_projectData/USA_inflation_data.xlsx"</span>)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>df_rentalindex <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"Rahul_Final_projectData/ZHVI.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="3" type="1">
<li>Create functions for getting data for each state</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Function to get income data by state and year</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>get_median_se <span class="ot">&lt;-</span> <span class="cf">function</span>(income_data, year, state){</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  rownum <span class="ot">&lt;-</span> <span class="fu">which</span>(income_data<span class="sc">$</span>State <span class="sc">==</span> state)</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  colnum <span class="ot">&lt;-</span> <span class="fu">which</span>(<span class="fu">colnames</span>(income_data) <span class="sc">==</span> year)</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  median_income <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(income_data[rownum, colnum])</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>  se <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(income_data[rownum, colnum<span class="sc">+</span><span class="dv">1</span>])</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>  <span class="co">#diff &lt;- median_income - se</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(<span class="fu">c</span>(<span class="fu">as.character</span>(median_income), <span class="fu">as.character</span>(se)))</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a><span class="fu">get_median_se</span>(income_data, <span class="st">"2021"</span>, <span class="st">"Alabama"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "56929" "2294" </code></pre>
</div>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Function to get inflation data</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>avg_by_region_and_year <span class="ot">&lt;-</span> <span class="cf">function</span>(df, state, year) {</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  region <span class="ot">&lt;-</span> <span class="fu">state_to_region</span>(state)</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  subset_df <span class="ot">&lt;-</span> <span class="fu">subset</span>(df, Region <span class="sc">==</span> region <span class="sc">&amp;</span> Year <span class="sc">==</span> year)</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  row_avgs <span class="ot">&lt;-</span> <span class="fu">apply</span>(subset_df[, <span class="dv">4</span><span class="sc">:</span><span class="fu">ncol</span>(subset_df)], <span class="dv">1</span>, mean, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>  overall_avg <span class="ot">&lt;-</span> <span class="fu">mean</span>(row_avgs, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(overall_avg)</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a><span class="co"># example usage</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a><span class="fu">avg_by_region_and_year</span>(df_inflation, <span class="st">"Texas"</span>, <span class="dv">2000</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 167.4143</code></pre>
</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>df_rentalindex<span class="sc">$</span>Date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(df_rentalindex<span class="sc">$</span>Date, <span class="at">format =</span> <span class="st">"%Y-%m-%d"</span>)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="co"># function to calculate average rental index for a state and year</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>get_state_rentalindex <span class="ot">&lt;-</span> <span class="cf">function</span>(df,state, year) {</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  df_filtered <span class="ot">&lt;-</span> <span class="fu">subset</span>(df, <span class="fu">format</span>(<span class="fu">as.Date</span>(Date), <span class="st">"%Y"</span>) <span class="sc">==</span> year)</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>  state_avg <span class="ot">&lt;-</span> <span class="fu">mean</span>(df_filtered[[state]])</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(state_avg)</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a><span class="co"># example usage</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a><span class="fu">get_state_rentalindex</span>(df_rentalindex,<span class="st">"California"</span>, <span class="st">"2000"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 192840.2</code></pre>
</div>
</div>
<ol start="2" type="1">
<li>present the descriptive information of the dataset(s) using the functions in Challenges 1, 2, and 3;</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(income_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 53 79</code></pre>
</div>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(df_inflation)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 96 17</code></pre>
</div>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(df_rentalindex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 278  52</code></pre>
</div>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(income_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["State"],"name":[1],"type":["chr"],"align":["left"]},{"label":["2021"],"name":[2],"type":["chr"],"align":["left"]},{"label":["...3"],"name":[3],"type":["chr"],"align":["left"]},{"label":["2020"],"name":[4],"type":["chr"],"align":["left"]},{"label":["...5"],"name":[5],"type":["chr"],"align":["left"]},{"label":["2019"],"name":[6],"type":["chr"],"align":["left"]},{"label":["...7"],"name":[7],"type":["chr"],"align":["left"]},{"label":["2018"],"name":[8],"type":["chr"],"align":["left"]},{"label":["...9"],"name":[9],"type":["chr"],"align":["left"]},{"label":["2017 (40)"],"name":[10],"type":["chr"],"align":["left"]},{"label":["...11"],"name":[11],"type":["chr"],"align":["left"]},{"label":["2017"],"name":[12],"type":["chr"],"align":["left"]},{"label":["...13"],"name":[13],"type":["chr"],"align":["left"]},{"label":["2016"],"name":[14],"type":["chr"],"align":["left"]},{"label":["...15"],"name":[15],"type":["chr"],"align":["left"]},{"label":["2015"],"name":[16],"type":["chr"],"align":["left"]},{"label":["...17"],"name":[17],"type":["chr"],"align":["left"]},{"label":["2014"],"name":[18],"type":["chr"],"align":["left"]},{"label":["...19"],"name":[19],"type":["chr"],"align":["left"]},{"label":["2013"],"name":[20],"type":["chr"],"align":["left"]},{"label":["...21"],"name":[21],"type":["chr"],"align":["left"]},{"label":["2012"],"name":[22],"type":["chr"],"align":["left"]},{"label":["...23"],"name":[23],"type":["chr"],"align":["left"]},{"label":["2011"],"name":[24],"type":["chr"],"align":["left"]},{"label":["...25"],"name":[25],"type":["chr"],"align":["left"]},{"label":["2010"],"name":[26],"type":["chr"],"align":["left"]},{"label":["...27"],"name":[27],"type":["chr"],"align":["left"]},{"label":["2009"],"name":[28],"type":["chr"],"align":["left"]},{"label":["...29"],"name":[29],"type":["chr"],"align":["left"]},{"label":["2008"],"name":[30],"type":["chr"],"align":["left"]},{"label":["...31"],"name":[31],"type":["chr"],"align":["left"]},{"label":["2007"],"name":[32],"type":["chr"],"align":["left"]},{"label":["...33"],"name":[33],"type":["chr"],"align":["left"]},{"label":["2006"],"name":[34],"type":["chr"],"align":["left"]},{"label":["...35"],"name":[35],"type":["chr"],"align":["left"]},{"label":["2005"],"name":[36],"type":["chr"],"align":["left"]},{"label":["...37"],"name":[37],"type":["chr"],"align":["left"]},{"label":["2004"],"name":[38],"type":["chr"],"align":["left"]},{"label":["...39"],"name":[39],"type":["chr"],"align":["left"]},{"label":["2003"],"name":[40],"type":["chr"],"align":["left"]},{"label":["...41"],"name":[41],"type":["chr"],"align":["left"]},{"label":["2002"],"name":[42],"type":["chr"],"align":["left"]},{"label":["...43"],"name":[43],"type":["chr"],"align":["left"]},{"label":["2001"],"name":[44],"type":["chr"],"align":["left"]},{"label":["...45"],"name":[45],"type":["chr"],"align":["left"]},{"label":["2000"],"name":[46],"type":["chr"],"align":["left"]},{"label":["...47"],"name":[47],"type":["chr"],"align":["left"]},{"label":["1999"],"name":[48],"type":["chr"],"align":["left"]},{"label":["...49"],"name":[49],"type":["chr"],"align":["left"]},{"label":["1998"],"name":[50],"type":["chr"],"align":["left"]},{"label":["...51"],"name":[51],"type":["chr"],"align":["left"]},{"label":["1997"],"name":[52],"type":["chr"],"align":["left"]},{"label":["...53"],"name":[53],"type":["chr"],"align":["left"]},{"label":["1996"],"name":[54],"type":["chr"],"align":["left"]},{"label":["...55"],"name":[55],"type":["chr"],"align":["left"]},{"label":["1995"],"name":[56],"type":["chr"],"align":["left"]},{"label":["...57"],"name":[57],"type":["chr"],"align":["left"]},{"label":["1994"],"name":[58],"type":["chr"],"align":["left"]},{"label":["...59"],"name":[59],"type":["chr"],"align":["left"]},{"label":["1993"],"name":[60],"type":["chr"],"align":["left"]},{"label":["...61"],"name":[61],"type":["chr"],"align":["left"]},{"label":["1992"],"name":[62],"type":["chr"],"align":["left"]},{"label":["...63"],"name":[63],"type":["chr"],"align":["left"]},{"label":["1991"],"name":[64],"type":["chr"],"align":["left"]},{"label":["...65"],"name":[65],"type":["chr"],"align":["left"]},{"label":["1990"],"name":[66],"type":["chr"],"align":["left"]},{"label":["...67"],"name":[67],"type":["chr"],"align":["left"]},{"label":["1989"],"name":[68],"type":["chr"],"align":["left"]},{"label":["...69"],"name":[69],"type":["chr"],"align":["left"]},{"label":["1988"],"name":[70],"type":["chr"],"align":["left"]},{"label":["...71"],"name":[71],"type":["chr"],"align":["left"]},{"label":["1987"],"name":[72],"type":["chr"],"align":["left"]},{"label":["...73"],"name":[73],"type":["chr"],"align":["left"]},{"label":["1986"],"name":[74],"type":["chr"],"align":["left"]},{"label":["...75"],"name":[75],"type":["chr"],"align":["left"]},{"label":["1985"],"name":[76],"type":["chr"],"align":["left"]},{"label":["...77"],"name":[77],"type":["chr"],"align":["left"]},{"label":["1984"],"name":[78],"type":["chr"],"align":["left"]},{"label":["...79"],"name":[79],"type":["chr"],"align":["left"]}],"data":[{"1":"NA","2":"Median income","3":"Standard error","4":"Median income","5":"Standard error","6":"Median income","7":"Standard error","8":"Median income","9":"Standard error","10":"Median income","11":"Standard error","12":"Median income","13":"Standard error","14":"Median income","15":"Standard error","16":"Median income","17":"Standard error","18":"Median income","19":"Standard error","20":"Median income","21":"Standard error","22":"Median income","23":"Standard error","24":"Median income","25":"Standard error","26":"Median income","27":"Standard error","28":"Median income","29":"Standard error","30":"Median income","31":"Standard error","32":"Median income","33":"Standard error","34":"Median income","35":"Standard error","36":"Median income","37":"Standard error","38":"Median income","39":"Standard error","40":"Median income","41":"Standard error","42":"Median income","43":"Standard error","44":"Median income","45":"Standard error","46":"Median income","47":"Standard error","48":"Median income","49":"Standard error","50":"Median income","51":"Standard error","52":"Median income","53":"Standard error","54":"Median income","55":"Standard error","56":"Median income","57":"Standard error","58":"Median income","59":"Standard error","60":"Median income","61":"Standard error","62":"Median income","63":"Standard error","64":"Median income","65":"Standard error","66":"Median income","67":"Standard error","68":"Median income","69":"Standard error","70":"Median income","71":"Standard error","72":"Median income","73":"Standard error","74":"Median income","75":"Standard error","76":"Median income","77":"Standard error","78":"Median income","79":"Standard error"},{"1":"United States","2":"70784","3":"368","4":"68010","5":"535","6":"68703","7":"550","8":"63179","9":"420","10":"61136","11":"322","12":"61372","13":"335","14":"59039","15":"436","16":"56516","17":"321","18":"53657","19":"392","20":"53585","21":"654","22":"51017","23":"209","24":"50054","25":"251","26":"49276","27":"325","28":"49777","29":"213","30":"50303","31":"137","32":"50233","33":"140","34":"48201","35":"207","36":"46326","37":"155","38":"44334","39":"196","40":"43318","41":"188","42":"42409","43":"139","44":"42228","45":"129","46":"41990","47":"132","48":"40696","49":"190","50":"38885","51":"230","52":"37005","53":"171","54":"35492","55":"179","56":"34076","57":"197","58":"32264","59":"147","60":"31241","61":"146","62":"30636","63":"145","64":"30126","65":"144","66":"29943","67":"153","68":"28906","69":"159","70":"27225","71":"139","72":"26061","73":"127","74":"24897","75":"129","76":"23618","77":"128","78":"22415","79":"102"},{"1":"Alabama","2":"56929","3":"2294","4":"54689","5":"2563","6":"56200","7":"2512","8":"49936","9":"2423","10":"50865","11":"1094","12":"51113","13":"845","14":"47221","15":"2301","16":"44509","17":"3419","18":"42278","19":"1529","20":"47320","21":"5511","22":"43464","23":"2529","24":"42590","25":"2021","26":"40933","27":"2396","28":"39980","29":"904","30":"44476","31":"1659","32":"42212","33":"1420","34":"37952","35":"1014","36":"37150","37":"1215","38":"36629","39":"1303","40":"37255","41":"1580","42":"37603","43":"1062","44":"35160","45":"1006","46":"35424","47":"1072","48":"36251","49":"1189","50":"36266","51":"1307","52":"31939","53":"1607","54":"30302","55":"1258","56":"25991","57":"1266","58":"27196","59":"1559","60":"25082","61":"1088","62":"25808","63":"1058","64":"24346","65":"1068","66":"23357","67":"1037","68":"21284","69":"1070","70":"19948","71":"912","72":"19734","73":"1147","74":"19132","75":"885","76":"18333","77":"760","78":"17310","79":"605"},{"1":"Alaska","2":"81133","3":"3967","4":"74746","5":"3557","6":"78394","7":"6685","8":"68734","9":"3390","10":"77987","11":"3718","12":"72231","13":"2719","14":"75723","15":"4086","16":"75112","17":"3485","18":"67629","19":"3153","20":"72472","21":"5446","22":"63648","23":"2839","24":"57431","25":"3710","26":"57848","27":"2390","28":"61604","29":"1751","30":"63989","31":"2302","32":"62993","33":"1583","34":"56418","35":"1495","36":"55891","37":"1331","38":"55063","39":"2071","40":"51837","41":"981","42":"52774","43":"1073","44":"57363","45":"2012","46":"52847","47":"1159","48":"51396","49":"2226","50":"50692","51":"2124","52":"47994","53":"1258","54":"52779","55":"1907","56":"47954","57":"2008","58":"45367","59":"1494","60":"42931","61":"1643","62":"41802","63":"1156","64":"40612","65":"1822","66":"39298","67":"1627","68":"36006","69":"1378","70":"33103","71":"1183","72":"33233","73":"1497","74":"31356","75":"1017","76":"34782","77":"1089","78":"32356","79":"1473"},{"1":"Arizona","2":"70821","3":"3394","4":"67088","5":"3409","6":"70674","7":"3391","8":"62283","9":"2291","10":"59700","11":"2689","12":"61125","13":"2642","14":"57100","15":"1971","16":"52248","17":"2008","18":"49254","19":"2304","20":"52611","21":"4365","22":"47044","23":"2922","24":"48621","25":"2424","26":"46896","27":"2227","28":"45739","29":"1241","30":"46914","31":"1125","32":"47215","33":"1555","34":"46657","35":"1246","36":"45245","37":"1271","38":"43846","39":"1143","40":"41166","41":"1422","42":"39734","43":"1003","44":"42704","45":"1441","46":"39783","47":"1210","48":"36995","49":"1133","50":"37090","51":"1255","52":"32740","53":"1297","54":"31637","55":"1274","56":"30863","57":"1360","58":"31293","59":"773","60":"30510","61":"1120","62":"29358","63":"1088","64":"30737","65":"897","66":"29224","67":"1141","68":"28552","69":"1210","70":"26435","71":"843","72":"26749","73":"892","74":"25500","75":"718","76":"23877","77":"744","78":"21425","79":"609"},{"1":"Arkansas","2":"50784","3":"1440","4":"50777","5":"1837","6":"54539","7":"2384","8":"49781","9":"2108","10":"49751","11":"2491","12":"48829","13":"2642","14":"45907","15":"2165","16":"42798","17":"1572","18":"44922","19":"2546","20":"39376","21":"2402","22":"39018","23":"2812","24":"41302","25":"1849","26":"38587","27":"2464","28":"36538","29":"909","30":"39586","31":"1194","32":"40795","33":"1348","34":"37057","35":"767","36":"36658","37":"1309","38":"34984","39":"994","40":"32002","41":"776","42":"32387","43":"778","44":"33339","45":"1144","46":"29697","47":"772","48":"29682","49":"1026","50":"27665","51":"1160","52":"26162","53":"1154","54":"27123","55":"978","56":"25814","57":"999","58":"25565","59":"944","60":"23039","61":"847","62":"23882","63":"1398","64":"23435","65":"783","66":"22786","67":"981","68":"21433","69":"915","70":"20172","71":"706","72":"18827","73":"1008","74":"18730","75":"765","76":"17451","77":"764","78":"15674","79":"748"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<ol start="3" type="1">
<li>conduct summary statistics of the dataset(s); especially show the basic statistics (min, max, mean, median, etc.) for the variables you are interested in.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(df_rentalindex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      Date               Virginia        California        Florida      
 Min.   :2000-01-01   Min.   :114448   Min.   :183263   Min.   :102232  
 1st Qu.:2005-10-08   1st Qu.:197891   1st Qu.:292524   1st Qu.:136109  
 Median :2011-07-16   Median :219631   Median :388784   Median :173778  
 Mean   :2011-07-17   Mean   :219795   Mean   :400685   Mean   :188378  
 3rd Qu.:2017-04-23   3rd Qu.:245837   3rd Qu.:471709   3rd Qu.:230129  
 Max.   :2023-02-01   Max.   :352788   Max.   :758837   Max.   :382968  
                                                                        
     Texas            Nevada          New.York        New.Jersey    
 Min.   :103491   Min.   :126840   Min.   :122871   Min.   :151148  
 1st Qu.:123530   1st Qu.:167170   1st Qu.:204061   1st Qu.:247960  
 Median :130655   Median :220389   Median :219991   Median :279515  
 Mean   :151983   Mean   :237218   Mean   :232584   Mean   :281958  
 3rd Qu.:177563   3rd Qu.:303531   3rd Qu.:253952   3rd Qu.:317507  
 Max.   :295310   Max.   :440144   Max.   :410896   Max.   :440368  
                                                                    
    Arizona         Tennessee      West.Virginia       Georgia      
 Min.   :127957   Min.   : 92784   Min.   : 58201   Min.   :106693  
 1st Qu.:151316   1st Qu.:111305   1st Qu.: 78732   1st Qu.:126001  
 Median :189856   Median :120526   Median : 83140   Median :140309  
 Mean   :210120   Mean   :137849   Mean   : 88808   Mean   :153769  
 3rd Qu.:252483   3rd Qu.:150538   3rd Qu.:100642   3rd Qu.:159109  
 Max.   :437047   Max.   :285261   Max.   :143983   Max.   :303796  
 NA's   :1                         NA's   :1                        
 North.Carolina   Massachusetts        Hawaii          Colorado     
 Min.   :116314   Min.   :183093   Min.   :176017   Min.   :169818  
 1st Qu.:135109   1st Qu.:285744   1st Qu.:369539   1st Qu.:214326  
 Median :145608   Median :317222   Median :419144   Median :228125  
 Mean   :159663   Mean   :333554   Mean   :438470   Mean   :278369  
 3rd Qu.:165305   3rd Qu.:369005   3rd Qu.:554296   3rd Qu.:339056  
 Max.   :303166   Max.   :557412   Max.   :861627   Max.   :556750  
                                                                    
    Michigan      South.Carolina      Vermont         Minnesota     
 Min.   : 79031   Min.   :100082   Min.   : 88760   Min.   :112685  
 1st Qu.:100723   1st Qu.:122438   1st Qu.:150899   1st Qu.:156275  
 Median :116302   Median :134929   Median :168068   Median :177589  
 Mean   :121370   Mean   :145298   Mean   :174899   Mean   :186909  
 3rd Qu.:127914   3rd Qu.:154536   3rd Qu.:197476   3rd Qu.:205064  
 Max.   :211833   Max.   :267835   Max.   :319746   Max.   :314021  
                                                                    
    Indiana         Washington        Illinois          Oregon      
 Min.   : 90242   Min.   :166298   Min.   :108150   Min.   :142976  
 1st Qu.:103664   1st Qu.:216225   1st Qu.:132659   1st Qu.:188999  
 Median :109106   Median :259786   Median :150891   Median :229912  
 Mean   :121298   Mean   :289661   Mean   :154393   Mean   :254140  
 3rd Qu.:127750   3rd Qu.:326684   3rd Qu.:173109   3rd Qu.:306743  
 Max.   :217822   Max.   :588018   Max.   :229898   Max.   :498337  
                                                                    
  Connecticut          Utah         North.Dakota       Montana      
 Min.   :156392   Min.   :161827   Min.   :130966   Min.   :144789  
 1st Qu.:227901   1st Qu.:178131   1st Qu.:139510   1st Qu.:167533  
 Median :246940   Median :212460   Median :191458   Median :182144  
 Mean   :248507   Mean   :245073   Mean   :177292   Mean   :216615  
 3rd Qu.:272082   3rd Qu.:274825   3rd Qu.:196953   3rd Qu.:242717  
 Max.   :349739   Max.   :529454   Max.   :235975   Max.   :434557  
                                   NA's   :108      NA's   :61      
 New.Hampshire         Ohio           Missouri         Maryland     
 Min.   :125228   Min.   : 94815   Min.   : 84986   Min.   :138999  
 1st Qu.:197957   1st Qu.:104970   1st Qu.:108511   1st Qu.:223950  
 Median :219170   Median :112999   Median :118146   Median :255487  
 Mean   :232154   Mean   :120513   Mean   :126813   Mean   :255882  
 3rd Qu.:245854   3rd Qu.:123063   3rd Qu.:134601   3rd Qu.:296146  
 Max.   :421924   Max.   :199518   Max.   :221340   Max.   :381710  
                                                                    
     Idaho          Wisconsin          Kansas        Pennsylvania   
 Min.   :115460   Min.   :102168   Min.   : 72593   Min.   : 87544  
 1st Qu.:136507   1st Qu.:128707   1st Qu.: 92543   1st Qu.:135443  
 Median :170850   Median :142384   Median : 98642   Median :143779  
 Mean   :197510   Mean   :150836   Mean   :109245   Mean   :146101  
 3rd Qu.:210888   3rd Qu.:158847   3rd Qu.:119907   3rd Qu.:154896  
 Max.   :470980   Max.   :250226   Max.   :205073   Max.   :237774  
 NA's   :1                         NA's   :2                        
    Oklahoma      the.District.of.Columbia    Nebraska          Alaska      
 Min.   : 70112   Min.   :147817           Min.   : 99521   Min.   :125485  
 1st Qu.: 87542   1st Qu.:326460           1st Qu.:115634   1st Qu.:199817  
 Median : 94748   Median :358798           Median :120794   Median :229922  
 Mean   :103287   Mean   :389287           Mean   :135590   Mean   :232338  
 3rd Qu.:112466   3rd Qu.:501651           3rd Qu.:148736   3rd Qu.:263731  
 Max.   :185171   Max.   :654749           Max.   :236836   Max.   :343188  
                                                            NA's   :2       
   New.Mexico        Wyoming          Delaware       Rhode.Island   
 Min.   :123686   Min.   :130764   Min.   :132902   Min.   :125136  
 1st Qu.:152562   1st Qu.:181361   1st Qu.:193728   1st Qu.:209214  
 Median :164576   Median :190339   Median :220943   Median :234743  
 Mean   :170653   Mean   :202147   Mean   :221938   Mean   :243631  
 3rd Qu.:178281   3rd Qu.:222466   3rd Qu.:247511   3rd Qu.:278837  
 Max.   :277310   Max.   :319529   Max.   :351269   Max.   :404953  
 NA's   :27       NA's   :27                                        
     Maine          Louisiana         Arkansas         Alabama      
 Min.   : 92612   Min.   : 83285   Min.   : 69180   Min.   : 76906  
 1st Qu.:153086   1st Qu.:110090   1st Qu.: 91542   1st Qu.: 92004  
 Median :166698   Median :124074   Median : 97689   Median :103510  
 Mean   :177752   Mean   :126170   Mean   :103042   Mean   :111737  
 3rd Qu.:189259   3rd Qu.:140977   3rd Qu.:113094   3rd Qu.:122264  
 Max.   :344147   Max.   :180360   Max.   :173423   Max.   :199357  
                                                    NA's   :1       
  Mississippi      South.Dakota         Iowa           Kentucky     
 Min.   : 66101   Min.   : 90148   Min.   : 75996   Min.   : 78366  
 1st Qu.: 83544   1st Qu.:114269   1st Qu.: 97729   1st Qu.: 96390  
 Median : 88905   Median :124725   Median :101922   Median :101124  
 Mean   : 96463   Mean   :144248   Mean   :113321   Mean   :109261  
 3rd Qu.:111732   3rd Qu.:169450   3rd Qu.:126571   3rd Qu.:116845  
 Max.   :156641   Max.   :275894   Max.   :194074   Max.   :184542  
                  NA's   :1                                         </code></pre>
</div>
</div>
<p>Visualisation:</p>
<p>To visualize the affordability, I’m planning the states into three categories : “Highly Affordable and Healthy”, “Moderately Affordable and Healthy”, and “Unaffordable and Unhealthy”. To categorize the states, a composite index that takes into account of major factors as Zillow Home Value Index (ZHVI) , median household income by state, inflation rates by region.</p>
<p>Variables: Zillow Home Value Index (ZHVI) - Measure of median home value in each state, Median household income by state - average income earned by households in each state, Inflation rates by region - Measure of change in prices of goods and services over time in each region.</p>
<p>Index on healthy housing affordability could be done using below formula: Affordability Score = (ZHVI / Income) * (1 + Inflation)</p>
<p>Based on the Affordability Score, we could categorize states into different tiers of affordability, such as: Affordable: States with a score below 1.0, indicating that housing is relatively affordable compared to income levels. Moderately Affordable: States with a score between 1.0 and 1.5, indicating that housing is somewhat affordable but may be becoming less so over time. Unaffordable: States with a score above 1.5, indicating that housing is significantly unaffordable relative to income levels and inflation rates.</p>
<p>Using a heat map, where each state is colored according to how affordable it is, with a legend showing the range of scores could offer a quick and simple way to discover states that have affordability scores that are consistently high or low over time, and how these scores fluctuate in relation to one another over time.</p>
<p>Did real incomes rise? With CPI prices for the states available between 2000 and 2023 and then compare median real incomes in these cities for the respective periods. First, we convert 2011 median incomes grouped by the city into 2018 dollars by using CPI’s of both time periods.</p>


<!-- -->

</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<script src="https://giscus.app/client.js" data-repo="DACSS/601_Spring_2023" data-repo-id="R_kgDOI4JcJA" data-category="Announcements" data-category-id="" data-mapping="title" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="light" data-lang="en" crossorigin="anonymous" async="">
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb19" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "Final Project Assignment#1: Project &amp; Data Description"</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="an">author:</span><span class="co"> "Rahul Somu"</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="an">description:</span><span class="co"> "Project &amp; Data Description"</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="an">date:</span><span class="co"> "04/18/2023"</span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a><span class="co">  html:</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a><span class="co">    df-print: paged</span></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a><span class="co">    toc: true</span></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a><span class="co">    code-copy: true</span></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a><span class="co">    code-tools: true</span></span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a><span class="co">    css: styles.css</span></span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a><span class="an">categories:</span></span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a><span class="co">  - final_Project_assignment_1</span></span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a><span class="co">  - final_project_data_description</span></span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a><span class="an">editor_options:</span><span class="co"> </span></span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a><span class="co">  chunk_output_type: console</span></span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb19-19"><a href="#cb19-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-22"><a href="#cb19-22" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb19-23"><a href="#cb19-23" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: setup</span></span>
<span id="cb19-24"><a href="#cb19-24" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb19-25"><a href="#cb19-25" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb19-26"><a href="#cb19-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-27"><a href="#cb19-27" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb19-28"><a href="#cb19-28" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb19-29"><a href="#cb19-29" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb19-30"><a href="#cb19-30" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb19-31"><a href="#cb19-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-32"><a href="#cb19-32" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">echo =</span> <span class="cn">TRUE</span>, <span class="at">warning=</span><span class="cn">FALSE</span>, <span class="at">message=</span><span class="cn">FALSE</span>)</span>
<span id="cb19-33"><a href="#cb19-33" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb19-34"><a href="#cb19-34" aria-hidden="true" tabindex="-1"></a><span class="fu">## Overview of the Final Project {#overview-of-the-final-project}</span></span>
<span id="cb19-35"><a href="#cb19-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-36"><a href="#cb19-36" aria-hidden="true" tabindex="-1"></a>Introduction:</span>
<span id="cb19-37"><a href="#cb19-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-38"><a href="#cb19-38" aria-hidden="true" tabindex="-1"></a>Housing affordability is one of the major problems in the United States. With many households struggling to afford the rising cost of housing, it is critical to analyze the data trends over the country. According to statistics from the U.S. Census Bureau on median household income by city and region from 1996 to the present, Housing affordability has changed significantly over the time.</span>
<span id="cb19-39"><a href="#cb19-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-40"><a href="#cb19-40" aria-hidden="true" tabindex="-1"></a>Although there has been general increase in median household income over the previous few decades, it has not been uniform across all the regions. Some regions have seen greater growth than others and similar swings have been observed in the median home prices, with some regions seeing more significant price increases than others. </span>
<span id="cb19-41"><a href="#cb19-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-42"><a href="#cb19-42" aria-hidden="true" tabindex="-1"></a>The widening disparity between median household incomes and median property prices is one of the most obvious patterns in the statistics which is becoming more challenging for many Americans to afford homeownership as median property prices in many locations have been rising more quickly than median household incomes. The affordability issue has also been made worse by the fact that, despite the median household income rising, it has not kept up with the cost of living.</span>
<span id="cb19-43"><a href="#cb19-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-44"><a href="#cb19-44" aria-hidden="true" tabindex="-1"></a>Overall, according to data from the U.S. Census Bureau, the affordability of housing has become a major worry over time, with many Americans finding it difficult to keep up with the rising cost of housing. The data emphasize the necessity of making policy changes to address the housing affordability crisis and guarantee that all Americans have access to safe, reasonably priced housing.</span>
<span id="cb19-45"><a href="#cb19-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-46"><a href="#cb19-46" aria-hidden="true" tabindex="-1"></a>As part of this project I’m trying to focus on below:</span>
<span id="cb19-47"><a href="#cb19-47" aria-hidden="true" tabindex="-1"></a>Visualize the trends in home values, the average household income, and inflation rates through time, broken down by area and city size.</span>
<span id="cb19-48"><a href="#cb19-48" aria-hidden="true" tabindex="-1"></a>Create graphs showing the evolution of housing affordability over time in the country's largest cities and how it differs by area and city size.</span>
<span id="cb19-49"><a href="#cb19-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-50"><a href="#cb19-50" aria-hidden="true" tabindex="-1"></a>Data Sources:</span>
<span id="cb19-51"><a href="#cb19-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-52"><a href="#cb19-52" aria-hidden="true" tabindex="-1"></a>As part of this project I found below resources that will help me understand the issue.</span>
<span id="cb19-53"><a href="#cb19-53" aria-hidden="true" tabindex="-1"></a>Zillow Home Value Index (ZHVI) - a dataset from Zillow with the median home value for each region and city in the United States from 1996 to the present.</span>
<span id="cb19-54"><a href="#cb19-54" aria-hidden="true" tabindex="-1"></a>https://www.kaggle.com/datasets/robikscube/zillow-home-value-index?resource=download</span>
<span id="cb19-55"><a href="#cb19-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-56"><a href="#cb19-56" aria-hidden="true" tabindex="-1"></a>U.S. Census Bureau data on median household income by city and region from 1996 to the present.</span>
<span id="cb19-57"><a href="#cb19-57" aria-hidden="true" tabindex="-1"></a>https://www.census.gov/data/tables/time-series/demo/income-poverty/historical-income-households.html</span>
<span id="cb19-58"><a href="#cb19-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-59"><a href="#cb19-59" aria-hidden="true" tabindex="-1"></a>U.S. Bureau of Labor Statistics data on inflation rates by region and year from 1996 to the present.</span>
<span id="cb19-60"><a href="#cb19-60" aria-hidden="true" tabindex="-1"></a>https://www.bls.gov/cpi/regional-resources.htm</span>
<span id="cb19-61"><a href="#cb19-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-62"><a href="#cb19-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-63"><a href="#cb19-63" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Util to Create a look up for states to region</span>
<span id="cb19-64"><a href="#cb19-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-67"><a href="#cb19-67" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb19-68"><a href="#cb19-68" aria-hidden="true" tabindex="-1"></a>state_to_region <span class="ot">&lt;-</span> <span class="cf">function</span>(state) {</span>
<span id="cb19-69"><a href="#cb19-69" aria-hidden="true" tabindex="-1"></a>  region_lookup <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb19-70"><a href="#cb19-70" aria-hidden="true" tabindex="-1"></a>    <span class="at">Northeast =</span> <span class="fu">c</span>(<span class="st">"Connecticut"</span>, <span class="st">"Maine"</span>, <span class="st">"Massachusetts"</span>, <span class="st">"New Hampshire"</span>, <span class="st">"New Jersey"</span>, <span class="st">"New York"</span>, <span class="st">"Pennsylvania"</span>, <span class="st">"Rhode Island"</span>, <span class="st">"Vermont"</span>),</span>
<span id="cb19-71"><a href="#cb19-71" aria-hidden="true" tabindex="-1"></a>    <span class="at">South =</span> <span class="fu">c</span>(<span class="st">"Delaware"</span>, <span class="st">"District of Columbia"</span>, <span class="st">"Florida"</span>, <span class="st">"Georgia"</span>, <span class="st">"Maryland"</span>, <span class="st">"North Carolina"</span>, <span class="st">"South Carolina"</span>, <span class="st">"Virginia"</span>, <span class="st">"West Virginia"</span>, <span class="st">"Alabama"</span>, <span class="st">"Kentucky"</span>, <span class="st">"Mississippi"</span>, <span class="st">"Tennessee"</span>, <span class="st">"Arkansas"</span>, <span class="st">"Louisiana"</span>, <span class="st">"Oklahoma"</span>, <span class="st">"Texas"</span>),</span>
<span id="cb19-72"><a href="#cb19-72" aria-hidden="true" tabindex="-1"></a>    <span class="at">Midwest =</span> <span class="fu">c</span>(<span class="st">"Illinois"</span>, <span class="st">"Indiana"</span>, <span class="st">"Michigan"</span>, <span class="st">"Ohio"</span>, <span class="st">"Wisconsin"</span>, <span class="st">"Iowa"</span>, <span class="st">"Kansas"</span>, <span class="st">"Minnesota"</span>, <span class="st">"Missouri"</span>, <span class="st">"Nebraska"</span>, <span class="st">"North Dakota"</span>, <span class="st">"South Dakota"</span>),</span>
<span id="cb19-73"><a href="#cb19-73" aria-hidden="true" tabindex="-1"></a>    <span class="at">West =</span> <span class="fu">c</span>(<span class="st">"Arizona"</span>, <span class="st">"Colorado"</span>, <span class="st">"Idaho"</span>, <span class="st">"Montana"</span>, <span class="st">"Nevada"</span>, <span class="st">"New Mexico"</span>, <span class="st">"Utah"</span>, <span class="st">"Wyoming"</span>, <span class="st">"Alaska"</span>, <span class="st">"California"</span>, <span class="st">"Hawaii"</span>, <span class="st">"Oregon"</span>, <span class="st">"Washington"</span>)</span>
<span id="cb19-74"><a href="#cb19-74" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb19-75"><a href="#cb19-75" aria-hidden="true" tabindex="-1"></a>  region <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb19-76"><a href="#cb19-76" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (r <span class="cf">in</span> <span class="fu">names</span>(region_lookup)) {</span>
<span id="cb19-77"><a href="#cb19-77" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (state <span class="sc">%in%</span> region_lookup[[r]]) {</span>
<span id="cb19-78"><a href="#cb19-78" aria-hidden="true" tabindex="-1"></a>      region <span class="ot">&lt;-</span> r</span>
<span id="cb19-79"><a href="#cb19-79" aria-hidden="true" tabindex="-1"></a>      <span class="cf">break</span></span>
<span id="cb19-80"><a href="#cb19-80" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb19-81"><a href="#cb19-81" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb19-82"><a href="#cb19-82" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(region)</span>
<span id="cb19-83"><a href="#cb19-83" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb19-84"><a href="#cb19-84" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-85"><a href="#cb19-85" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb19-86"><a href="#cb19-86" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-87"><a href="#cb19-87" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>Read The Datasets</span>
<span id="cb19-88"><a href="#cb19-88" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-91"><a href="#cb19-91" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb19-92"><a href="#cb19-92" aria-hidden="true" tabindex="-1"></a>income_data <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"Rahul_Final_projectData/income_state.xlsx"</span>)</span>
<span id="cb19-93"><a href="#cb19-93" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-94"><a href="#cb19-94" aria-hidden="true" tabindex="-1"></a>df_inflation <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"Rahul_Final_projectData/USA_inflation_data.xlsx"</span>)</span>
<span id="cb19-95"><a href="#cb19-95" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-96"><a href="#cb19-96" aria-hidden="true" tabindex="-1"></a>df_rentalindex <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"Rahul_Final_projectData/ZHVI.csv"</span>)</span>
<span id="cb19-97"><a href="#cb19-97" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-98"><a href="#cb19-98" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb19-99"><a href="#cb19-99" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-100"><a href="#cb19-100" aria-hidden="true" tabindex="-1"></a><span class="ss">3. </span>Create functions for getting data for each state</span>
<span id="cb19-103"><a href="#cb19-103" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb19-104"><a href="#cb19-104" aria-hidden="true" tabindex="-1"></a><span class="co">#Function to get income data by state and year</span></span>
<span id="cb19-105"><a href="#cb19-105" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-106"><a href="#cb19-106" aria-hidden="true" tabindex="-1"></a>get_median_se <span class="ot">&lt;-</span> <span class="cf">function</span>(income_data, year, state){</span>
<span id="cb19-107"><a href="#cb19-107" aria-hidden="true" tabindex="-1"></a>  rownum <span class="ot">&lt;-</span> <span class="fu">which</span>(income_data<span class="sc">$</span>State <span class="sc">==</span> state)</span>
<span id="cb19-108"><a href="#cb19-108" aria-hidden="true" tabindex="-1"></a>  colnum <span class="ot">&lt;-</span> <span class="fu">which</span>(<span class="fu">colnames</span>(income_data) <span class="sc">==</span> year)</span>
<span id="cb19-109"><a href="#cb19-109" aria-hidden="true" tabindex="-1"></a>  median_income <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(income_data[rownum, colnum])</span>
<span id="cb19-110"><a href="#cb19-110" aria-hidden="true" tabindex="-1"></a>  se <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(income_data[rownum, colnum<span class="sc">+</span><span class="dv">1</span>])</span>
<span id="cb19-111"><a href="#cb19-111" aria-hidden="true" tabindex="-1"></a>  <span class="co">#diff &lt;- median_income - se</span></span>
<span id="cb19-112"><a href="#cb19-112" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(<span class="fu">c</span>(<span class="fu">as.character</span>(median_income), <span class="fu">as.character</span>(se)))</span>
<span id="cb19-113"><a href="#cb19-113" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb19-114"><a href="#cb19-114" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-115"><a href="#cb19-115" aria-hidden="true" tabindex="-1"></a><span class="fu">get_median_se</span>(income_data, <span class="st">"2021"</span>, <span class="st">"Alabama"</span>)</span>
<span id="cb19-116"><a href="#cb19-116" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-117"><a href="#cb19-117" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-118"><a href="#cb19-118" aria-hidden="true" tabindex="-1"></a><span class="co">#Function to get inflation data</span></span>
<span id="cb19-119"><a href="#cb19-119" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-120"><a href="#cb19-120" aria-hidden="true" tabindex="-1"></a>avg_by_region_and_year <span class="ot">&lt;-</span> <span class="cf">function</span>(df, state, year) {</span>
<span id="cb19-121"><a href="#cb19-121" aria-hidden="true" tabindex="-1"></a>  region <span class="ot">&lt;-</span> <span class="fu">state_to_region</span>(state)</span>
<span id="cb19-122"><a href="#cb19-122" aria-hidden="true" tabindex="-1"></a>  subset_df <span class="ot">&lt;-</span> <span class="fu">subset</span>(df, Region <span class="sc">==</span> region <span class="sc">&amp;</span> Year <span class="sc">==</span> year)</span>
<span id="cb19-123"><a href="#cb19-123" aria-hidden="true" tabindex="-1"></a>  row_avgs <span class="ot">&lt;-</span> <span class="fu">apply</span>(subset_df[, <span class="dv">4</span><span class="sc">:</span><span class="fu">ncol</span>(subset_df)], <span class="dv">1</span>, mean, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb19-124"><a href="#cb19-124" aria-hidden="true" tabindex="-1"></a>  overall_avg <span class="ot">&lt;-</span> <span class="fu">mean</span>(row_avgs, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb19-125"><a href="#cb19-125" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(overall_avg)</span>
<span id="cb19-126"><a href="#cb19-126" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb19-127"><a href="#cb19-127" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-128"><a href="#cb19-128" aria-hidden="true" tabindex="-1"></a><span class="co"># example usage</span></span>
<span id="cb19-129"><a href="#cb19-129" aria-hidden="true" tabindex="-1"></a><span class="fu">avg_by_region_and_year</span>(df_inflation, <span class="st">"Texas"</span>, <span class="dv">2000</span>)</span>
<span id="cb19-130"><a href="#cb19-130" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-131"><a href="#cb19-131" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-132"><a href="#cb19-132" aria-hidden="true" tabindex="-1"></a>df_rentalindex<span class="sc">$</span>Date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(df_rentalindex<span class="sc">$</span>Date, <span class="at">format =</span> <span class="st">"%Y-%m-%d"</span>)</span>
<span id="cb19-133"><a href="#cb19-133" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-134"><a href="#cb19-134" aria-hidden="true" tabindex="-1"></a><span class="co"># function to calculate average rental index for a state and year</span></span>
<span id="cb19-135"><a href="#cb19-135" aria-hidden="true" tabindex="-1"></a>get_state_rentalindex <span class="ot">&lt;-</span> <span class="cf">function</span>(df,state, year) {</span>
<span id="cb19-136"><a href="#cb19-136" aria-hidden="true" tabindex="-1"></a>  df_filtered <span class="ot">&lt;-</span> <span class="fu">subset</span>(df, <span class="fu">format</span>(<span class="fu">as.Date</span>(Date), <span class="st">"%Y"</span>) <span class="sc">==</span> year)</span>
<span id="cb19-137"><a href="#cb19-137" aria-hidden="true" tabindex="-1"></a>  state_avg <span class="ot">&lt;-</span> <span class="fu">mean</span>(df_filtered[[state]])</span>
<span id="cb19-138"><a href="#cb19-138" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(state_avg)</span>
<span id="cb19-139"><a href="#cb19-139" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb19-140"><a href="#cb19-140" aria-hidden="true" tabindex="-1"></a><span class="co"># example usage</span></span>
<span id="cb19-141"><a href="#cb19-141" aria-hidden="true" tabindex="-1"></a><span class="fu">get_state_rentalindex</span>(df_rentalindex,<span class="st">"California"</span>, <span class="st">"2000"</span>)</span>
<span id="cb19-142"><a href="#cb19-142" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-143"><a href="#cb19-143" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb19-144"><a href="#cb19-144" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-145"><a href="#cb19-145" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-146"><a href="#cb19-146" aria-hidden="true" tabindex="-1"></a><span class="ss">2.  </span>present the descriptive information of the dataset(s) using the functions in Challenges 1, 2, and 3;</span>
<span id="cb19-147"><a href="#cb19-147" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-150"><a href="#cb19-150" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb19-151"><a href="#cb19-151" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(income_data)</span>
<span id="cb19-152"><a href="#cb19-152" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(df_inflation)</span>
<span id="cb19-153"><a href="#cb19-153" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(df_rentalindex)</span>
<span id="cb19-154"><a href="#cb19-154" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(income_data)</span>
<span id="cb19-155"><a href="#cb19-155" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb19-156"><a href="#cb19-156" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-157"><a href="#cb19-157" aria-hidden="true" tabindex="-1"></a><span class="ss">3.  </span>conduct summary statistics of the dataset(s); especially show the basic statistics (min, max, mean, median, etc.) for the variables you are interested in.</span>
<span id="cb19-158"><a href="#cb19-158" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-161"><a href="#cb19-161" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb19-162"><a href="#cb19-162" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(df_rentalindex)</span>
<span id="cb19-163"><a href="#cb19-163" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb19-164"><a href="#cb19-164" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-165"><a href="#cb19-165" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-166"><a href="#cb19-166" aria-hidden="true" tabindex="-1"></a>Visualisation:</span>
<span id="cb19-167"><a href="#cb19-167" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-168"><a href="#cb19-168" aria-hidden="true" tabindex="-1"></a>To visualize the affordability, I’m planning the states into three categories : "Highly Affordable and Healthy", "Moderately Affordable and Healthy", and "Unaffordable and Unhealthy”. To categorize the states, a composite index that takes into account of major factors as Zillow Home Value Index (ZHVI) , median household income by state, inflation rates by region. </span>
<span id="cb19-169"><a href="#cb19-169" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-170"><a href="#cb19-170" aria-hidden="true" tabindex="-1"></a>Variables: Zillow Home Value Index (ZHVI) - Measure of median home value in each state, </span>
<span id="cb19-171"><a href="#cb19-171" aria-hidden="true" tabindex="-1"></a>Median household income by state - average income earned by households in each state, </span>
<span id="cb19-172"><a href="#cb19-172" aria-hidden="true" tabindex="-1"></a>Inflation rates by region - Measure of change in prices of goods and services over time in each region.</span>
<span id="cb19-173"><a href="#cb19-173" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-174"><a href="#cb19-174" aria-hidden="true" tabindex="-1"></a>Index on healthy housing affordability could be done using below formula:</span>
<span id="cb19-175"><a href="#cb19-175" aria-hidden="true" tabindex="-1"></a>Affordability Score = (ZHVI / Income) * (1 + Inflation)</span>
<span id="cb19-176"><a href="#cb19-176" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-177"><a href="#cb19-177" aria-hidden="true" tabindex="-1"></a>Based on the Affordability Score, we could categorize states into different tiers of affordability, such as:</span>
<span id="cb19-178"><a href="#cb19-178" aria-hidden="true" tabindex="-1"></a>Affordable: States with a score below 1.0, indicating that housing is relatively affordable compared to income levels.</span>
<span id="cb19-179"><a href="#cb19-179" aria-hidden="true" tabindex="-1"></a>Moderately Affordable: States with a score between 1.0 and 1.5, indicating that housing is somewhat affordable but may be becoming less so over time.</span>
<span id="cb19-180"><a href="#cb19-180" aria-hidden="true" tabindex="-1"></a>Unaffordable: States with a score above 1.5, indicating that housing is significantly unaffordable relative to income levels and inflation rates.</span>
<span id="cb19-181"><a href="#cb19-181" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-182"><a href="#cb19-182" aria-hidden="true" tabindex="-1"></a>Using a heat map, where each state is colored according to how affordable it is, with a legend showing the range of scores could offer a quick and simple way to discover states that have affordability scores that are consistently high or low over time, and how these scores fluctuate in relation to one another over time.</span>
<span id="cb19-183"><a href="#cb19-183" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-184"><a href="#cb19-184" aria-hidden="true" tabindex="-1"></a>Did real incomes rise?</span>
<span id="cb19-185"><a href="#cb19-185" aria-hidden="true" tabindex="-1"></a>With CPI prices for the states available between 2000 and 2023 and then compare median real incomes in these cities for the respective periods. First, we convert 2011 median incomes grouped by the city into 2018 dollars by using CPI’s of both time periods.</span>
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->



</body></html>